import{_ as l,d as f,a as g,u as _,x as d,p as C,aq as E,s as h,o as x,c as b,b as S,C as n,k as v,aj as N}from"./entry-87b30bf9.mjs";import{F as P}from"./FormComponent-a5bf4060.mjs";import"./asyncData-43007f1d.mjs";import"./Icon-fefadd4a.mjs";import"./useDateHelper-e4869b7b.mjs";import"./Editor-bac1da7c.mjs";import"./Tooltip-52fdeb63.mjs";import"./use-outside-click-8678eb71.mjs";import"./use-resolve-button-type-a71a440e.mjs";import"./dialog-f5e7a3df.mjs";import"./FileManager-1911a0cd.mjs";import"./TextField-1d5b5a19.mjs";import"./transition-3b170868.mjs";import"./CheckboxField-d03e3edb.mjs";const w=f({setup(u,{expose:t}){t();const o=g(),e=_(),i=d(),p=C("page-creation",()=>({content:"",isPublished:!1,showInMenu:!1})),s=E(),a=h(),c={pageStore:o,route:e,app:i,pageCreation:p,pageLogStore:s,notificationStore:a,submit:async(r,m)=>{r.isPublished==="true"&&(r.isPublished=!1),r.showInMenu==="true"&&(r.showInMenu=!1);try{await o.create(r),a.showMessage("Page correctement cr\xE9e"),N({name:"admin-pages-slug",params:{slug:o[n.CREATION].created.url}})}catch{a.showError("Erreur dans la cr\xE9ation la page, v\xE9rifie le formulaire"),m.setErrors(o[n.CREATION].violations)}},FormComponent:P,CRUD_MODE:n};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),I={class:"flex flex-col flex-auto p-3"},M=v("h1",{class:"mb-4"},"Cr\xE9ation d'une page",-1);function O(u,t,o,e,i,p){return x(),b("div",I,[M,S(e.FormComponent,{page:e.pageCreation,"onUpdate:page":t[0]||(t[0]=s=>e.pageCreation=s),"submit-handler":e.submit,errors:e.pageStore[e.CRUD_MODE.CREATION].violations},null,8,["page","errors"])])}var J=l(w,[["render",O]]);export{J as default};
