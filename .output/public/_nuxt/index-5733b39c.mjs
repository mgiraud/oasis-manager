import{_ as b,d as T,m as y,E as S,q as k,o as n,c as l,F as m,l as v,n as f,t as g,u as P,r as $,b as _,w,k as p,g as h,ak as I}from"./entry-87b30bf9.mjs";import{u as A}from"./asyncData-43007f1d.mjs";import{P as j}from"./PreviewImage-41681f28.mjs";import{I as B}from"./Icon-fefadd4a.mjs";const O=T({async setup(x,{expose:i}){i();let c,e;const r=y(),{tags:o,activeTags:t}=S(r);[c,e]=k(()=>A("blog-tags",()=>r.fetchTags())),await c,e();const s={articleStore:r,tags:o,activeTags:t,toggleTag:a=>{t.value.indexOf(a)!==-1?r.$patch({activeTags:t.value.filter(u=>u!==a)}):(t.value.push(a),r.$patch({activeTags:t.value}))}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),N={class:"flex bg-white flex-row flex-wrap px-3 justify-center h-fit"},E=["onClick"];function R(x,i,c,e,r,o){return n(),l("div",N,[(n(!0),l(m,null,v(e.tags,(t,d)=>(n(),l("div",{key:d,class:f(["text-white uppercase px-2 py-1 rounded-tl-lg rounded-br-lg mx-1 text-xs cursor-pointer w-fit h-fit",{"bg-primary-dark":e.activeTags.indexOf(t)!==-1,"bg-primary":e.activeTags.indexOf(t)===-1}]),onClick:s=>e.toggleTag(t)},g(t),11,E))),128))])}var V=b(O,[["render",R]]);const D=T({async setup(x,{expose:i}){i();let c,e;const r=P(),o=y();[c,e]=k(()=>A("blog-articles-index",()=>o.fetchAll({"order[createdAt]":"desc",itemsPerPage:50}))),await c,e();const t=o.listWithActiveTags,s={route:r,blogArticleStore:o,articles:t,setActiveTag:a=>{o.$patch({activeTags:[a]})},PreviewImage:j,TagCloud:V,Icon:B};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),F={class:"flex bg-white flex-auto flex-col px-3"},L=h("Blog"),q={class:"w-full flex flex-row py-2"},z={class:"w-full"},W=["onClick"],G=h("En savoir plus");function H(x,i,c,e,r,o){const t=$("Title"),d=I;return n(),l("div",F,[_(t,null,{default:w(()=>[L]),_:1}),_(e.TagCloud),(n(!0),l(m,null,v(e.articles,(s,a)=>(n(),l("div",q,[p("div",{class:f([{"order-1":a%2===1},"px-3 w-40"])},[_(e.PreviewImage,{"media-object":e.blogArticleStore.getRandomImage(s),class:"h-20 before:text-[6px]"},null,8,["media-object"])],2),p("div",{class:f([{"text-right":a%2===1},"flex flex-col w-full"])},[p("p",z,[p("b",null,g(s.title),1),h(" | "+g(s.preview),1)]),p("div",{class:f([{"self-end":a%2===1},"pt-2 text-primary-dark fill-primary-dark flex uppercase text-xs items-center"])},[(n(!0),l(m,null,v(s.tags,(u,C)=>(n(),l("div",{key:C,class:"bg-primary-dark text-white uppercase px-2 py-1 rounded-tl-lg rounded-br-lg mx-1 text-xs cursor-pointer",onClick:J=>e.setActiveTag(u)},g(u),9,W))),128)),_(e.Icon,{icon:"ri-arrow-right-s-line",class:"h-4 w-4"}),_(d,{to:{name:"blog-id",params:{id:s.id}}},{default:w(()=>[G]),_:2},1032,["to"])],2)],2)]))),256))])}var X=b(D,[["render",H]]);export{X as default};
