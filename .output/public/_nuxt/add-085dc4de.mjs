import{_ as p,d as u,m as d,u as _,x as f,p as b,s as C,o as E,c as x,b as h,C as a,k as A,aj as S}from"./entry-87b30bf9.mjs";import{F as v}from"./FormComponent-2f0f58f8.mjs";import"./asyncData-43007f1d.mjs";import"./Editor-bac1da7c.mjs";import"./Tooltip-52fdeb63.mjs";import"./Icon-fefadd4a.mjs";import"./use-outside-click-8678eb71.mjs";import"./use-resolve-button-type-a71a440e.mjs";import"./dialog-f5e7a3df.mjs";import"./FileManager-1911a0cd.mjs";import"./TextField-1d5b5a19.mjs";import"./transition-3b170868.mjs";import"./CheckboxField-d03e3edb.mjs";const N=u({setup(l,{expose:o}){o();const t=d(),e=_(),s=f(),n=b("article-creation",()=>({content:"",isPublished:!1})),r=C(),c={blogArticleStore:t,route:e,app:s,articleCreation:n,notificationStore:r,submit:async(i,m)=>{i.isPublished==="true"&&(i.isPublished=!1);try{await t.create(i),r.showMessage("Article correctement cr\xE9e"),S({name:"admin-blog-id",params:{id:t[a.CREATION].created.id}})}catch{r.showError("Erreur dans la cr\xE9ation l'article, v\xE9rifie le formulaire"),m.setErrors(t[a.CREATION].violations)}},FormComponent:v,CRUD_MODE:a};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),g={class:"flex flex-col flex-auto p-3"},O=A("h1",{class:"mb-4"},"Cr\xE9ation d'une article",-1);function R(l,o,t,e,s,n){return E(),x("div",g,[O,h(e.FormComponent,{article:e.articleCreation,"onUpdate:article":o[0]||(o[0]=r=>e.articleCreation=r),"submit-handler":e.submit,errors:e.blogArticleStore[e.CRUD_MODE.CREATION].violations},null,8,["article","errors"])])}var G=p(N,[["render",R]]);export{G as default};
