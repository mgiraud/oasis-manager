import{_ as l,d as f,a as g,u as _,v as d,m as C,ar as E,q as h,o as b,c as x,b as S,C as n,j as v,ak as N}from"./entry-bbf0cde0.mjs";import{F as P}from"./FormComponent-0cada11f.mjs";import"./asyncData-ab30f611.mjs";import"./Icon-ca36084c.mjs";import"./useDateHelper-c6a748de.mjs";import"./FileManager-c1dc257e.mjs";import"./use-outside-click-545a1624.mjs";import"./transition-b8498542.mjs";import"./dialog-082ab9cf.mjs";import"./TextField-52f43e27.mjs";import"./CheckboxField-6dd604a6.mjs";import"./Editor-e4ccd61e.mjs";import"./calculate-active-index-130b59fd.mjs";const w=f({setup(u,{expose:t}){t();const o=g(),e=_(),i=d(),p=C("page-creation",()=>({content:"",isPublished:!1,showInMenu:!1})),a=E(),s=h(),c={pageStore:o,route:e,app:i,pageCreation:p,pageLogStore:a,notificationStore:s,submit:async(r,m)=>{r.isPublished==="true"&&(r.isPublished=!1),r.showInMenu==="true"&&(r.showInMenu=!1);try{await o.create(r),s.showMessage("Page correctement cr\xE9e"),N({name:"admin-pages-slug",params:{slug:o[n.CREATION].created.url}})}catch{s.showError("Erreur dans la cr\xE9ation la page, v\xE9rifie le formulaire"),m.setErrors(o[n.CREATION].violations)}},FormComponent:P,CRUD_MODE:n};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),I={class:"flex flex-col flex-auto p-3"},M=v("h1",{class:"mb-4"},"Cr\xE9ation d'une page",-1);function O(u,t,o,e,i,p){return b(),x("div",I,[M,S(e.FormComponent,{page:e.pageCreation,"onUpdate:page":t[0]||(t[0]=a=>e.pageCreation=a),"submit-handler":e.submit,errors:e.pageStore[e.CRUD_MODE.CREATION].violations},null,8,["page","errors"])])}var H=l(w,[["render",O]]);export{H as default};
