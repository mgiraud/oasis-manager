(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{620:function(t,e,r){"use strict";r(35);var o=r(11),n=r(21),c=r(19),l=r(18),v=r(6),d=r(14),f=(r(5),r(27),r(44),r(20)),m=r(213),h=r(131),y=r.n(h),O=r(211),j=r(605);function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=Object(v.a)(t);if(e){var n=Object(v.a)(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Object(l.a)(this,r)}}var _=function(t,e,r,desc){var o,n=arguments.length,c=n<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(n<3?o(c):n>3?o(e,r,c):o(e,r))||c);return n>3&&c&&Object.defineProperty(e,r,c),c},R=m.helpers.regex("slug",/^[a-zA-Z0-9-]*$/),w=Object(f.namespace)("page_category"),x=function(t){Object(c.a)(r,t);var e=$(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(n.a)(r,[{key:"item",get:function(){return this.initialValues||this.values}},{key:"titleErrors",get:function(){var t=[];return this.$v.item.title&&this.$v.item.title.$dirty?(y()(this.violations,"title")&&t.push(this.violations.title),!this.$v.item.title.minLength&&t.push("Le titre doit faire au moins 4 caractères"),t):t}},{key:"urlErrors",get:function(){var t=[];return this.$v.item.url&&this.$v.item.url.$dirty?(y()(this.violations,"url")&&t.push(this.violations.url),!this.$v.item.url.minLength&&t.push("Le titre doit faire au moins 2 caractères"),!this.$v.item.url.slug&&t.push("L'url doit contenir seulement des chiffres, des lettres et le tiret du haut -"),t):t}},{key:"contentErrors",get:function(){var t=[];return this.$v.item.content&&this.$v.item.content.$dirty?(y()(this.violations,"url")&&t.push(this.violations.content),!this.$v.item.content.slug&&t.push("Le titre doit faire au moins 2 caractères"),t):t}},{key:"violations",get:function(){return this.errors||{}}},{key:"mounted",value:function(){this.categoryGetSelectItems()}}]),r}(Object(f.mixins)(O.validationMixin));_([Object(f.Prop)({type:Object,required:!0})],x.prototype,"values",void 0),_([Object(f.Prop)({type:Object,default:function(){}})],x.prototype,"errors",void 0),_([Object(f.Prop)({type:Object,default:function(){}})],x.prototype,"initialValues",void 0),_([w.State("selectItems")],x.prototype,"categorySelectItems",void 0),_([w.Action("fetchSelectItems")],x.prototype,"categoryGetSelectItems",void 0);var P=x=_([Object(f.Component)({name:"AdminPageForm",components:{Editor:j.a},validations:{item:{title:{required:m.required,minLength:Object(m.minLength)(4)},url:{required:m.required,minLength:Object(m.minLength)(2),slug:R},content:{}}}})],x),k=r(31),E=r(40),S=r.n(E),L=r(551),A=r(604),V=r(557),C=r(549),I=r(553),F=r(703),D=r(536),component=Object(k.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Titre","error-messages":t.titleErrors,required:""},on:{input:function(e){return t.$v.item.title.$touch()},blur:function(e){return t.$v.item.title.$touch()}},model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{label:"Url","error-messages":t.urlErrors,required:""},on:{input:function(e){return t.$v.item.url.$touch()},blur:function(e){return t.$v.item.url.$touch()}},model:{value:t.item.url,callback:function(e){t.$set(t.item,"url",e)},expression:"item.url"}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-switch",{attrs:{label:"Publier","input-value":"true"},model:{value:t.item.isPublished,callback:function(e){t.$set(t.item,"isPublished",e)},expression:"item.isPublished"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-switch",{attrs:{label:"Ajouter au menu","input-value":"true"},model:{value:t.item.showInMenu,callback:function(e){t.$set(t.item,"showInMenu",e)},expression:"item.showInMenu"}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[t.categorySelectItems?r("v-combobox",{attrs:{items:t.categorySelectItems,"no-data-text":"Aucune catégorie n'a ce nom",label:"category","item-text":"name","item-value":"@id","return-object":!1,clearable:""},model:{value:t.item.category,callback:function(e){t.$set(t.item,"category",e)},expression:"item.category"}}):t._e()],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("ClientOnly",[void 0!==t.item.content?r("Editor",{model:{value:t.item.content,callback:function(e){t.$set(t.item,"content",e)},expression:"item.content"}}):t._e()],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;S()(component,{VCol:L.a,VCombobox:A.a,VContainer:V.a,VForm:C.a,VRow:I.a,VSwitch:F.a,VTextField:D.a})},751:function(t,e,r){"use strict";r.r(e);r(35);var o=r(11),n=r(21),c=r(19),l=r(18),v=r(6),d=r(14),f=(r(5),r(20)),m=r(560),h=r(561),y=r(620),O=r(599);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=Object(v.a)(t);if(e){var n=Object(v.a)(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Object(l.a)(this,r)}}var $=function(t,e,r,desc){var o,n=arguments.length,c=n<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(n<3?o(c):n>3?o(e,r,c):o(e,r))||c);return n>3&&c&&Object.defineProperty(e,r,c),c},_=Object(f.namespace)("page"),R=function(t){Object(c.a)(r,t);var e=j(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(n.a)(r,[{key:"canDeletePage",get:function(){return this.hasPermission("USER_CAN_DELETE_PAGES")}}]),r}(Object(f.mixins)(O.a));$([_.State("updated")],R.prototype,"updated",void 0),$([_.State("error")],R.prototype,"error",void 0),$([_.State("isLoading")],R.prototype,"isLoading",void 0),$([_.State("violations")],R.prototype,"violations",void 0),$([_.Getter("find")],R.prototype,"find",void 0),$([_.Action("resetCreate")],R.prototype,"createReset",void 0),$([_.Action("resetDelete")],R.prototype,"delReset",void 0),$([_.Action("load")],R.prototype,"retrieve",void 0),$([_.Action("update")],R.prototype,"update",void 0),$([_.Action("resetUpdate")],R.prototype,"updateReset",void 0);var w=R=$([Object(f.Component)({components:{Loading:m.a,Toolbar:h.a,Form:y.a},servicePrefix:"admin-page",resourcePrefix:"/api/pages/",middleware:"hasPermissions",meta:{permissions:["USER_CAN_EDIT_PAGES"]}})],R),x=r(31),P=r(40),k=r.n(P),E=r(716),S=r(551),L=r(557),A=r(553),component=Object(x.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.error?r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-alert",{attrs:{type:"error"}},[t._v("\n        "+t._s(t.error)+"\n      ")])],1)],1):t._e(),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[t.item?r("Form",{ref:"updateForm",attrs:{values:t.item,errors:t.violations}}):t._e()],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("Toolbar",{attrs:{"handle-submit":t.onSendForm,"handle-reset":t.resetForm,"handle-delete":t.canDeletePage?t.del:null,"handle-back":t.back},scopedSlots:t._u([{key:"left",fn:function(){return[t.item?r("h1",[t._v("\n            Edit "+t._s(t.item.url)+"\n          ")]):t._e()]},proxy:!0}])})],1)],1),t._v(" "),r("Loading",{attrs:{visible:t.isLoading}})],1)}),[],!1,null,null,null);e.default=component.exports;k()(component,{VAlert:E.a,VCol:S.a,VContainer:L.a,VRow:A.a})}}]);