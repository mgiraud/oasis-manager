(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{555:function(e,t,n){"use strict";n(35);var r=n(11),o=n(21),c=n(19),l=n(18),d=n(6),f=n(14),v=(n(5),n(20));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(c.a)(n,e);var t=h(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"show",get:function(){return this.visible},set:function(e){e||this.$emit("close")}}]),n}(v.Vue);m([Object(v.Prop)({type:Function,default:function(){}})],y.prototype,"handleDelete",void 0),m([Object(v.Prop)({type:Boolean,default:!0,required:!1})],y.prototype,"visible",void 0);var O=y=m([Object(v.Component)({name:"ConfirmDelete"})],y),j=n(30),_=n(40),k=n.n(_),R=n(121),x=n(203),w=n(161),P=n(687),C=n(550),component=Object(j.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[n("v-card-text",[e._v("Are you sure you want to delete this item?")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"error darken-1"},on:{click:e.handleDelete}},[e._v("\n        Delete\n      ")]),e._v(" "),n("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(t){t.stopPropagation(),e.show=!1}}},[e._v("\n        Cancel\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;k()(component,{VBtn:R.a,VCard:x.a,VCardActions:w.a,VCardText:w.b,VDialog:P.a,VSpacer:C.a})},556:function(e,t,n){"use strict";n(35);var r=n(11),o=n(19),c=n(18),l=n(6),d=n(14),f=(n(5),n(20));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(f.Vue);h([Object(f.Prop)({type:Boolean,required:!0})],m.prototype,"visible",void 0);var y=m=h([f.Component],m),O=n(30),j=n(40),_=n.n(j),k=n(202),R=n(163),component=Object(O.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("v-overlay",{attrs:{value:e.visible}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)}),[],!1,null,null,null);t.a=component.exports;_()(component,{VOverlay:k.a,VProgressCircular:R.a})},557:function(e,t,n){"use strict";n(35);var r=n(11),o=n(21),c=n(19),l=n(18),d=n(6),f=n(14),v=(n(5),n(20)),h=n(555);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},O=function(e){Object(c.a)(n,e);var t=m(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).confirmDelete=!1,e}return Object(o.a)(n,[{key:"goBack",value:function(){this.handleBack&&this.handleBack()}},{key:"addItem",value:function(){this.handleAdd&&this.handleAdd()}},{key:"editItem",value:function(){this.handleEdit&&this.handleEdit()}},{key:"submitItem",value:function(){this.handleSubmit&&this.handleSubmit()}},{key:"resetItem",value:function(){this.handleReset&&this.handleReset()}}]),n}(v.Vue);y([Object(v.Prop)({type:Function,default:null})],O.prototype,"handleBack",void 0),y([Object(v.Prop)({type:Function,default:null})],O.prototype,"handleEdit",void 0),y([Object(v.Prop)({type:Function,default:null})],O.prototype,"handleSubmit",void 0),y([Object(v.Prop)({type:Function,default:null})],O.prototype,"handleReset",void 0),y([Object(v.Prop)({type:Function,default:null})],O.prototype,"handleDelete",void 0),y([Object(v.Prop)({type:Function,default:null})],O.prototype,"handleAdd",void 0),y([Object(v.Prop)({type:String,default:"",required:!1})],O.prototype,"title",void 0),y([Object(v.Prop)({type:Boolean,default:!1,required:!1})],O.prototype,"isLoading",void 0);var j=O=y([Object(v.Component)({name:"Toolbar",components:{ConfirmDelete:h.a}})],O),_=n(30),k=n(40),R=n.n(k),x=n(121),w=n(198),P=n(550),C=n(49),component=Object(_.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{attrs:{flat:"",bottom:""}},[e._t("left"),e._v(" "),n("v-spacer"),e._v(" "),n("div",[e.handleBack?n("v-btn",{attrs:{loading:e.isLoading,color:"primary"},on:{click:e.goBack}},[e._v("\n      Retour\n    ")]):e._e(),e._v(" "),e.handleEdit?n("v-btn",{attrs:{loading:e.isLoading,color:"primary"},on:{click:e.editItem}},[e._v("\n      Editer\n    ")]):e._e(),e._v(" "),e.handleSubmit?n("v-btn",{attrs:{loading:e.isLoading,color:"primary"},on:{click:e.submitItem}},[e._v("\n      Envoyer\n    ")]):e._e(),e._v(" "),e.handleReset?n("v-btn",{staticClass:"ml-sm-2",on:{click:e.resetItem}},[e._v("\n      Reinitialiser\n    ")]):e._e(),e._v(" "),e.handleDelete?n("v-btn",{staticClass:"ml-sm-2",attrs:{color:"error"},on:{click:function(t){e.confirmDelete=!0}}},[e._v("\n      Supprimer\n    ")]):e._e(),e._v(" "),e.handleAdd?n("v-btn",{attrs:{color:"primary",rounded:""},on:{click:e.addItem}},[n("v-icon",[e._v("ri-add-line")])],1):e._e()],1),e._v(" "),e.handleDelete?n("ConfirmDelete",{attrs:{visible:e.confirmDelete,"handle-delete":e.handleDelete},on:{close:function(t){e.confirmDelete=!1}}}):e._e()],2)}),[],!1,null,null,null);t.a=component.exports;R()(component,{VBtn:x.a,VIcon:w.a,VSpacer:P.a,VToolbar:C.a})},574:function(e,t,n){"use strict";n(35);var r=n(11),o=n(21),c=n(19),l=n(18),d=n(6),f=n(14),v=(n(5),n(55),n(20)),h=n(209),m=n(210);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},j=Object(v.namespace)("security"),_=function(e){Object(c.a)(n,e);var t=y(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).item={},e}return Object(o.a)(n,[{key:"onCreated",value:function(e){if(null!==e){var t=this.$options.resourcePrefix?e["@id"].replace(this.$options.resourcePrefix,""):this.$options.resourcePrefix;this.showMessage("".concat(t," created")),t&&this.$router.push({name:"".concat(this.$options.servicePrefix,"-id"),params:{id:t}})}}},{key:"onSendForm",value:function(){var e=this.$refs.createForm;e.$v.$touch(),e.$v.$invalid||this.create(e.$v.item.$model)}},{key:"resetForm",value:function(){this.$refs.createForm.$v.$reset(),this.item={}}},{key:"onItemCreated",value:function(e){e&&this.onCreated(e)}},{key:"onError",value:function(e){e&&this.showError(e)}}]),n}(Object(v.mixins)(m.a));O([j.Getter("hasPermission")],_.prototype,"hasPermission",void 0),O([Object(v.Watch)("created")],_.prototype,"onItemCreated",null),O([Object(v.Watch)("error")],_.prototype,"onError",null),_=O([Object(v.Component)({mixins:[h.validationMixin]})],_),t.a=_},584:function(e,t,n){var content=n(605);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("5cc24a03",content,!0,{sourceMap:!1})},585:function(e,t,n){var content=n(607);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("5d82cefd",content,!0,{sourceMap:!1})},586:function(e,t,n){var content=n(609);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("52a9f72b",content,!0,{sourceMap:!1})},604:function(e,t,n){"use strict";n(584)},605:function(e,t,n){var r=n(15)(!1);r.push([e.i,".img-container{position:relative;display:inline-block;line-height:0}.img-container.is-active{border:1px dashed grey}.handle{position:absolute;bottom:0;right:0;width:10px;height:10px;border:3px solid #000;border-top:none;border-left:none;cursor:nwse-resize}",""]),e.exports=r},606:function(e,t,n){"use strict";n(585)},607:function(e,t,n){var r=n(15)(!1);r.push([e.i,".vue-component{border:1px solid #adb5bd;border-radius:.5rem;margin:1rem 0;position:relative}.label{margin-left:1rem;background-color:#adb5bd;font-size:.6rem;letter-spacing:1px;font-weight:700;text-transform:uppercase;color:#fff;position:absolute;top:0;padding:.25rem .75rem;border-radius:0 0 .5rem .5rem}.content{margin-top:1.5rem;padding:1rem}",""]),e.exports=r},608:function(e,t,n){"use strict";n(586)},609:function(e,t,n){var r=n(15)(!1);r.push([e.i,".editor__content[data-v-6ec6f962]  .ProseMirror{min-height:100px;border:1px solid #212121;padding:10px}.editor__content[data-v-6ec6f962]  .ProseMirror p{margin-bottom:0}.editor__content[data-v-6ec6f962]  .ProseMirror a{color:#68cef8}.v-toolbar[data-v-6ec6f962]  .v-toolbar__content{flex-wrap:wrap}",""]),e.exports=r},612:function(e,t,n){"use strict";n(35);var r=n(11),o=n(21),c=n(19),l=n(18),d=n(6),f=n(14),v=(n(5),n(27),n(45),n(20)),h=n(211),m=n(130),y=n.n(m),O=n(209),j=n(94),_=n(567),k=n(636),R=n(628);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var w=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},P=function(e){Object(c.a)(n,e);var t=x(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(v.Vue);w([Object(v.Prop)({type:Object,required:!1,default:null})],P.prototype,"btnClass",void 0),w([Object(v.Prop)({type:Function,required:!0})],P.prototype,"clickHandler",void 0),w([Object(v.Prop)({type:String,required:!0})],P.prototype,"icon",void 0),w([Object(v.Prop)({type:String,required:!0})],P.prototype,"label",void 0);var C=P=w([v.Component],P),A=n(30),$=n(40),V=n.n($),S=n(121),B=n(198),L=n(691),component=Object(A.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({class:e.btnClass,attrs:{small:""},on:{click:e.clickHandler}},"v-btn",o,!1),r),[n("v-icon",[e._v(e._s(e.icon))])],1)]}}])},[e._v(" "),n("span",[e._v(e._s(e.label))])])}),[],!1,null,null,null),D=component.exports;V()(component,{VBtn:S.a,VIcon:B.a,VTooltip:L.a});var I=n(617),E=n(629),F=n(638),T=n(630),M=n(631),H=n(632),U=(n(28),n(274),n(10));n(62);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var W=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},z=Object(v.namespace)("media_object"),G=function(e){Object(c.a)(l,e);var t,n=N(l);function l(){return Object(r.a)(this,l),n.apply(this,arguments)}return Object(o.a)(l,[{key:"fetch",value:(t=Object(U.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),l}(v.Vue);W([Object(v.Prop)({type:Function,required:!0})],G.prototype,"selectImage",void 0),W([Object(v.Prop)({type:Function,required:!0})],G.prototype,"selectLink",void 0),W([z.Getter("list")],G.prototype,"items",void 0),W([z.Action("fetchAll")],G.prototype,"fetchAll",void 0);var J=G=W([v.Component],G),X=n(572),Y=n(553),Z=n(158),K=n(549),Q=Object(A.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("h3",[e._v("Navigateur de fichier")])])],1),e._v(" "),e.items.length>0?n("v-row",e._l(e.items,(function(t){return n("v-col",{key:t["@id"]},[e._v("\n      "+e._s(t["@id"])+"\n      "),t.isImage?n("v-img",{attrs:{src:t.contentUrl,"max-height":"200","max-width":"200"},on:{click:function(n){return e.selectImage(t)}}}):n("span",{on:{click:function(n){return e.selectLink(t)}}},[e._v(e._s(t.filePath))])],1)})),1):n("v-row",[n("v-col",[e._v("\n      Aucun fichier disponible\n    ")])],1)],1)}),[],!1,null,null,null),ee=Q.exports;function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}V()(Q,{VCol:X.a,VContainer:Y.a,VImg:Z.a,VRow:K.a});var ne=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},re=function(e){Object(c.a)(n,e);var t=te(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).dialog=!1,e.thumbnails=[],e.links=[],e}return Object(o.a)(n,[{key:"openFileSelection",value:function(){this.$refs.fileSelection.click()}},{key:"reset",value:function(){this.thumbnails=[],this.links=[]}},{key:"selectImage",value:function(e){this.thumbnails.push({src:e.contentUrl})}},{key:"selectLink",value:function(e){this.links.push({src:e.contentUrl,name:e.filePath})}},{key:"handleUpload",value:function(){var e=this,t=this.$refs.fileSelection.files;if(null!==t)for(var n=function(i){var n=t[i],r=new FormData;r.append("file",n),r.append("mediaGalleryItemId","1"),e.$getRepository("media_objects").$post("/api/media_objects",{method:"POST",body:r}).then((function(t){/^image\//.test(n.type)?e.selectImage(t):e.selectLink(t)}))},i=0;i<t.length;i++)n(i)}},{key:"injectFilesAndCloseDialog",value:function(){var e=this;this.dialog=!1,this.thumbnails.forEach((function(t){e.editor.chain().focus().setImage({src:t.src}).run()})),this.links.forEach((function(link){var t=e.editor.schema.text(link.name,[e.editor.schema.marks.link.create({href:link.src})]);e.editor.view.dispatch(e.editor.state.tr.replaceSelectionWith(t,!1))}))}},{key:"onDialogToggle",value:function(){this.reset()}}]),n}(v.Vue);ne([Object(v.Prop)({type:Object,required:!0})],re.prototype,"editor",void 0),ne([Object(v.Watch)("dialog")],re.prototype,"onDialogToggle",null);var ie=re=ne([Object(v.Component)({components:{FileNavigator:ee}})],re),oe=n(203),ce=n(161),ae=n(687),le=n(535),se=n(550),ue=Object(A.a)(ie,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,l=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,l),!1),Object.assign({},r,c)),[n("v-icon",[e._v("ri-file-transfer-line")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Téléverser un fichier")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n      Téléverser un fichier\n    ")]),e._v(" "),n("v-card-text",[n("h3",[e._v("Fichiers sélectionnés")]),e._v(" "),n("v-container",[n("v-row",e._l(e.thumbnails,(function(e,i){return n("v-col",{key:i},[n("v-img",{attrs:{src:e.src,"max-height":"200","max-width":"200"}})],1)})),1),e._v(" "),n("v-row",e._l(e.links,(function(link,i){return n("v-col",{key:i},[n("span",[e._v(e._s(link.name))])])})),1)],1),e._v(" "),e.thumbnails.length+e.links.length===0?n("p",[e._v("\n        Tu peux téleverser un fichier ou utiliser le navigateur pour sélectionner les fichiers à insérer\n      ")]):e._e(),e._v(" "),n("v-divider"),e._v(" "),n("div",{attrs:{id:"dropDown"}}),e._v(" "),n("input",{ref:"fileSelection",staticStyle:{display:"none"},attrs:{id:"fileElem",type:"file",multiple:"",accept:"image/*"},on:{change:e.handleUpload}}),n("v-btn",{on:{click:e.openFileSelection}},[e._v("\n        Sélectionner des fichiers à téléverser\n      ")]),e._v(" "),n("v-divider"),e._v(" "),n("file-navigator",{attrs:{"select-image":e.selectImage,"select-link":e.selectLink}})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return t.preventDefault(),e.injectFilesAndCloseDialog(t)}}},[e._v("\n        Insérer\n      ")])],1)],1)],1)}),[],!1,null,null,null),de=ue.exports;V()(ue,{VBtn:S.a,VCard:oe.a,VCardActions:ce.a,VCardText:ce.b,VCardTitle:ce.c,VCol:X.a,VContainer:Y.a,VDialog:ae.a,VDivider:le.a,VIcon:B.a,VImg:Z.a,VRow:K.a,VSpacer:se.a,VTooltip:L.a});var fe=n(633),ve=n(634);n(132);function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var he=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},be=function(e){Object(c.a)(n,e);var t=pe(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return Object(o.a)(n,[{key:"nodeDisplay",get:function(){return this.extension.options.inline?"inline-block":"block"}},{key:"handleMouseDown",value:function(e){var t=this,n=(e.pageX,e.pageY,this.$refs["img-container"],parseFloat(this.node.attrs.width.match(/(.+)px/)[1])),r=e.x,o=function(e){var o=r-e.pageX,c="".concat(n-o,"px");t.updateAttributes({width:c})};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))}}]),n}(v.Vue);he([Object(v.Prop)({type:Object,required:!0})],be.prototype,"node",void 0),he([Object(v.Prop)({type:Object,required:!0})],be.prototype,"extension",void 0),he([Object(v.Prop)({type:Function,required:!0})],be.prototype,"updateAttributes",void 0);var me=be=he([Object(v.Component)({components:{NodeViewWrapper:_.c}})],be),ye=(n(604),Object(A.a)(me,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("node-view-wrapper",{style:{display:e.nodeDisplay}},[n("div",{ref:"img-container",staticClass:"img-container",class:{"is-active":e.isActive},style:{width:e.node.attrs.width},attrs:{draggable:"true",contenteditable:"false","data-drag-handle":""}},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.node.attrs.src,alt:e.node.attrs.title},on:{click:function(t){e.isActive=!e.isActive}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"handle",on:{mousedown:function(t){return t.preventDefault(),e.handleMouseDown(t)}}})])])}),[],!1,null,null,null).exports),ge=ve.a.extend({draggable:!0,addNodeView:function(){return Object(_.d)(ye)},addAttributes:function(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:"400px"}}}}),Oe=n(554),je={components:{NodeViewWrapper:_.c},props:{updateAttributes:{type:Function,required:!0},node:{type:Object,required:!0}},methods:{increase:function(){this.updateAttributes({count:this.node.attrs.count+1})}}},_e=(n(606),Object(A.a)(je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("node-view-wrapper",{staticClass:"vue-component"},[n("span",{staticClass:"label"},[e._v("Vue Component")]),e._v(" "),n("div",{staticClass:"content"},[n("button",{on:{click:e.increase}},[e._v("\n      This button has been clicked "+e._s(e.node.attrs.count)+" times.\n    ")])])])}),[],!1,null,null,null).exports),ke=Oe.d.create({name:"FileUploadComponent",group:"block",atom:!0,addAttributes:function(){return{count:{default:0}}},addCommands:function(){var e=this;return{setUploadedFile:function(t){return function(n){var tr=n.tr,r=n.dispatch,o=tr.selection,c=e.type.create(t);return r&&tr.replaceRangeWith(o.from,o.to,c),!0}}}},parseHTML:function(){return[{tag:"file-upload-component"}]},renderHTML:function(e){var t=e.HTMLAttributes;return["file-upload-component",Object(Oe.l)(t)]},addNodeView:function(){return Object(_.d)(_e)}});function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var xe=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},we=function(e){Object(c.a)(n,e);var t=Re(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).editor=null,e}return Object(o.a)(n,[{key:"onValueChange",value:function(e){var t,n;(null===(t=this.editor)||void 0===t?void 0:t.getHTML())===e||null===(n=this.editor)||void 0===n||n.commands.setContent(this.value||"",!1)}},{key:"mounted",value:function(){var e=this;this.editor=new _.a({content:this.value,extensions:[].concat(Object(j.a)(Object(k.a)()),[R.a,I.a,E.a,F.a.configure({resizable:!0}),T.a,H.a,M.a,ge.configure({inline:!0}),ke,fe.a.configure({openOnClick:!0})])}),this.editor.on("update",(function(){var t;e.$emit("input",null===(t=e.editor)||void 0===t?void 0:t.getHTML())}))}},{key:"beforeDestroy",value:function(){var e;null===(e=this.editor)||void 0===e||e.destroy()}},{key:"clearContent",value:function(){var e;null===(e=this.editor)||void 0===e||e.commands.setContent("",!1)}},{key:"addImage",value:function(){var e,t=window.prompt("URL");t&&(null===(e=this.editor)||void 0===e||e.chain().focus().setImage({src:t}).run())}},{key:"setLink",value:function(){var e,t=window.prompt("URL");t&&(null===(e=this.editor)||void 0===e||e.chain().focus().setLink({href:t}).run())}}]),n}(v.Vue);xe([Object(v.Prop)({type:String,required:!1,default:null})],we.prototype,"value",void 0),xe([Object(v.Watch)("value")],we.prototype,"onValueChange",null);var Pe=we=xe([Object(v.Component)({components:{FileUploadBtn:de,EditorContent:_.b,EditorBtn:D}})],we),Ce=(n(608),n(49)),Ae=Object(A.a)(Pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"editor"},[e.editor?n("v-toolbar",{attrs:{flat:"",dark:""}},[n("editor-btn",{attrs:{label:"Gras","btn-class":{"grey darken-3":e.editor.isActive("bold")},"click-handler":function(){return e.editor.chain().focus().toggleBold().run()},icon:"ri-bold"}}),e._v(" "),n("editor-btn",{attrs:{label:"Italique","btn-class":{"grey darken-3":e.editor.isActive("italic")},"click-handler":function(){return e.editor.chain().focus().toggleItalic().run()},icon:"ri-italic"}}),e._v(" "),n("editor-btn",{attrs:{label:"Barrer","btn-class":{"grey darken-3":e.editor.isActive("strike")},"click-handler":function(){return e.editor.chain().focus().toggleStrike().run()},icon:"ri-strikethrough"}}),e._v(" "),n("editor-btn",{attrs:{label:"Supprimer le style de la sélection","click-handler":function(){return e.editor.chain().focus().unsetAllMarks().run()},icon:"ri-format-clear"}}),e._v(" "),n("editor-btn",{attrs:{label:"Supprimer le style du bloc","click-handler":function(){return e.editor.chain().focus().clearNodes().run()},icon:"ri-eraser-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Paragraphe","btn-class":{"grey darken-3":e.editor.isActive("paragraph")},"click-handler":function(){return e.editor.chain().focus().setParagraph().run()},icon:"ri-paragraph"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille xxl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:1})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:1}).run()},icon:"ri-h-1"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille xl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:2})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:2}).run()},icon:"ri-h-2"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille l","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:3})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:3}).run()},icon:"ri-h-3"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille m","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:4})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:4}).run()},icon:"ri-h-4"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille s","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:5})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:5}).run()},icon:"ri-h-5"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille xs","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:6})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:6}).run()},icon:"ri-h-6"}}),e._v(" "),n("editor-btn",{attrs:{label:"Liste","btn-class":{"grey darken-3":e.editor.isActive("bulletList")},"click-handler":function(){return e.editor.chain().focus().toggleBulletList().run()},icon:"ri-list-unordered"}}),e._v(" "),n("editor-btn",{attrs:{label:"Liste numérotée","btn-class":{"grey darken-3":e.editor.isActive("orderedList")},"click-handler":function(){return e.editor.chain().focus().toggleOrderedList().run()},icon:"ri-list-ordered"}}),e._v(" "),n("editor-btn",{attrs:{label:"Bloc de code","btn-class":{"grey darken-3":e.editor.isActive("codeBlock")},"click-handler":function(){return e.editor.chain().focus().toggleCodeBlock().run()},icon:"ri-code-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Citation","btn-class":{"grey darken-3":e.editor.isActive("blockquote")},"click-handler":function(){return e.editor.chain().focus().toggleCodeBlock().run()},icon:"ri-double-quotes-l"}}),e._v(" "),n("editor-btn",{attrs:{label:"Séparateur horizontal","click-handler":function(){return e.editor.chain().focus().setHorizontalRule().run()},icon:"ri-separator"}}),e._v(" "),n("editor-btn",{attrs:{label:"Undo","click-handler":function(){return e.editor.chain().focus().undo().run()},icon:"ri-arrow-go-back-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Redo","click-handler":function(){return e.editor.chain().focus().redo().run()},icon:"ri-arrow-go-forward-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Aligner à gauche","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"left"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("left").run()},icon:"ri-align-left"}}),e._v(" "),n("editor-btn",{attrs:{label:"Centrer","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"center"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("center").run()},icon:"ri-align-center"}}),e._v(" "),n("editor-btn",{attrs:{label:"Aligner à droite","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"right"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("right").run()},icon:"ri-align-right"}}),e._v(" "),n("editor-btn",{attrs:{label:"Justifier","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"justify"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("justify").run()},icon:"ri-align-justify"}}),e._v(" "),n("editor-btn",{attrs:{label:"Ajouter une image","btn-class":null,"click-handler":e.addImage,icon:"ri-image-line"}}),e._v(" "),n("file-upload-btn",{attrs:{editor:e.editor}}),e._v(" "),n("editor-btn",{attrs:{label:"Ajouter un lien","click-handler":e.setLink,"btn-class":{"is-active":e.editor.isActive("link")},icon:"ri-link"}}),e._v(" "),e.editor.isActive("link")?n("editor-btn",{attrs:{label:"Supprimer le lien",icon:"ri-link-unlink","click-handler":function(){return e.editor.chain().focus().unsetLink().run()}}}):e._e()],1):e._e(),e._v(" "),n("editor-content",{staticClass:"editor__content",attrs:{editor:e.editor}})],1),e._v(" "),n("div",{staticClass:"actions"},[n("v-btn",{staticClass:"v-icon",on:{click:e.clearContent}},[e._v("\n      Clear Content\n    ")])],1)])}),[],!1,null,"6ec6f962",null),$e=Ae.exports;function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}V()(Ae,{VBtn:S.a,VToolbar:Ce.a});var Se=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Be=h.helpers.regex("slug",/^[a-zA-Z0-9-]*$/),Le=Object(v.namespace)("page_category"),De=function(e){Object(c.a)(n,e);var t=Ve(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"item",get:function(){return this.initialValues||this.values}},{key:"titleErrors",get:function(){var e=[];return this.$v.item.title&&this.$v.item.title.$dirty?(y()(this.violations,"title")&&e.push(this.violations.title),!this.$v.item.title.minLength&&e.push("Le titre doit faire au moins 4 caractères"),e):e}},{key:"urlErrors",get:function(){var e=[];return this.$v.item.url&&this.$v.item.url.$dirty?(y()(this.violations,"url")&&e.push(this.violations.url),!this.$v.item.url.minLength&&e.push("Le titre doit faire au moins 2 caractères"),!this.$v.item.url.slug&&e.push("L'url doit contenir seulement des chiffres, des lettres et le tiret du haut -"),e):e}},{key:"contentErrors",get:function(){var e=[];return this.$v.item.content&&this.$v.item.content.$dirty?(y()(this.violations,"url")&&e.push(this.violations.content),!this.$v.item.content.slug&&e.push("Le titre doit faire au moins 2 caractères"),e):e}},{key:"violations",get:function(){return this.errors||{}}},{key:"mounted",value:function(){this.categoryGetSelectItems()}}]),n}(Object(v.mixins)(O.validationMixin));Se([Object(v.Prop)({type:Object,required:!0})],De.prototype,"values",void 0),Se([Object(v.Prop)({type:Object,default:function(){}})],De.prototype,"errors",void 0),Se([Object(v.Prop)({type:Object,default:function(){}})],De.prototype,"initialValues",void 0),Se([Le.State("selectItems")],De.prototype,"categorySelectItems",void 0),Se([Le.Action("fetchSelectItems")],De.prototype,"categoryGetSelectItems",void 0);var Ie=De=Se([Object(v.Component)({name:"AdminPageForm",components:{Editor:$e},validations:{item:{title:{required:h.required,minLength:Object(h.minLength)(4)},url:{required:h.required,minLength:Object(h.minLength)(2),slug:Be},content:{}}}})],De),Ee=n(594),Fe=n(546),Te=n(635),qe=n(533),Me=Object(A.a)(Ie,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Titre","error-messages":e.titleErrors,required:""},on:{input:function(t){return e.$v.item.title.$touch()},blur:function(t){return e.$v.item.title.$touch()}},model:{value:e.item.title,callback:function(t){e.$set(e.item,"title",t)},expression:"item.title"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Url","error-messages":e.urlErrors,required:""},on:{input:function(t){return e.$v.item.url.$touch()},blur:function(t){return e.$v.item.url.$touch()}},model:{value:e.item.url,callback:function(t){e.$set(e.item,"url",t)},expression:"item.url"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-switch",{attrs:{label:"Publier","input-value":"true"},model:{value:e.item.isPublished,callback:function(t){e.$set(e.item,"isPublished",t)},expression:"item.isPublished"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-switch",{attrs:{label:"Ajouter au menu","input-value":"true"},model:{value:e.item.showInMenu,callback:function(t){e.$set(e.item,"showInMenu",t)},expression:"item.showInMenu"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e.categorySelectItems?n("v-combobox",{attrs:{items:e.categorySelectItems,"no-data-text":"Aucune catégorie n'a ce nom",label:"category","item-text":"name","item-value":"@id","return-object":!1,clearable:""},model:{value:e.item.category,callback:function(t){e.$set(e.item,"category",t)},expression:"item.category"}}):e._e()],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("ClientOnly",[void 0!==e.item.content?n("Editor",{model:{value:e.item.content,callback:function(t){e.$set(e.item,"content",t)},expression:"item.content"}}):e._e()],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.a=Me.exports;V()(Me,{VCol:X.a,VCombobox:Ee.a,VContainer:Y.a,VForm:Fe.a,VRow:K.a,VSwitch:Te.a,VTextField:qe.a})},705:function(e,t,n){"use strict";n.r(t);n(35);var r=n(11),o=n(19),c=n(18),l=n(6),d=n(14),f=(n(5),n(20)),v=n(556),h=n(557),m=n(612),y=n(574);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var j=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},_=Object(f.namespace)("page"),k=function(e){Object(o.a)(n,e);var t=O(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).item={content:"",showInMenu:!1,isPublished:!1},e}return n}(Object(f.mixins)(y.a));j([_.State("created")],k.prototype,"created",void 0),j([_.State("error")],k.prototype,"error",void 0),j([_.State("isLoading")],k.prototype,"isLoading",void 0),j([_.State("violations")],k.prototype,"violations",void 0),j([_.Action("create")],k.prototype,"create",void 0),j([_.Action("reset")],k.prototype,"reset",void 0);var R=k=j([Object(f.Component)({components:{Loading:v.a,Toolbar:h.a,Form:m.a},servicePrefix:"admin-page",resourcePrefix:"/api/pages/",middleware:"hasPermissions",meta:{permissions:["USER_CAN_EDIT_PAGES"]}})],k),x=n(30),component=Object(x.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Form",{ref:"createForm",attrs:{values:e.item,errors:e.violations}}),e._v(" "),n("Toolbar",{attrs:{"handle-submit":e.onSendForm,"handle-reset":e.resetForm}}),e._v(" "),n("Loading",{attrs:{visible:e.isLoading}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);