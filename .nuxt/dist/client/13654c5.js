(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{527:function(e,t,n){"use strict";var r=n(5),o=Object(r.b)({props:{handleDelete:{type:Function,default:function(){}},visible:{type:Boolean,default:!0}},setup:function(e,t){var n=t.emit;return{setVisible:function(e){n("close")},show:Object(r.a)((function(){return e.visible}))}}}),c=n(32),l=n(41),f=n.n(l),m=n(126),d=n(210),v=n(169),O=n(576),h=n(521),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[n("v-card-text",[e._v("Are you sure you want to delete this item?")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"error darken-1"},on:{click:e.handleDelete}},[e._v("\n        Delete\n      ")]),e._v(" "),n("v-btn",{attrs:{color:"secondary darken-1",text:""},on:{click:function(t){return t.stopPropagation(),e.setVisible(!1)}}},[e._v("\n        Cancel\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;f()(component,{VBtn:m.a,VCard:d.a,VCardActions:v.a,VCardText:v.b,VDialog:O.a,VSpacer:h.a})},534:function(e,t,n){"use strict";var r=n(5),o=n(38);t.a=function(e){return Object(r.k)({canEdit:function(){return o.a.hasPermission(e.editRole)},canDelete:function(){return o.a.hasPermission(e.deleteRole)},canViewList:function(){return o.a.hasPermission(e.listRole)}})}},549:function(e,t,n){"use strict";n(10),n(9),n(8),n(12),n(13),n(37),n(26),n(30),n(60),n(50),n(45);var r=n(1),o=(n(590),n(5)),c=n(591),l=n.n(c),f=n(98);function m(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function(e,t){var n=Object(o.t)(),r=Object(o.m)([]),c={sortBy:[],sortDesc:[],page:1,itemsPerPage:15,totalItems:0};t&&Object.assign(c,t);var d=c,v={};Object(o.u)((function(){return e.getState().deleted}),(function(e){e&&f.a.showMessage("".concat(e["@id"]," deleted."))})),Object(o.u)((function(){return e.getState().error}),(function(e){e&&f.a.showError(e)})),Object(o.u)((function(){return e.getState().totalItems}),(function(e){d.totalItems=e}));var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.page,r=t.itemsPerPage,o=t.sortBy,c=t.sortDesc,f=t.totalItems,m=O({},v);r&&r>0&&(m=O(O({},m),{},{itemsPerPage:r,page:n})),e.prepareResetList(),l()(o)||l()(c)||(m["order[".concat(o[0],"]")]=c[0]?"desc":"asc"),Object.assign(d,{sortBy:o,sortDesc:c,itemsPerPage:r,totalItems:f}),e.fetchAll(m)},y=function(){h(d)},_=function(t){var r=e.getEditLocation(t);r&&n.push(r)};return Object(o.k)({selected:r,filterOptions:d,filters:v,resetFilter:function(){var e,t=m(Object.getOwnPropertyNames(v));try{for(t.s();!(e=t.n()).done;){var n=e.value;v[n]=null}}catch(e){t.e(e)}finally{t.f()}y()},addHandler:function(){var t=e.getAddLocation();t&&n.push(t)},editHandler:_,showHandler:function(e){_(e)},deleteHandler:function(t){e.del(t).then((function(){return h(d)}))},onUpdateOptions:h,onSendFilter:y,state:e.getState(),items:e.list})}},550:function(e,t,n){"use strict";var r=n(5),o=Object(r.b)({props:{handleReset:{type:Function,required:!0},handleFilter:{type:Function,required:!0}},setup:function(e){return{onFilter:function(){e.handleFilter()},onCancel:function(){e.handleReset()}}}}),c=n(32),l=n(41),f=n.n(l),m=n(126),d=n(169),v=n(204),O=n(676),h=n(40),y=n(521),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{transition:"slide-y-transition","close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"white"}},"v-btn",o,!1),r),[e._v("\n      Filtres\n      "),n("v-icon",{attrs:{right:""}},[e._v("\n        ri-filter-line\n      ")])],1)]}}])},[e._v(" "),n("v-sheet",[n("v-card-title",[e._v("Filtres")]),e._v(" "),e._t("filter"),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:e.onFilter}},[e._v("\n        Filtrer\n      ")]),e._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{color:"primary",text:""},on:{click:e.onCancel}},[e._v("\n        Remise à zéro\n      ")])],1)],2)],1)}),[],!1,null,null,null);t.a=component.exports;f()(component,{VBtn:m.a,VCardActions:d.a,VCardTitle:d.c,VIcon:v.a,VMenu:O.a,VSheet:h.a,VSpacer:y.a})},559:function(e,t,n){"use strict";var r=n(5),o=n(527),c=Object(r.b)({components:{ConfirmDelete:o.a},props:{handleShow:{type:Function,default:null},handleEdit:{type:Function,default:null},handleDelete:{type:Function,default:null}},setup:function(){return{confirmDelete:Object(r.m)(!1)}}}),l=n(32),f=n(41),m=n.n(f),d=n(126),v=n(204),O=n(520),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{attrs:{justify:"center"}},[e.handleShow?n("v-btn",{attrs:{elevation:"0",tile:"",color:"info"},on:{click:e.handleShow}},[n("v-icon",[e._v("\n        ri-eye-line\n      ")])],1):e._e(),e._v(" "),e.handleEdit?n("v-btn",{attrs:{elevation:"0",tile:"",color:"primary"},on:{click:e.handleEdit}},[n("v-icon",[e._v("\n        ri-edit-line\n      ")])],1):e._e(),e._v(" "),e.handleDelete?n("v-btn",{attrs:{elevation:"0",tile:"",color:"accent"},on:{click:function(t){e.confirmDelete=!0}}},[n("v-icon",[e._v("\n        ri-delete-bin-line\n      ")])],1):e._e()],1),e._v(" "),e.handleDelete?n("ConfirmDelete",{attrs:{visible:e.confirmDelete,"handle-delete":e.handleDelete},on:{close:function(t){e.confirmDelete=!1}}}):e._e()],1)}),[],!1,null,null,null);t.a=component.exports;m()(component,{VBtn:d.a,VIcon:v.a,VRow:O.a})},562:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(49);var r=n(18),o=n(21),c=n(28),l=n(25),f=n(15);n(30);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var d=new(function(e){Object(c.a)(n,e);var t=m(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).listRole="USER_CAN_ACCESS_MEMBER_GROUPS",e.editRole="USER_CAN_EDIT_MEMBER_GROUPS",e.deleteRole="USER_CAN_DELETE_MEMBER_GROUPS",e}return Object(o.a)(n,[{key:"getAddLocation",value:function(){return{name:"admin-member-group-new"}}},{key:"getEditLocation",value:function(e){return{name:"admin-member-group-id",params:{id:e.name}}}},{key:"getListLocation",value:function(){return{name:"admin-member-group"}}}]),n}(n(76).a))("member_groups")},626:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(49);var r=n(18),o=n(21),c=n(28),l=n(25),f=n(15);n(26),n(58),n(59);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var d=new(function(e){Object(c.a)(n,e);var t=m(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).listRole="USER_CAN_ACCESS_MEMBERS",e.editRole="USER_CAN_EDIT_MEMBERS",e.deleteRole="USER_CAN_DELETE_MEMBERS",e}return Object(o.a)(n,[{key:"getAddLocation",value:function(){return{name:"admin-member-new"}}},{key:"getEditLocation",value:function(e){return{name:"admin-member-id",params:{id:e.id.toString()}}}},{key:"getListLocation",value:function(){return{name:"admin-member"}}}]),n}(n(76).a))("members")},735:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(11),c=(n(8),n(10),n(9),n(12),n(13),n(66),n(5)),l=n(549),f=n(534),m=n(559),d=n(550),v=(n(26),n(45),n(562)),O=Object(c.b)({props:{values:{type:Object,required:!0}},setup:function(e){var t=Object(c.m)(e.values);return v.a.setContext(Object(c.q)()),Object(c.h)((function(){v.a.fetchSelectItems()})),{item:t,memberGroupState:v.a.getState()}}}),h=n(32),y=n(41),_=n.n(y),j=n(518),E=n(766),w=n(524),S=n(520),P=n(502),component=Object(h.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[e._v("\n  "+e._s(e.groups)+"\n  "),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Email du membre",type:"text"},model:{value:e.item.email,callback:function(t){e.$set(e.item,"email",t)},expression:"item.email"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Le pseudo du membre",type:"text"},model:{value:e.item.nickname,callback:function(t){e.$set(e.item,"nickname",t)},expression:"item.nickname"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[e._v("\n      "+e._s(e.item.groups)+"\n      "),e.memberGroupState.selectItems?n("v-combobox",{attrs:{items:e.memberGroupState.selectItems,label:"Dans le groupe","item-text":"name","item-value":"name",clearable:"","return-object":!1},model:{value:e.item.groups,callback:function(t){e.$set(e.item,"groups",t)},expression:"item.groups"}}):e._e()],1)],1)],1)}),[],!1,null,null,null),R=component.exports;_()(component,{VCol:j.a,VCombobox:E.a,VContainer:w.a,VRow:S.a,VTextField:P.a});var k=n(626);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D=[{text:"Email",value:"email"},{text:"Pseudo",value:"nickname"},{text:"Actions",value:"actions",sortable:!1}],A=Object(c.b)({components:{ActionCell:m.a,MemberFilter:R,FormFilter:d.a},layout:"admin",middleware:"hasPermissions",setup:function(){var e=Object(c.q)();k.a.setContext(e),Object(c.r)(Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.fetchAll();case 2:case"end":return e.stop()}}),e)}))));var t=Object(l.a)(k.a),n=Object(c.a)((function(){return e.$auth.isAdmin?t.items:t.items.filter((function(e){return!e.isAdmin}))}));return C(C(C({},Object(c.p)(t)),Object(c.p)(Object(f.a)(k.a))),{},{headers:D,filteredItems:n})},head:function(){return{title:"Administration - Liste des membres"}},meta:{permissions:["USER_CAN_ACCESS_MEMBERS"]}}),V=n(731),F=n(521),L=n(54),M=n(216),B=Object(h.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.filteredItems,"items-per-page":e.filterOptions.itemsPerPage,loading:e.state.isLoading,"loading-text":"Loading...",options:e.filterOptions,"server-items-length":e.state.totalItems,"item-key":"@id","show-select":""},on:{"update:itemsPerPage":function(t){return e.$set(e.filterOptions,"itemsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.filterOptions,"itemsPerPage",t)},"update:options":[function(t){e.filterOptions=t},e.onUpdateOptions]},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("Liste de membres")]),e._v(" "),n("v-spacer"),e._v(" "),n("FormFilter",{attrs:{"handle-filter":e.onSendFilter,"handle-reset":e.resetFilter}},[n("MemberFilter",{ref:"filterForm",attrs:{slot:"filter",values:e.filters},slot:"filter"})],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){return n("ActionCell",{attrs:{"handle-edit":e.canEdit?function(){return e.editHandler(t.item)}:null}})}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),[],!1,null,null,null);t.default=B.exports;_()(B,{VContainer:w.a,VDataTable:V.a,VSpacer:F.a,VToolbar:L.a,VToolbarTitle:M.a})}}]);