(window.webpackJsonp=window.webpackJsonp||[]).push([[33,5],{584:function(e,t,n){var content=n(585);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("5c8fbe94",content,!0,{sourceMap:!1})},585:function(e,t,n){var r=n(15)(!1);r.push([e.i,".v-textarea textarea{align-self:stretch;flex:1 1 auto;line-height:1.75rem;max-width:100%;min-height:32px;outline:none;padding:0;width:100%}.v-textarea .v-text-field__prefix,.v-textarea .v-text-field__suffix{padding-top:2px;align-self:start}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) textarea{margin-top:10px}.v-textarea.v-text-field--box.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--box.v-text-field--single-line:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined:not(.v-input--dense) .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line:not(.v-input--dense) .v-label{top:18px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-text-field__suffix,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense textarea{margin-top:6px}.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--box.v-text-field--single-line.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--outlined.v-input--dense .v-input__prepend-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__append-outer,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-inner,.v-textarea.v-text-field--enclosed.v-text-field--single-line.v-input--dense .v-input__prepend-outer{align-self:flex-start;margin-top:8px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:12px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{align-self:stretch}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-left:-12px}.v-application--is-ltr .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-left:12px}",""]),e.exports=r},605:function(e,t,n){var content=n(628);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("e73e3fba",content,!0,{sourceMap:!1})},606:function(e,t,n){var content=n(630);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("f1c2dffe",content,!0,{sourceMap:!1})},607:function(e,t,n){var content=n(632);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("274314a7",content,!0,{sourceMap:!1})},608:function(e,t,n){var content=n(634);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("7c1f22ca",content,!0,{sourceMap:!1})},609:function(e,t,n){var content=n(637);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("5cc24a03",content,!0,{sourceMap:!1})},610:function(e,t,n){var content=n(639);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("1e1a9490",content,!0,{sourceMap:!1})},614:function(e,t,n){"use strict";n(35);var r=n(94),o=n(11),l=n(21),c=n(19),d=n(18),f=n(6),v=n(14),h=(n(5),n(20)),y=n(597),m=n(679),x=n(664),_=n(616),O=n(653),j=n(665),k=n(681),R=n(666),w=n(667),C=n(668);n(28),n(273),n(27),n(61),n(62);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var V=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},I=function(e){Object(c.a)(n,e);var t=P(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return n}(h.Vue);V([Object(h.Prop)({type:Array,required:!0})],I.prototype,"thumbnails",void 0),V([Object(h.Prop)({type:Array,required:!0})],I.prototype,"links",void 0),V([Object(h.Prop)({type:Function,required:!0})],I.prototype,"removeThumbnail",void 0),V([Object(h.Prop)({type:Function,required:!0})],I.prototype,"removeLink",void 0);var L=I=V([h.Component],I),A=n(31),S=n(40),G=n.n(S),B=n(121),M=n(203),$=n(160),F=n(550),T=n(556),D=n(197),E=n(158),H=n(552),component=Object(A.a)(L,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("h3",[e._v("Fichiers sélectionnés")])])],1),e._v(" "),e.thumbnails.length+e.links.length===0?n("v-row",[n("v-col",[n("p",[e._v("Tu peux téleverser un fichier ou utiliser le navigateur pour sélectionner les fichiers à insérer")])])],1):n("v-row",{attrs:{"no-gutters":""}},[n("v-col",[n("v-container",[n("v-row",{attrs:{"no-gutters":""}},e._l(e.thumbnails,(function(t,i){return n("v-col",{key:i,attrs:{cols:"4","align-self":"center"}},[n("v-card",[n("v-img",{attrs:{src:t.src,"max-height":"200",contain:""}}),e._v(" "),n("v-card-actions",[n("v-btn",{staticClass:"btn-remove-thumbnail",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(t){return e.removeThumbnail(i)}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                    ri-close-line\n                  ")])],1)],1)],1)],1)})),1),e._v(" "),n("v-row",e._l(e.links,(function(link,i){return n("v-col",{key:i},[n("span",[e._v(e._s(link.name)),n("v-btn",{staticClass:"btn-remove-thumbnail",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(t){return e.removeLink(i)}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                ri-close-line\n              ")])],1)],1)])})),1)],1)],1)],1)],1)}),[],!1,null,null,null),N=component.exports;G()(component,{VBtn:B.a,VCard:M.a,VCardActions:$.a,VCol:F.a,VContainer:T.a,VIcon:D.a,VImg:E.a,VRow:H.a});function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var z=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},W=function(e){Object(c.a)(n,e);var t=U(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"openFileSelection",value:function(){this.$refs.fileSelection.click()}},{key:"onFileChange",value:function(){var e=this.$refs.fileSelection.files;e&&this.handleUpload(e)}}]),n}(h.Vue);z([Object(h.Prop)({type:Function,required:!0})],W.prototype,"handleUpload",void 0);var X=W=z([h.Component],W),Y=Object(A.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("input",{ref:"fileSelection",staticStyle:{display:"none"},attrs:{id:"fileElem",type:"file",multiple:"",accept:"image/*"},on:{change:e.onFileChange}}),n("v-btn",{on:{click:e.openFileSelection}},[e._v("\n        Sélectionner des fichiers à téléverser\n      ")])],1)],1)],1)}),[],!1,null,null,null),J=Y.exports;G()(Y,{VBtn:B.a,VCol:F.a,VContainer:T.a,VRow:H.a});var K=n(10);n(63);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Q=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},ee=function(e){Object(c.a)(n,e);var t=Z(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="file-navigator-bread-crumb-items",e}return Object(l.a)(n,[{key:"handleCrumbClick",value:function(e){"item"===e.type?this.galleryItemClickHandler(e["@id"]):this.galleryClickHandler(e["@id"])}}]),n}(h.Vue);Q([Object(h.Prop)({type:Object,required:!1,default:null})],ee.prototype,"galleryItem",void 0),Q([Object(h.Prop)({type:Function,required:!0})],ee.prototype,"galleryItemClickHandler",void 0),Q([Object(h.Prop)({type:Function,required:!0})],ee.prototype,"galleryClickHandler",void 0);var te=ee=Q([h.Component],ee),ne=(n(627),Object(A.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.galleryItem?n("div",{staticClass:"file-navigator-breadcrumb-container"},e._l(e.galleryItem.breadcrumb,(function(t){return n("span",{key:t["@id"],on:{click:function(n){return e.handleCrumbClick(t)}}},[e._v(" > "+e._s(t.name))])})),0):e._e()}),[],!1,null,"55925b90",null).exports);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var ie=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},oe=function(e){Object(c.a)(n,e);var t=re(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="file-navigator-bread-crumb-items",e.childItem=null,e}return Object(l.a)(n,[{key:"getMediaGalleryItem",value:function(e){return e}}]),n}(h.Vue);ie([Object(h.Prop)({type:Object,required:!0})],oe.prototype,"galleryItem",void 0),ie([Object(h.Prop)({type:Function,required:!0})],oe.prototype,"handleClick",void 0);var ae=oe=ie([h.Component],oe),le=Object(A.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",e._l(e.galleryItem.children,(function(t){return n("v-col",{key:t["@id"]},[n("v-btn",{on:{click:function(n){return e.handleClick(t["@id"])}}},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})),1)],1)}),[],!1,null,null,null),ce=le.exports;G()(le,{VBtn:B.a,VCol:F.a,VContainer:T.a,VRow:H.a});function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var se=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},de=Object(h.namespace)("media_object"),fe=function(e){Object(c.a)(n,e);var t=ue(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"loadObjects",value:function(){null!==this.galleryItem&&this.fetchMediaObjects({mediaGalleryItem:this.galleryItem["@id"]})}},{key:"mounted",value:function(){this.loadObjects()}},{key:"onGalleryItemChange",value:function(e){this.loadObjects()}}]),n}(h.Vue);se([Object(h.Prop)({type:Object,required:!0})],fe.prototype,"galleryItem",void 0),se([Object(h.Prop)({type:Function,required:!0})],fe.prototype,"clickHandler",void 0),se([de.Action("fetchAll")],fe.prototype,"fetchMediaObjects",void 0),se([de.Getter("list")],fe.prototype,"mediaObjects",void 0),se([Object(h.Watch)("galleryItem")],fe.prototype,"onGalleryItemChange",null);var ve=fe=se([h.Component],fe),pe=(n(629),Object(A.a)(ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",e._l(e.mediaObjects,(function(t){return n("v-col",{key:t["@id"]},[t.isImage?n("v-img",{staticClass:"file-navigator-object",attrs:{src:t.contentUrl,"max-height":"200","max-width":"200"},on:{click:function(n){return e.clickHandler(t)}}}):n("span",{staticClass:"file-navigator-object",on:{click:function(n){return e.clickHandler(t)}}},[e._v(e._s(t.filePath))])],1)})),1)],1)}),[],!1,null,"28f59eea",null)),he=pe.exports;G()(pe,{VCol:F.a,VContainer:T.a,VImg:E.a,VRow:H.a});function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var ye=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},ge=Object(h.namespace)("media_gallery_item"),me=function(e){Object(c.a)(r,e);var t,n=be(r);function r(){var e;return Object(o.a)(this,r),(e=n.apply(this,arguments)).contextMenu=null,e.dialog=!1,e.newFolderName=null,e}return Object(l.a)(r,[{key:"showMenu",value:function(e){var t,n;this.contextMenu&&(this.contextMenu.offsetWidth+e.pageX>=window.innerWidth?this.contextMenu.style.left=e.pageX-this.contextMenu.offsetWidth+2+"px":this.contextMenu.style.left=e.pageX-2+"px",(null===(t=this.contextMenu)||void 0===t?void 0:t.offsetHeight)+e.pageY>=window.innerHeight?this.contextMenu.style.top=e.pageY-(null===(n=this.contextMenu)||void 0===n?void 0:n.offsetHeight)+2+"px":this.contextMenu.style.top=e.pageY-2+"px",this.contextMenu.classList.add("context-menu--active"))}},{key:"hideMenu",value:function(){this.contextMenu&&(this.contextMenu.style.left="0px",this.contextMenu.style.top="0px",this.contextMenu.classList.remove("context-menu--active"))}},{key:"onClick",value:function(e){e.target&&this.contextMenu&&(this.contextMenu.contains(e.target)||this.hideMenu())}},{key:"mounted",value:function(){this.contextMenu=document.getElementById("file-navigator-context-menu"),document.addEventListener(null!==document.ontouchstart?"click":"touchstart",this.onClick,!1)}},{key:"onFolderCreate",value:(t=Object(K.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dialog=!1,this.newFolderName&&this.galleryItem){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.create({name:this.newFolderName,parent:this.galleryItem["@id"]});case 5:return t=this.$parent,e.next=8,t.refresh();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(h.Vue);ye([Object(h.Prop)({type:Object,required:!1})],me.prototype,"galleryItem",void 0),ye([ge.Action("create")],me.prototype,"create",void 0);var xe=me=ye([h.Component],me),_e=(n(631),n(623)),Oe=n(537),je=n(548),ke=n(198),Re=n(119),we=n(46),Ce=n(201),Pe=n(100),Ve=n(553),Ie=n(535),Le=Object(A.a)(xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"context-menu",attrs:{id:"file-navigator-context-menu",tile:""}},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"}},[e.galleryItem?n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-list-item",e._g(e._b({},"v-list-item",o,!1),r),[n("v-list-item-icon",[n("v-icon",[e._v("ri-folder-add-fill")])],1),e._v(" "),n("v-list-item-content",[e._v("\n              Nouveau dossier\n            ")])],1)]}}],null,!1,4239326002),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n            Ajouter un dossier\n          ")]),e._v(" "),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Nom du dossier",required:""},model:{value:e.newFolderName,callback:function(t){e.newFolderName=t},expression:"newFolderName"}})],1)],1),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.onFolderCreate}},[e._v("\n              Créer le dossier\n            ")])],1)],1)],1):e._e()],1)],1)],1)}),[],!1,null,"5a00c5d7",null),Ae=Le.exports;function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}G()(Le,{VBtn:B.a,VCard:M.a,VCardActions:$.a,VCardText:$.b,VCardTitle:$.c,VDialog:_e.a,VDivider:Oe.a,VForm:je.a,VIcon:D.a,VList:ke.a,VListItem:Re.a,VListItemContent:we.a,VListItemGroup:Ce.a,VListItemIcon:Pe.a,VSpacer:Ve.a,VTextField:Ie.a});var Ge=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},Be=Object(h.namespace)("media_gallery"),Me=Object(h.namespace)("media_gallery_item"),$e=Object(h.namespace)("media_object"),Fe=function(e){Object(c.a)(h,e);var t,n,r,d,f,v=Se(h);function h(){var e;return Object(o.a)(this,h),(e=v.apply(this,arguments)).currentGallery=null,e}return Object(l.a)(h,[{key:"fetch",value:(f=Object(K.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllGalleries();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getMediaGallery",value:function(e){return e}},{key:"onGalleryChange",value:(d=Object(K.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetMediaObjects(),t){e.next=5;break}this.$emit("update:current-gallery-item",null),e.next=10;break;case 5:return e.t0=this,e.next=8,this.fetchGalleryItem(t.rootItem);case 8:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"handleGalleryClick",value:(r=Object(K.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentGallery=this.findMediaGalleriesById(t),e.t0=this,e.next=4,this.fetchGalleryItem(this.currentGallery.rootItem);case 4:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"handleGalleryItemClick",value:(n=Object(K.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetMediaObjects(),e.t0=this,e.next=4,this.fetchGalleryItem(t);case 4:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"handleRootClick",value:function(){this.currentGallery=null,this.$emit("update:current-gallery-item",null)}},{key:"refresh",value:(t=Object(K.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentGalleryItem){e.next=2;break}return e.abrupt("return");case 2:return e.t0=this,e.next=5,this.fetchGalleryItem(this.currentGalleryItem["@id"]);case 5:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1),this.$nextTick((function(){t.reload()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"reload",value:function(){var e=this,t=this.currentGalleryItem;this.$emit("update:current-gallery-item",null),this.$nextTick((function(){e.$emit("update:current-gallery-item",t)}))}},{key:"onRightClick",value:function(e){this.$refs["file-navigator-context-menu"].showMenu(e)}}]),h}(h.Vue);Ge([Object(h.Prop)({type:Object,required:!1})],Fe.prototype,"currentGalleryItem",void 0),Ge([Object(h.Prop)({type:Function,required:!0})],Fe.prototype,"clickHandler",void 0),Ge([Object(h.Prop)({type:String,required:!1,default:null})],Fe.prototype,"rootName",void 0),Ge([Be.Action("fetchAll")],Fe.prototype,"fetchAllGalleries",void 0),Ge([Me.Action("load")],Fe.prototype,"fetchGalleryItem",void 0),Ge([Be.Getter("list")],Fe.prototype,"mediaGalleries",void 0),Ge([Be.Getter("find")],Fe.prototype,"findMediaGalleriesById",void 0),Ge([$e.Action("resetList")],Fe.prototype,"resetMediaObjects",void 0),Ge([Object(h.Watch)("currentGallery")],Fe.prototype,"onGalleryChange",null);var Te=Fe=Ge([Object(h.Component)({components:{FileNavigatorBreadCrumb:ne,FileNavigatorFolders:ce,FileNavigatorFiles:he,FileNavigatorContextMenu:Ae}})],Fe),De=(n(633),n(780)),Ee=n(51),qe=Object(A.a)(Te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{on:{contextmenu:function(t){return t.preventDefault(),e.onRightClick(t)}}},[n("v-row",[n("v-col",[n("h3",{staticClass:"navigator-title",on:{click:e.handleRootClick}},[e._v("\n        Navigateur de fichier\n      ")]),n("file-navigator-bread-crumb",{attrs:{"gallery-item":e.currentGalleryItem,"gallery-click-handler":e.handleGalleryClick,"gallery-item-click-handler":e.handleGalleryItemClick}})],1)],1),e._v(" "),n("v-row",[e.currentGallery?e._e():n("v-toolbar",{attrs:{dense:""}},[n("v-overflow-btn",{staticClass:"pa-0",attrs:{items:e.mediaGalleries,"item-text":"name","item-value":e.getMediaGallery,label:"Sélectionner une gallerie...","hide-details":"",overflow:""},model:{value:e.currentGallery,callback:function(t){e.currentGallery=t},expression:"currentGallery"}})],1)],1),e._v(" "),e.currentGalleryItem&&e.currentGalleryItem.children.length>0?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("h4",[e._v("Dossiers")])]),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("file-navigator-folders",{attrs:{"gallery-item":e.currentGalleryItem,"handle-click":e.handleGalleryItemClick}})],1)],1):e._e(),e._v(" "),e.currentGalleryItem&&e.currentGalleryItem.mediaObjects.length>0?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("h4",[e._v("Fichiers")])]),e._v(" "),n("v-col",[n("file-navigator-files",{attrs:{"click-handler":e.clickHandler,"gallery-item":e.currentGalleryItem}})],1)],1):e._e(),e._v(" "),n("file-navigator-context-menu",{ref:"file-navigator-context-menu",attrs:{"gallery-item":e.currentGalleryItem}})],1)}),[],!1,null,"d9fa2b3c",null),He=qe.exports;function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}G()(qe,{VCol:F.a,VContainer:T.a,VOverflowBtn:De.a,VRow:H.a,VToolbar:Ee.a});var Ue=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},ze=function(e){Object(c.a)(n,e);var t=Ne(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).currentGalleryItem=null,e.thumbnails=[],e.links=[],e}return Object(l.a)(n,[{key:"reset",value:function(){this.thumbnails=[],this.links=[]}},{key:"selectItem",value:function(e){e.isImage?this.selectImage(e):this.selectLink(e)}},{key:"selectImage",value:function(e){this.thumbnails.push({src:e.contentUrl})}},{key:"selectLink",value:function(e){this.links.push({src:e.contentUrl,name:e.filePath})}},{key:"removeThumbnail",value:function(e){this.thumbnails.splice(e,1)}},{key:"removeLink",value:function(e){this.links.splice(e,1)}},{key:"handleUpload",value:function(e){var t=this;if(this.currentGalleryItem)for(var i=0;i<e.length;i++){var n=e[i],r=new FormData;r.append("file",n),r.append("mediaGalleryItemId",this.currentGalleryItem.id.toString()),this.$getRepository("media_objects").$post("/api/media_objects",{method:"POST",body:r}).then((function(e){e.isImage?t.selectImage(e):t.selectLink(e),t.$refs["file-navigator"].reload()}))}}}]),n}(h.Vue),We=ze=Ue([Object(h.Component)({components:{FileSelection:N,FileUploader:J,FileNavigator:He}})],ze),Xe=Object(A.a)(We,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("file-selection",{attrs:{thumbnails:e.thumbnails,links:e.links,"remove-link":e.removeLink,"remove-thumbnail":e.removeThumbnail}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("file-navigator",{ref:"file-navigator",attrs:{"click-handler":e.selectItem,"current-gallery-item":e.currentGalleryItem},on:{"update:currentGalleryItem":function(t){e.currentGalleryItem=t},"update:current-gallery-item":function(t){e.currentGalleryItem=t}}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("file-uploader",{attrs:{"handle-upload":e.handleUpload}})],1)],1)],1)}),[],!1,null,null,null),Ye=Xe.exports;function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}G()(Xe,{VCol:F.a,VContainer:T.a,VRow:H.a});var Ke=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},Ze=function(e){Object(c.a)(n,e);var t=Je(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).dialog=!1,e}return Object(l.a)(n,[{key:"injectFilesAndCloseDialog",value:function(){var e=this,t=this.$refs["file-manager"];t.thumbnails.forEach((function(t){e.editor.chain().focus().setImage({src:t.src}).run()})),t.links.forEach((function(link){var t=e.editor.schema.text(link.name,[e.editor.schema.marks.link.create({href:link.src})]);e.editor.view.dispatch(e.editor.state.tr.replaceSelectionWith(t,!1))})),this.dialog=!1}},{key:"onDialogToggle",value:function(){var e=this;this.$nextTick((function(){e.$refs["file-manager"].reset()}))}}]),n}(h.Vue);Ke([Object(h.Prop)({type:Object,required:!0})],Ze.prototype,"editor",void 0),Ke([Object(h.Watch)("dialog")],Ze.prototype,"onDialogToggle",null);var Qe=Ze=Ke([Object(h.Component)({components:{FileManager:Ye}})],Ze),et=n(741),tt=Object(A.a)(Qe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"90%"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,c=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,c),!1),Object.assign({},r,l)),[n("v-icon",[e._v("ri-file-transfer-line")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Téléverser un fichier")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n      Téléverser un fichier\n    ")]),e._v(" "),n("v-card-text",[n("file-manager",{ref:"file-manager"})],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return t.preventDefault(),e.injectFilesAndCloseDialog(t)}}},[e._v("\n        Insérer\n      ")])],1)],1)],1)}),[],!1,null,null,null),nt=tt.exports;G()(tt,{VBtn:B.a,VCard:M.a,VCardActions:$.a,VCardText:$.b,VCardTitle:$.c,VDialog:_e.a,VIcon:D.a,VSpacer:Ve.a,VTooltip:et.a});var it=n(669),ot=n(635),at=n(670),lt=n(671),ct=n(672);n(132);function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var st=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},ft=function(e){Object(c.a)(n,e);var t=ut(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return Object(l.a)(n,[{key:"nodeDisplay",get:function(){return this.extension.options.inline?"inline-block":"block"}},{key:"handleMouseDown",value:function(e){var t=this,n=(e.pageX,e.pageY,this.$refs["img-container"],parseFloat(this.node.attrs.width.match(/(.+)px/)[1])),r=e.x,o=function(e){var o=r-e.pageX,l="".concat(n-o,"px");t.updateAttributes({width:l})};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))}}]),n}(h.Vue);st([Object(h.Prop)({type:Object,required:!0})],ft.prototype,"node",void 0),st([Object(h.Prop)({type:Object,required:!0})],ft.prototype,"extension",void 0),st([Object(h.Prop)({type:Function,required:!0})],ft.prototype,"updateAttributes",void 0);var vt=ft=st([Object(h.Component)({components:{NodeViewWrapper:y.c}})],ft),pt=(n(636),Object(A.a)(vt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("node-view-wrapper",{style:{display:e.nodeDisplay}},[n("div",{ref:"img-container",staticClass:"img-container",class:{"is-active":e.isActive},style:{width:e.node.attrs.width},attrs:{draggable:"true",contenteditable:"false","data-drag-handle":""}},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.node.attrs.src,alt:e.node.attrs.title},on:{click:function(t){e.isActive=!e.isActive}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"handle",on:{mousedown:function(t){return t.preventDefault(),e.handleMouseDown(t)}}})])])}),[],!1,null,null,null).exports),ht=ct.a.extend({draggable:!0,addNodeView:function(){return Object(y.d)(pt)},addAttributes:function(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:"400px"}}}}),bt=n(557),yt=bt.b.create({name:"text-color",addGlobalAttributes:function(){return[{types:["heading","paragraph","textStyle"],attributes:{color:{default:null,renderHTML:function(e){return e.color?{class:"".concat(e.color,"--text"),"data-color":e.color}:{}},parseHTML:function(element){return{color:element.getAttribute("data-color")}}}}}]},addCommands:function(){return{setColor:function(e){return function(t){return(0,t.chain)().setMark("textStyle",{color:e}).run()}},removeColor:function(){return function(e){return(0,e.chain)().setMark("textStyle",{color:null}).run()}}}}}),gt=bt.b.create({name:"text-background-color",addGlobalAttributes:function(){return[{types:["heading","paragraph","textStyle"],attributes:{backGroundColor:{default:null,renderHTML:function(e){return e.backGroundColor?{class:"".concat(e.backGroundColor),"data-background-color":e.backGroundColor}:{}},parseHTML:function(element){return{backGroundColor:element.getAttribute("data-background-color")}}}}}]},addCommands:function(){return{setBackgroundColor:function(e){return function(t){return(0,t.chain)().setMark("textStyle",{backGroundColor:e}).run()}},removeBackgroundColor:function(){return function(e){return(0,e.chain)().setMark("textStyle",{backGroundColor:null}).run()}}}}}),mt=[{name:"Titre",text:"text--darken-4 primary",background:"darken-4 primary"},{name:"Primaire",text:"primary",background:"primary"},{name:"Info",text:"info",background:"info"},{name:"Erreur",text:"error",background:"error"},{name:"Accent",text:"accent",background:"accent"},{name:"Secondaire",text:"text--darken-1 secondary",background:"darken-1 secondary"},{name:"Light secondaire",text:"text--lighten-3 secondary",background:"lighten-3 secondary"},{name:"Noir",text:"black",background:"black"},{name:"Blanc",text:"white",background:"white"}];function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var _t=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},Ot=function(e){Object(c.a)(n,e);var t=xt(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).dialog=!1,e.colors=mt,e}return Object(l.a)(n,[{key:"chooseColor",value:function(e){this.editor.chain().focus().setColor(e.text).run(),this.dialog=!1}},{key:"removeColor",value:function(){this.editor.chain().focus().removeColor().run(),this.dialog=!1}}]),n}(h.Vue);_t([Object(h.Prop)({type:Object,required:!0})],Ot.prototype,"editor",void 0);var jt=Ot=_t([h.Component],Ot),kt=Object(A.a)(jt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"300"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,c=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,c),!1),Object.assign({},r,l)),[n("v-icon",[e._v("ri-font-color")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Couleur du texte")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-list",[e._l(e.colors,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.chooseColor(t)}}},[n("v-list-item-title",{class:t.text+"--text"},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})),e._v(" "),n("v-list-item",{on:{click:e.removeColor}},[n("v-list-item-title",[e._v("Aucune couleur")])],1)],2)],1)}),[],!1,null,null,null),Rt=kt.exports;G()(kt,{VBtn:B.a,VDialog:_e.a,VIcon:D.a,VList:ke.a,VListItem:Re.a,VListItemTitle:we.b,VTooltip:et.a});function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Ct=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},Pt=function(e){Object(c.a)(n,e);var t=wt(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).dialog=!1,e.colors=mt,e}return Object(l.a)(n,[{key:"chooseBackgroundColor",value:function(e){this.editor.chain().focus().setBackgroundColor(e.background).run(),this.dialog=!1}},{key:"removeBackgroundColor",value:function(){this.editor.chain().focus().removeBackgroundColor().run(),this.dialog=!1}}]),n}(h.Vue);Ct([Object(h.Prop)({type:Object,required:!0})],Pt.prototype,"editor",void 0);var Vt=Pt=Ct([h.Component],Pt),It=Object(A.a)(Vt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"300"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,c=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,c),!1),Object.assign({},r,l)),[n("v-icon",[e._v("ri-paint-fill")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Couleur de fond")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-list",[e._l(e.colors,(function(t,r){return n("v-list-item",{key:r,class:t.background,on:{click:function(n){return e.chooseBackgroundColor(t)}}},[n("v-list-item-title",[e._v(e._s(t.name))])],1)})),e._v(" "),n("v-list-item",{on:{click:e.removeBackgroundColor}},[n("v-list-item-title",[e._v("Aucune couleur")])],1)],2)],1)}),[],!1,null,null,null),Lt=It.exports;G()(It,{VBtn:B.a,VDialog:_e.a,VIcon:D.a,VList:ke.a,VListItem:Re.a,VListItemTitle:we.b,VTooltip:et.a});function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var St=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},Gt=function(e){Object(c.a)(n,e);var t=At(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).dialog=!1,e.fonts=["Permanent Marker","Amatic SC","Caveat","Helvetica"],e}return Object(l.a)(n,[{key:"selectFontFamily",value:function(e){this.editor.chain().focus().setFontFamily(e).run(),this.dialog=!1}},{key:"removeFontFamily",value:function(){this.editor.chain().focus().unsetFontFamily().run(),this.dialog=!1}}]),n}(h.Vue);St([Object(h.Prop)({type:Object,required:!0})],Gt.prototype,"editor",void 0);var Bt=Gt=St([h.Component],Gt),Mt=Object(A.a)(Bt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"300"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,c=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,c),!1),Object.assign({},r,l)),[n("v-icon",[e._v("ri-font-size")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Police de caractère")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-list",[e._l(e.fonts,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.selectFontFamily(t)}}},[n("v-list-item-title",{style:"font-family: "+t},[e._v("\n        "+e._s(t)+"\n      ")])],1)})),e._v(" "),n("v-list-item",{on:{click:e.removeFontFamily}},[n("v-list-item-title",[e._v("Par défaut")])],1)],2)],1)}),[],!1,null,null,null),$t=Mt.exports;function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}G()(Mt,{VBtn:B.a,VDialog:_e.a,VIcon:D.a,VList:ke.a,VListItem:Re.a,VListItemTitle:we.b,VTooltip:et.a});var Tt=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},Dt=function(e){Object(c.a)(n,e);var t=Ft(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).editor=null,e}return Object(l.a)(n,[{key:"onValueChange",value:function(e){var t;(null===(t=this.editor)||void 0===t?void 0:t.getHTML())===e||this.setContent(this.value||"")}},{key:"mounted",value:function(){var e=this;this.editor=new y.a({content:this.value,extensions:[].concat(Object(r.a)(Object(m.a)()),[x.a,O.a,j.a,k.a.configure({resizable:!0}),R.a,C.a,w.a,ht.configure({inline:!0}),it.a.configure({openOnClick:!0}),ot.a,yt,gt,at.a,lt.a]),onUpdate:function(){var t;e.$emit("input",null===(t=e.editor)||void 0===t?void 0:t.getHTML())}})}},{key:"beforeDestroy",value:function(){var e;null===(e=this.editor)||void 0===e||e.destroy()}},{key:"clearContent",value:function(){this.setContent("")}},{key:"addImage",value:function(){var e,t=window.prompt("URL");t&&(null===(e=this.editor)||void 0===e||e.chain().focus().setImage({src:t}).run())}},{key:"setLink",value:function(){var e,t=window.prompt("URL");t&&(null===(e=this.editor)||void 0===e||e.chain().focus().setLink({href:t}).run())}},{key:"setContent",value:function(content){this.editor&&this.editor.commands.setContent(content,!1)}}]),n}(h.Vue);Tt([Object(h.Prop)({type:String,required:!1,default:null})],Dt.prototype,"value",void 0),Tt([Object(h.Watch)("value")],Dt.prototype,"onValueChange",null);var Et=Dt=Tt([Object(h.Component)({components:{FileUploadBtn:nt,EditorContent:y.b,EditorBtn:_.a,TextColorBtn:Rt,TextBackgroundColorBtn:Lt,FontFamilyBtn:$t}})],Dt),qt=(n(638),Object(A.a)(Et,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"editor"},[e.editor?n("v-toolbar",{attrs:{flat:"",dark:""}},[n("editor-btn",{attrs:{label:"Gras","btn-class":{"grey darken-3":e.editor.isActive("bold")},"click-handler":function(){return e.editor.chain().focus().toggleBold().run()},icon:"ri-bold"}}),e._v(" "),n("editor-btn",{attrs:{label:"Italique","btn-class":{"grey darken-3":e.editor.isActive("italic")},"click-handler":function(){return e.editor.chain().focus().toggleItalic().run()},icon:"ri-italic"}}),e._v(" "),n("editor-btn",{attrs:{label:"Barrer","btn-class":{"grey darken-3":e.editor.isActive("strike")},"click-handler":function(){return e.editor.chain().focus().toggleStrike().run()},icon:"ri-strikethrough"}}),e._v(" "),n("text-color-btn",{attrs:{editor:e.editor}}),e._v(" "),n("text-background-color-btn",{attrs:{editor:e.editor}}),e._v(" "),n("font-family-btn",{attrs:{editor:e.editor}}),e._v(" "),n("editor-btn",{attrs:{label:"Supprimer le style de la sélection","click-handler":function(){return e.editor.chain().focus().unsetAllMarks().run()},icon:"ri-format-clear"}}),e._v(" "),n("editor-btn",{attrs:{label:"Supprimer le style du bloc","click-handler":function(){return e.editor.chain().focus().clearNodes().run()},icon:"ri-eraser-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Paragraphe","btn-class":{"grey darken-3":e.editor.isActive("paragraph")},"click-handler":function(){return e.editor.chain().focus().setParagraph().run()},icon:"ri-paragraph"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille xxl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:1})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:1}).run()},icon:"ri-h-1"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille xl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:2})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:2}).run()},icon:"ri-h-2"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille l","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:3})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:3}).run()},icon:"ri-h-3"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille m","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:4})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:4}).run()},icon:"ri-h-4"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille s","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:5})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:5}).run()},icon:"ri-h-5"}}),e._v(" "),n("editor-btn",{attrs:{label:"Taille xs","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:6})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:6}).run()},icon:"ri-h-6"}}),e._v(" "),n("editor-btn",{attrs:{label:"Liste","btn-class":{"grey darken-3":e.editor.isActive("bulletList")},"click-handler":function(){return e.editor.chain().focus().toggleBulletList().run()},icon:"ri-list-unordered"}}),e._v(" "),n("editor-btn",{attrs:{label:"Liste numérotée","btn-class":{"grey darken-3":e.editor.isActive("orderedList")},"click-handler":function(){return e.editor.chain().focus().toggleOrderedList().run()},icon:"ri-list-ordered"}}),e._v(" "),n("editor-btn",{attrs:{label:"Bloc de code","btn-class":{"grey darken-3":e.editor.isActive("codeBlock")},"click-handler":function(){return e.editor.chain().focus().toggleCodeBlock().run()},icon:"ri-code-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Citation","btn-class":{"grey darken-3":e.editor.isActive("blockquote")},"click-handler":function(){return e.editor.chain().focus().toggleCodeBlock().run()},icon:"ri-double-quotes-l"}}),e._v(" "),n("editor-btn",{attrs:{label:"Séparateur horizontal","click-handler":function(){return e.editor.chain().focus().setHorizontalRule().run()},icon:"ri-separator"}}),e._v(" "),n("editor-btn",{attrs:{label:"Undo","click-handler":function(){return e.editor.chain().focus().undo().run()},icon:"ri-arrow-go-back-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Redo","click-handler":function(){return e.editor.chain().focus().redo().run()},icon:"ri-arrow-go-forward-line"}}),e._v(" "),n("editor-btn",{attrs:{label:"Aligner à gauche","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"left"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("left").run()},icon:"ri-align-left"}}),e._v(" "),n("editor-btn",{attrs:{label:"Centrer","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"center"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("center").run()},icon:"ri-align-center"}}),e._v(" "),n("editor-btn",{attrs:{label:"Aligner à droite","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"right"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("right").run()},icon:"ri-align-right"}}),e._v(" "),n("editor-btn",{attrs:{label:"Justifier","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"justify"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("justify").run()},icon:"ri-align-justify"}}),e._v(" "),n("editor-btn",{attrs:{label:"Ajouter une image","btn-class":null,"click-handler":e.addImage,icon:"ri-image-line"}}),e._v(" "),n("file-upload-btn",{attrs:{editor:e.editor}}),e._v(" "),n("editor-btn",{attrs:{label:"Ajouter un lien","click-handler":e.setLink,"btn-class":{"is-active":e.editor.isActive("link")},icon:"ri-link"}}),e._v(" "),e.editor.isActive("link")?n("editor-btn",{attrs:{label:"Supprimer le lien",icon:"ri-link-unlink","click-handler":function(){return e.editor.chain().focus().unsetLink().run()}}}):e._e(),e._v(" "),e._t("supplemental_btns")],2):e._e(),e._v(" "),n("editor-content",{staticClass:"editor__content",attrs:{editor:e.editor}})],1),e._v(" "),n("div",{staticClass:"actions"},[n("v-btn",{staticClass:"v-icon",on:{click:e.clearContent}},[e._v("\n      Clear Content\n    ")])],1)])}),[],!1,null,"0054e408",null));t.a=qt.exports;G()(qt,{VBtn:B.a,VToolbar:Ee.a})},616:function(e,t,n){"use strict";n(35);var r=n(11),o=n(19),l=n(18),c=n(6),d=n(14),f=(n(5),n(20));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(f.Vue);h([Object(f.Prop)({type:Object,required:!1,default:null})],y.prototype,"btnClass",void 0),h([Object(f.Prop)({type:Function,required:!0})],y.prototype,"clickHandler",void 0),h([Object(f.Prop)({type:String,required:!0})],y.prototype,"icon",void 0),h([Object(f.Prop)({type:String,required:!0})],y.prototype,"label",void 0);var m=y=h([f.Component],y),x=n(31),_=n(40),O=n.n(_),j=n(121),k=n(197),R=n(741),component=Object(x.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({class:e.btnClass,attrs:{small:""},on:{click:e.clickHandler}},"v-btn",o,!1),r),[n("v-icon",[e._v(e._s(e.icon))])],1)]}}])},[e._v(" "),n("span",[e._v(e._s(e.label))])])}),[],!1,null,null,null);t.a=component.exports;O()(component,{VBtn:j.a,VIcon:k.a,VTooltip:R.a})},620:function(e,t,n){"use strict";n(9),n(8),n(7),n(5),n(13);var r=n(0),o=(n(24),n(584),n(535)),l=n(4);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d=Object(l.a)(o.a);t.a=d.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var e=input.scrollHeight,t=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(t,e)+"px"}},genInput:function(){var input=o.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(e){o.a.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},627:function(e,t,n){"use strict";n(605)},628:function(e,t,n){var r=n(15)(!1);r.push([e.i,".file-navigator-breadcrumb-container[data-v-55925b90]{display:inline-block;cursor:pointer}",""]),e.exports=r},629:function(e,t,n){"use strict";n(606)},630:function(e,t,n){var r=n(15)(!1);r.push([e.i,".file-navigator-object[data-v-28f59eea]{cursor:pointer}",""]),e.exports=r},631:function(e,t,n){"use strict";n(607)},632:function(e,t,n){var r=n(15)(!1);r.push([e.i,".context-menu[data-v-5a00c5d7]{top:0;left:0;margin:0;padding:0;display:none;position:fixed;z-index:1000000}.context-menu--active[data-v-5a00c5d7]{display:block}",""]),e.exports=r},633:function(e,t,n){"use strict";n(608)},634:function(e,t,n){var r=n(15)(!1);r.push([e.i,"h3.navigator-title[data-v-d9fa2b3c]{display:inline-block;cursor:pointer}",""]),e.exports=r},636:function(e,t,n){"use strict";n(609)},637:function(e,t,n){var r=n(15)(!1);r.push([e.i,".img-container{position:relative;display:inline-block;line-height:0}.img-container.is-active{border:1px dashed grey}.handle{position:absolute;bottom:0;right:0;width:10px;height:10px;border:3px solid #000;border-top:none;border-left:none;cursor:nwse-resize}",""]),e.exports=r},638:function(e,t,n){"use strict";n(610)},639:function(e,t,n){var r=n(15)(!1);r.push([e.i,".editor__content[data-v-0054e408]  .ProseMirror{min-height:100px;border:1px solid #212121;padding:10px}.editor__content[data-v-0054e408]  .ProseMirror p{margin-bottom:0}.editor__content[data-v-0054e408]  .ProseMirror a{color:#68cef8}.v-toolbar[data-v-0054e408]  .v-toolbar__content{flex-wrap:wrap}",""]),e.exports=r},649:function(e,t,n){"use strict";n(35);var r=n(11),o=n(21),l=n(19),c=n(18),d=n(6),f=n(14),v=(n(5),n(27),n(43),n(20)),h=n(211),y=n(745),m=n(740),x=n(759),_=n(130),O=n.n(_),j=n(209),k=n(616),R=n(614);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var C=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},P=h.helpers.regex("slug",/^[a-zA-Z0-9-]*$/),V=Object(v.namespace)("page_category"),I=Object(v.namespace)("page_log"),L=function(e){Object(l.a)(n,e);var t=w(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).dialog=!1,e.selectedLog=null,e}return Object(o.a)(n,[{key:"item",get:function(){return this.initialValues||this.values}},{key:"titleErrors",get:function(){var e=[];return this.$v.item.title&&this.$v.item.title.$dirty?(O()(this.violations,"title")&&e.push(this.violations.title),!this.$v.item.title.minLength&&e.push("Le titre doit faire au moins 4 caractères"),e):e}},{key:"urlErrors",get:function(){var e=[];return this.$v.item.url&&this.$v.item.url.$dirty?(O()(this.violations,"url")&&e.push(this.violations.url),!this.$v.item.url.minLength&&e.push("Le titre doit faire au moins 2 caractères"),!this.$v.item.url.slug&&e.push("L'url doit contenir seulement des chiffres, des lettres et le tiret du haut -"),e):e}},{key:"contentErrors",get:function(){var e=[];return this.$v.item.content&&this.$v.item.content.$dirty?(O()(this.violations,"url")&&e.push(this.violations.content),!this.$v.item.content.slug&&e.push("Le titre doit faire au moins 2 caractères"),e):e}},{key:"violations",get:function(){return this.errors||{}}},{key:"mounted",value:function(){this.categoryGetSelectItems()}},{key:"setContent",value:function(){if(this.selectedLog&&this.findLog(this.selectedLog)&&this.$refs.editor){var e=this.findLog(this.selectedLog);e&&this.$refs.editor.setContent(e.originalContent),this.dialog=!1}}},{key:"formatDate",value:function(e){return Object(y.a)(Object(m.a)(e),new Date,{locale:x.a})}}]),n}(Object(v.mixins)(j.validationMixin));C([Object(v.Prop)({type:Array,required:!0})],L.prototype,"pageLogs",void 0),C([Object(v.Prop)({type:Object,required:!0})],L.prototype,"values",void 0),C([Object(v.Prop)({type:Object,default:function(){}})],L.prototype,"errors",void 0),C([Object(v.Prop)({type:Object,default:function(){}})],L.prototype,"initialValues",void 0),C([V.State("selectItems")],L.prototype,"categorySelectItems",void 0),C([V.Action("fetchSelectItems")],L.prototype,"categoryGetSelectItems",void 0),C([I.Getter("find")],L.prototype,"findLog",void 0);var A=L=C([Object(v.Component)({name:"AdminPageForm",components:{Editor:R.a,EditorBtn:k.a},validations:{item:{title:{required:h.required,minLength:Object(h.minLength)(4)},url:{required:h.required,minLength:Object(h.minLength)(2),slug:P},content:{}}}})],L),S=n(31),G=n(40),B=n.n(G),M=n(121),$=n(203),F=n(160),T=n(550),D=n(619),E=n(556),H=n(623),N=n(548),U=n(197),z=n(552),W=n(568),X=n(553),Y=n(720),J=n(535),K=n(620),Z=n(741),component=Object(S.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Titre","error-messages":e.titleErrors,required:""},on:{input:function(t){return e.$v.item.title.$touch()},blur:function(t){return e.$v.item.title.$touch()}},model:{value:e.item.title,callback:function(t){e.$set(e.item,"title",t)},expression:"item.title"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Url","error-messages":e.urlErrors,required:""},on:{input:function(t){return e.$v.item.url.$touch()},blur:function(t){return e.$v.item.url.$touch()}},model:{value:e.item.url,callback:function(t){e.$set(e.item,"url",t)},expression:"item.url"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-switch",{attrs:{label:"Publier","input-value":"true"},model:{value:e.item.isPublished,callback:function(t){e.$set(e.item,"isPublished",t)},expression:"item.isPublished"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-switch",{attrs:{label:"Ajouter au menu","input-value":"true"},model:{value:e.item.showInMenu,callback:function(t){e.$set(e.item,"showInMenu",t)},expression:"item.showInMenu"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e.categorySelectItems?n("v-combobox",{attrs:{items:e.categorySelectItems,"no-data-text":"Aucune catégorie n'a ce nom",label:"category","item-text":"name","item-value":"@id","return-object":!1,clearable:""},model:{value:e.item.category,callback:function(t){e.$set(e.item,"category",t)},expression:"item.category"}}):e._e()],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("ClientOnly",[void 0!==e.item.content?n("Editor",{ref:"editor",scopedSlots:e._u([{key:"supplemental_btns",fn:function(){return[n("v-dialog",{attrs:{width:"90%"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,c=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,c),!1),Object.assign({},r,l)),[n("v-icon",[e._v("ri-download-cloud-line")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Charger une ancienne version")])])]}}],null,!1,650426681),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n                    Sélectionner une version de la page\n                  ")]),e._v(" "),n("v-card-text",[n("v-select",{attrs:{items:e.pageLogs,"item-text":function(t){return"#"+t.id+" "+e.formatDate(t.updatedAt)+" - "+(t.draft?"Automatique":"Manuelle par "+t.updatedBy.nickname)},"item-value":"@id",label:"Choisissez une version"},model:{value:e.selectedLog,callback:function(t){e.selectedLog=t},expression:"selectedLog"}}),e._v(" "),e.selectedLog&&e.findLog(e.selectedLog)?n("v-textarea",{domProps:{innerHTML:e._s(e.findLog(e.selectedLog).originalContent)}}):e._e()],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return t.preventDefault(),e.setContent(t)}}},[e._v("\n                      Récupérer la version sélectionnée\n                    ")])],1)],1)],1)]},proxy:!0}],null,!1,2920441609),model:{value:e.item.content,callback:function(t){e.$set(e.item,"content",t)},expression:"item.content"}}):e._e()],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;B()(component,{VBtn:M.a,VCard:$.a,VCardActions:F.a,VCardText:F.b,VCardTitle:F.c,VCol:T.a,VCombobox:D.a,VContainer:E.a,VDialog:H.a,VForm:N.a,VIcon:U.a,VRow:z.a,VSelect:W.a,VSpacer:X.a,VSwitch:Y.a,VTextField:J.a,VTextarea:K.a,VTooltip:Z.a})},773:function(e,t,n){"use strict";n.r(t);n(35),n(9),n(8),n(7),n(13);var r=n(0),o=n(11),l=n(21),c=n(19),d=n(18),f=n(6),v=n(14),h=(n(5),n(20)),y=n(560),m=n(561),x=n(649),_=n(611),O=n(29);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var R=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},w=Object(h.namespace)("page"),C=Object(h.namespace)("page_log"),P=function(e){Object(c.a)(n,e);var t=k(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).autoSaveInterval=null,e}return Object(l.a)(n,[{key:"canDeletePage",get:function(){return this.hasPermission("USER_CAN_DELETE_PAGES")}},{key:"onRetrieved",value:function(e){this.item=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e),this.item&&this.loadLogs()}},{key:"onPageUpdated",value:function(e){e&&this.loadLogs()}},{key:"loadLogs",value:function(){this.item&&(this.resetLogList(),this.getLogs({"page.url":this.item.url,"order[updatedAt]":"desc"}))}},{key:"autoSave",value:function(){var e=this;this.createLog({originalContent:this.item.content,draft:!0,page:this.item["@id"]}).then((function(){e.loadLogs()}))}},{key:"mounted",value:function(){this.autoSaveInterval=window.setInterval(this.autoSave,12e4)}},{key:"beforeDestroy",value:function(){this.autoSaveInterval&&clearInterval(this.autoSaveInterval),this.autoSaveInterval=null}}]),n}(Object(h.mixins)(_.a));R([w.State("updated")],P.prototype,"updated",void 0),R([w.State("error")],P.prototype,"error",void 0),R([w.State("isLoading")],P.prototype,"isLoading",void 0),R([w.State("violations")],P.prototype,"violations",void 0),R([w.Getter("find")],P.prototype,"find",void 0),R([w.Action("resetCreate")],P.prototype,"createReset",void 0),R([w.Action("resetDelete")],P.prototype,"delReset",void 0),R([w.Action("load")],P.prototype,"retrieve",void 0),R([w.Action("update")],P.prototype,"update",void 0),R([w.Action("resetUpdate")],P.prototype,"updateReset",void 0),R([C.Action("fetchAll")],P.prototype,"getLogs",void 0),R([C.Action("create")],P.prototype,"createLog",void 0),R([C.Getter("list")],P.prototype,"pageLogs",void 0),R([C.Mutation(O.MUTATIONS.RESET_LIST)],P.prototype,"resetLogList",void 0),R([Object(h.Watch)("retrieved")],P.prototype,"onRetrieved",null),R([Object(h.Watch)("updated")],P.prototype,"onPageUpdated",null);var V=P=R([Object(h.Component)({components:{Loading:y.a,Toolbar:m.a,Form:x.a},servicePrefix:"admin-page",resourcePrefix:"/api/pages/",middleware:"hasPermissions",meta:{permissions:["USER_CAN_EDIT_PAGES"]}})],P),I=n(31),L=n(40),A=n.n(L),S=n(738),G=n(550),B=n(556),M=n(552),component=Object(I.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.error?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-alert",{attrs:{type:"error"}},[e._v("\n        "+e._s(e.error)+"\n      ")])],1)],1):e._e(),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[e.item?n("Form",{ref:"updateForm",attrs:{values:e.item,errors:e.violations,"page-logs":e.pageLogs}}):e._e()],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("Toolbar",{attrs:{"handle-submit":e.onSendForm,"handle-reset":e.resetForm,"handle-delete":e.canDeletePage?e.del:null,"handle-back":e.back},scopedSlots:e._u([{key:"left",fn:function(){return[e.item?n("h1",[e._v("\n            Edit "+e._s(e.item.url)+"\n          ")]):e._e()]},proxy:!0}])})],1)],1),e._v(" "),n("Loading",{attrs:{visible:e.isLoading}})],1)}),[],!1,null,null,null);t.default=component.exports;A()(component,{VAlert:S.a,VCol:G.a,VContainer:B.a,VRow:M.a})}}]);