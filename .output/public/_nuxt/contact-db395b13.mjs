import{P as y}from"./PageComponent-2686b6fe.mjs";import{a as g,T as N}from"./TextField-8fccfdb3.mjs";import{_ as v,d as j,a as E,an as S,s as T,J as C,M as F,r as k,o as s,c as b,b as n,w as i,e as d,C as P,k as o,n as m,g as l,t as x,f as _}from"./entry-a96e082f.mjs";import"./Icon-8316deac.mjs";const M=j({setup(h,{expose:p}){p();const u=E(),t=u.find("/api/pages/contact"),c=S(),r=T(),e={pageStore:u,page:t,contactStore:c,notificationStore:r,schema:{email:"required|email",phoneNumber:"regex:^0\\d{9}$",firstName:"min:3|max:60",lastName:"min:3|max:60",subject:"required|min:8|max:60",content:"required|min:10|max:1000"},onSubmit:async w=>{try{await c.create(w),r.showMessage("Message correctement envoy\xE9 !")}catch{r.showError(c[P.CREATION].error)}},PageComponent:y,Tooltip:g,Form:C,Field:F,TextField:N};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),B={class:"flex bg-white flex-auto flex-col py-3"},D=l("Contacte-nous"),O={key:1},V=o("p",null,[l(" Pour nous contacter tu peux nous envoyer un email \xE0 "),o("a",{href:"mailto:contact@lestransalpins.org",title:"Envoyer un email aux transalpins"},"contact@lestransalpins.org"),l(" ou bien remplir le formulaire suivant.")],-1),q=o("p",null," Dans ce cas tu recevras un email de confirmation ou bien regarde dans tes spams si ce n'est pas le cas. ",-1),R=[V,q],I={class:"flex flex-row w-full group py-4 px-3"},z={class:"relative w-full"},A=l("Sujet "),J={class:"flex flex-col w-full group py-4 px-3"},U={class:"flex flex-row"},G=o("button",{type:"submit",class:"py-3 px-4 bg-primary text-white shadow-md uppercase hover:bg-primary-dark"},"Envoyer",-1),H=o("button",{type:"reset",class:"py-3 px-4 bg-secondary text-white shadow-md uppercase hover:bg-accent"},"R\xE9initialiser",-1);function K(h,p,u,t,c,r){const f=k("Title");return s(),b("div",B,[n(f,null,{default:i(()=>[D]),_:1}),t.page?(s(),d(t.PageComponent,{key:0,page:t.page},null,8,["page"])):(s(),b("div",O,R)),n(t.Form,{onSubmit:t.onSubmit,class:"flex flex-row flex-wrap w-full sm:w-3/4 md:wd-1/2 lg:wd-1/3 justify-center self-center text-gray-500","validation-schema":t.schema},{default:i(({values:a,errors:e})=>[n(t.TextField,{icon:"ri-mail-line",type:"email",name:"email",error:e.email,value:a.email,label:"Email",class:"w-full md:w-1/2"},null,8,["error","value"]),n(t.TextField,{icon:"ri-phone-line",type:"phoneNumber",name:"phoneNumber",error:e.phoneNumber,value:a.phoneNumber,label:"Num\xE9ro de t\xE9l\xE9phone",class:"w-full md:w-1/2"},null,8,["error","value"]),n(t.TextField,{type:"firstName",name:"firstName",error:e.firstName,value:a.firstName,label:"Pr\xE9nom",class:"w-full md:w-1/2"},null,8,["error","value"]),n(t.TextField,{type:"lastName",name:"lastName",error:e.lastName,value:a.lastName,label:"Nom",class:"w-full md:w-1/2"},null,8,["error","value"]),o("div",I,[o("div",z,[n(t.Field,{id:"subject",name:"subject",autocomplete:"off",type:"text",format:"0[0-9]{9}",class:"peer w-full outline-none h-8",validateOnInput:!0}),o("label",{for:"subject",class:m([{"h-1/2 -translate-y-full pl-0":!!a.subject,"text-accent":!!e.subject,"text-primary":!!a.subject&&!e.subject},"transform transition-all absolute top-0 left-0 h-full flex items-center pl-0 text-sm group-focus-within:text-xs group-focus-within:h-1/2 group-focus-within:-translate-y-full"])},[A,e.subject?(s(),d(t.Tooltip,{key:0},{default:i(()=>[l(x(e.subject),1)]),_:2},1024)):_("",!0)],2),o("div",{class:m([{"border-accent":!!e.subject,"border-primary":!!a.subject&&!e.subject,"border-gray-500":!a.subject},"absolute bottom-0 w-full border-b"])},null,2)])]),o("div",J,[o("div",U,[o("label",{for:"content",class:m(["w-fit self-center",{"text-accent":!!e.content,"text-primary":!!a.content&&!e.content}])},"Message",2),e.content?(s(),d(t.Tooltip,{key:0},{default:i(()=>[l(x(e.content),1)]),_:2},1024)):_("",!0)]),n(t.Field,{as:"textarea",autocomplete:"off",rows:"10",id:"content",name:"content",type:"textarea",format:"0[0-9]{9}",class:m(["w-full w-full border p-2 outline-none",{"border-accent":!!e.content,"border-primary":!!a.content&&!e.content,"border-gray-500":!a.content}])},null,8,["class"])]),G,H]),_:1})])}var Z=v(M,[["render",K]]);export{Z as default};
