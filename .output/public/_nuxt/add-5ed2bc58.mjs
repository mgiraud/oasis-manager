import{_ as m,d as p,an as f,u as g,v as _,m as d,q as C,o as E,c as x,b as h,C as s,j as y,ak as b}from"./entry-bbf0cde0.mjs";import{F as v}from"./FormComponent-d35e75f4.mjs";import"./asyncData-ab30f611.mjs";import"./CheckboxField-6dd604a6.mjs";import"./TextField-52f43e27.mjs";import"./Icon-ca36084c.mjs";const S=p({setup(u,{expose:a}){a();const o=f(),e=g(),n=_(),i=d("page-creation",()=>({isPublished:!1,showInMenu:!1})),r=C(),c={pageCategoryStore:o,route:e,app:n,categoryCreation:i,notificationStore:r,submit:async(t,l)=>{t.isPublished==="true"&&(t.isPublished=!1),t.showInMenu==="true"&&(t.showInMenu=!1);try{await o.create(t),r.showMessage("Cat\xE9gorie correctement cr\xE9e"),b({name:"admin-categories-slug",params:{slug:o[s.CREATION].created.slug}})}catch{r.showError("Erreur dans la cr\xE9ation la cat\xE9gorie, v\xE9rifie le formulaire"),l.setErrors(o[s.CREATION].violations)}},CRUD_MODE:s,FormComponent:v};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),N={class:"flex flex-col flex-auto p-3"},w=y("h1",{class:"mb-4"},"Cr\xE9ation d'une page",-1);function I(u,a,o,e,n,i){return E(),x("div",N,[w,h(e.FormComponent,{category:e.categoryCreation,"onUpdate:category":a[0]||(a[0]=r=>e.categoryCreation=r),"submit-handler":e.submit,errors:e.pageCategoryStore[e.CRUD_MODE.CREATION].violations},null,8,["category","errors"])])}var B=m(S,[["render",I]]);export{B as default};
