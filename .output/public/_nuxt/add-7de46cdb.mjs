import{_ as p,d as m,al as f,u as g,x as _,p as d,s as C,o as E,c as x,b as h,C as s,k as y,aj as b}from"./entry-87b30bf9.mjs";import{F as S}from"./FormComponent-97a7514f.mjs";import"./asyncData-43007f1d.mjs";import"./CheckboxField-d03e3edb.mjs";import"./Tooltip-52fdeb63.mjs";import"./Icon-fefadd4a.mjs";import"./TextField-1d5b5a19.mjs";const v=m({setup(u,{expose:a}){a();const o=f(),e=g(),n=_(),i=d("page-creation",()=>({isPublished:!1,showInMenu:!1})),r=C(),c={pageCategoryStore:o,route:e,app:n,categoryCreation:i,notificationStore:r,submit:async(t,l)=>{t.isPublished==="true"&&(t.isPublished=!1),t.showInMenu==="true"&&(t.showInMenu=!1);try{await o.create(t),r.showMessage("Cat\xE9gorie correctement cr\xE9e"),b({name:"admin-categories-slug",params:{slug:o[s.CREATION].created.slug}})}catch{r.showError("Erreur dans la cr\xE9ation la cat\xE9gorie, v\xE9rifie le formulaire"),l.setErrors(o[s.CREATION].violations)}},CRUD_MODE:s,FormComponent:S};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),N={class:"flex flex-col flex-auto p-3"},w=y("h1",{class:"mb-4"},"Cr\xE9ation d'une page",-1);function I(u,a,o,e,n,i){return E(),x("div",N,[w,h(e.FormComponent,{category:e.categoryCreation,"onUpdate:category":a[0]||(a[0]=r=>e.categoryCreation=r),"submit-handler":e.submit,errors:e.pageCategoryStore[e.CRUD_MODE.CREATION].violations},null,8,["category","errors"])])}var F=p(v,[["render",I]]);export{F as default};
