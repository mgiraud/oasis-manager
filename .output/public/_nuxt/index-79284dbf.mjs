import{_ as y,d as g,a as b,s as k,u as C,q as D,h as w,o as _,c as m,b as a,w as x,F as P,l as S,ak as j,k as s,t as i}from"./entry-87b30bf9.mjs";import{u as I}from"./asyncData-43007f1d.mjs";import{C as E}from"./ConfirmationDeleteModal-c456cfb9.mjs";import{I as N}from"./Icon-fefadd4a.mjs";import"./dialog-f5e7a3df.mjs";import"./use-outside-click-8678eb71.mjs";const A=g({async setup(v,{expose:n}){n();let l,e;const o=b(),r=k(),c=C(),{data:t,refresh:f}=([l,e]=D(async()=>I("page-list",async()=>(await o.fetchAll(),o.list))),l=await l,e(),l),u=w(!1),d=w(null),h={pageStore:o,notificationStore:r,route:c,data:t,refresh:f,dialog:u,pageToDelete:d,deletePage:p=>{d.value=p,u.value=!0},handleDelete:async()=>{if(!!d.value){try{await o.remove(d.value.url),f(),r.showMessage("Page correctement supprim\xE9e")}catch{r.showError("Erreur dans la suppression de la page")}u.value=!1}},ConfirmationDeleteModal:E,Icon:N};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),B={class:"flex flex-col flex-auto p-3"},M=s("div",{class:"pl-2"},"Cr\xE9er une page",-1),F={class:"flex flex-row flex-wrap items-center justify-between hover:bg-gray-100 hover:text-primary-dark h-9"},L={class:"w-full md:w-1/5 flex-1 md:pl-2"},V={class:"w-full md:w-1/6 flex-initial"},q={class:"w-full md:w-1/5 flex-1"},O={class:"w-full md:w-1/12 flex-initial"},R={class:"w-full md:w-1/12 flex-initial"},T={class:"w-full md:w-1/12 flex-initial flex self-stretch items-stretch"},U={class:"bg-primary flex-auto flex items-stretch justify-center"},z={class:"bg-accent flex-auto flex items-stretch justify-center"},G=["onClick"];function H(v,n,l,e,o,r){const c=j;return _(),m("div",B,[a(c,{to:{name:"admin-pages-add"},class:"py-2 pl-2 pr-3 bg-primary text-white shadow-md uppercase hover:bg-primary-dark w-fit flex flex-row items-center"},{default:x(()=>[a(e.Icon,{icon:"ri-add-line",class:"fill-white w-8 h-8"}),M]),_:1}),(_(!0),m(P,null,S(e.data,t=>(_(),m("div",F,[s("div",L,i(t.title),1),s("div",V,i(t.createdBy),1),s("div",q,i(t.category?t.category.name:"N/A"),1),s("div",O,i(t.isPublished),1),s("div",R,i(t.showInMenu),1),s("div",T,[s("div",U,[a(c,{to:{name:"admin-pages-slug",params:{slug:t.url}},class:"w-full flex items-center justify-center"},{default:x(()=>[a(e.Icon,{icon:"ri-edit-line",class:"fill-white w-4 h-4"})]),_:2},1032,["to"])]),s("div",z,[s("div",{onClick:f=>e.deletePage(t),class:"w-full flex items-center justify-center cursor-pointer"},[a(e.Icon,{icon:"ri-delete-bin-line",class:"fill-white w-4 h-4"})],8,G)])])]))),256)),a(e.ConfirmationDeleteModal,{open:e.dialog,"onUpdate:open":n[0]||(n[0]=t=>e.dialog=t),"handle-remove":e.handleDelete},null,8,["open"])])}var ee=y(A,[["render",H]]);export{ee as default};
