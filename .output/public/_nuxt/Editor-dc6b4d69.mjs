var Te=Object.defineProperty,Be=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var ue=(t,a,o)=>a in t?Te(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,P=(t,a)=>{for(var o in a||(a={}))fe.call(a,o)&&ue(t,o,a[o]);if(X)for(var o of X(a))ve.call(a,o)&&ue(t,o,a[o]);return t},be=(t,a)=>Be(t,Pe(a));var pe=(t,a)=>{var o={};for(var e in t)fe.call(t,e)&&a.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&X)for(var e of X(t))a.indexOf(e)<0&&ve.call(t,e)&&(o[e]=t[e]);return o};import{d as B,h as x,i as E,M,N as Le,O as me,F,P as Y,y as Ee,z as ie,Q as Ae,R as I,S as Re,_ as H,o as k,c as L,e as z,n as D,f as K,j as y,b as n,w as s,k as Z,t as j,K as De,g as _,L as Fe,T as he,U as Ie,V as je,W as Me,X as Ve,E as ze,Y as He,Z as Ue,$ as Ne,a0 as qe,a1 as Ke,a2 as We,a3 as Qe,a4 as Ge,a5 as Je,a6 as Xe,a7 as Ye,a8 as Ze,a9 as $e,aa as el,ab as ll,ac as tl,ad as ol}from"./entry-2e347780.mjs";import{a as xe}from"./TextField-5fde64fb.mjs";import{I as N}from"./Icon-f078fbba.mjs";import{p as W,x as Q,w as G,F as al}from"./FileManager-1a196688.mjs";import{b as nl,f as $,o as ee}from"./transition-2ed963cb.mjs";import{M as le,j as te,A as oe}from"./dialog-f417b9ae.mjs";import{k as q,u as V,g as il,c as rl,l as ne,O as sl,R as ke,t as ae,a as O,p as cl,m as ge,v as dl,S as ul,b as fl,o as w}from"./use-outside-click-ea4f1ee7.mjs";import{x as vl,a as T}from"./calculate-active-index-130b59fd.mjs";let bl=B({name:"VisuallyHidden",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:a,attrs:o}){return()=>q({props:be(P({},t),{style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",display:"none"}}),slot:{},attrs:o,slots:a,name:"VisuallyHidden"})}});function _e(t={},a=null,o=[]){for(let[e,l]of Object.entries(t))Ce(o,ye(a,e),l);return o}function ye(t,a){return t?t+"["+a+"]":a}function Ce(t,a,o){if(Array.isArray(o))for(let[e,l]of o.entries())Ce(t,ye(a,e.toString()),l);else o instanceof Date?t.push([a,o.toISOString()]):typeof o=="boolean"?t.push([a,o?"1":"0"]):typeof o=="string"?t.push([a,o]):typeof o=="number"?t.push([a,`${o}`]):o==null?t.push([a,""]):_e(o,a,t)}var pl=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(pl||{}),ml=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ml||{}),gl=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(gl||{});function hl(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let we=Symbol("ListboxContext");function J(t){let a=Re(we,null);if(a===null){let o=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,J),o}return a}let re=B({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:a,attrs:o,emit:e}){let l=x(1),f=x(null),r=x(null),p=x(null),d=x([]),v=x(""),i=x(null),b=x(1);function S(c=m=>m){let m=i.value!==null?d.value[i.value]:null,g=dl(c(d.value.slice()),R=>O(R.dataRef.domRef)),h=m?g.indexOf(m):null;return h===-1&&(h=null),{options:g,activeOptionIndex:h}}let C=E(()=>t.modelValue),A=E(()=>t.multiple?1:0),u={listboxState:l,value:C,mode:A,orientation:E(()=>t.horizontal?"horizontal":"vertical"),labelRef:f,buttonRef:r,optionsRef:p,disabled:E(()=>t.disabled),options:d,searchQuery:v,activeOptionIndex:i,activationTrigger:b,closeListbox(){t.disabled||l.value!==1&&(l.value=1,i.value=null)},openListbox(){t.disabled||l.value!==0&&(l.value=0)},goToOption(c,m,g){if(t.disabled||l.value===1)return;let h=S(),R=vl(c===T.Specific?{focus:T.Specific,id:m}:{focus:c},{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:U=>U.id,resolveDisabled:U=>U.dataRef.disabled});v.value="",i.value=R,b.value=g!=null?g:1,d.value=h.options},search(c){if(t.disabled||l.value===1)return;let m=v.value!==""?0:1;v.value+=c.toLowerCase();let g=(i.value!==null?d.value.slice(i.value+m).concat(d.value.slice(0,i.value+m)):d.value).find(R=>R.dataRef.textValue.startsWith(v.value)&&!R.dataRef.disabled),h=g?d.value.indexOf(g):-1;h===-1||h===i.value||(i.value=h,b.value=1)},clearSearch(){t.disabled||l.value!==1&&v.value!==""&&(v.value="")},registerOption(c,m){let g=S(h=>[...h,{id:c,dataRef:m}]);d.value=g.options,i.value=g.activeOptionIndex},unregisterOption(c){let m=S(g=>{let h=g.findIndex(R=>R.id===c);return h!==-1&&g.splice(h,1),g});d.value=m.options,i.value=m.activeOptionIndex,b.value=1},select(c){t.disabled||e("update:modelValue",V(A.value,{[0]:()=>c,[1]:()=>{let m=M(u.value.value).slice(),g=M(c),h=m.indexOf(g);return h===-1?m.push(g):m.splice(h,1),m}}))}};return il([r,p],(c,m)=>{var g;l.value===0&&(u.closeListbox(),ul(m,fl.Loose)||(c.preventDefault(),(g=O(r))==null||g.focus()))}),Le(we,u),rl(E(()=>V(l.value,{[0]:ne.Open,[1]:ne.Closed}))),()=>{let U=t,{name:c,modelValue:m,disabled:g}=U,h=pe(U,["name","modelValue","disabled"]),R={open:l.value===0,disabled:g};return me(F,[...c!=null&&m!=null?_e({[c]:m}).map(([de,Se])=>me(bl,sl({key:de,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:de,value:Se}))):[],q({props:P(P({},o),ke(h,["onUpdate:modelValue","horizontal","multiple"])),slot:R,slots:a,attrs:o,name:"Listbox"})])}}});B({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(t,{attrs:a,slots:o}){let e=J("ListboxLabel"),l=`headlessui-listbox-label-${ae()}`;function f(){var r;(r=O(e.buttonRef))==null||r.focus({preventScroll:!0})}return()=>{let r={open:e.listboxState.value===0,disabled:e.disabled.value},p={id:l,ref:e.labelRef,onClick:f};return q({props:P(P({},t),p),slot:r,attrs:a,slots:o,name:"ListboxLabel"})}}});let Ot=B({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:a,slots:o,expose:e}){let l=J("ListboxButton"),f=`headlessui-listbox-button-${ae()}`;e({el:l.buttonRef,$el:l.buttonRef});function r(i){switch(i.key){case w.Space:case w.Enter:case w.ArrowDown:i.preventDefault(),l.openListbox(),I(()=>{var b;(b=O(l.optionsRef))==null||b.focus({preventScroll:!0}),l.value.value||l.goToOption(T.First)});break;case w.ArrowUp:i.preventDefault(),l.openListbox(),I(()=>{var b;(b=O(l.optionsRef))==null||b.focus({preventScroll:!0}),l.value.value||l.goToOption(T.Last)});break}}function p(i){switch(i.key){case w.Space:i.preventDefault();break}}function d(i){l.disabled.value||(l.listboxState.value===0?(l.closeListbox(),I(()=>{var b;return(b=O(l.buttonRef))==null?void 0:b.focus({preventScroll:!0})})):(i.preventDefault(),l.openListbox(),hl(()=>{var b;return(b=O(l.optionsRef))==null?void 0:b.focus({preventScroll:!0})})))}let v=nl(E(()=>({as:t.as,type:a.type})),l.buttonRef);return()=>{var i,b;let S={open:l.listboxState.value===0,disabled:l.disabled.value},C={ref:l.buttonRef,id:f,type:v.value,"aria-haspopup":!0,"aria-controls":(i=O(l.optionsRef))==null?void 0:i.id,"aria-expanded":l.disabled.value?void 0:l.listboxState.value===0,"aria-labelledby":l.labelRef.value?[(b=O(l.labelRef))==null?void 0:b.id,f].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:r,onKeyup:p,onClick:d};return q({props:P(P({},t),C),slot:S,attrs:a,slots:o,name:"ListboxButton"})}}}),se=B({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:a,slots:o,expose:e}){let l=J("ListboxOptions"),f=`headlessui-listbox-options-${ae()}`,r=x(null);e({el:l.optionsRef,$el:l.optionsRef});function p(i){switch(r.value&&clearTimeout(r.value),i.key){case w.Space:if(l.searchQuery.value!=="")return i.preventDefault(),i.stopPropagation(),l.search(i.key);case w.Enter:if(i.preventDefault(),i.stopPropagation(),l.activeOptionIndex.value!==null){let b=l.options.value[l.activeOptionIndex.value];l.select(b.dataRef.value)}l.mode.value===0&&(l.closeListbox(),I(()=>{var b;return(b=O(l.buttonRef))==null?void 0:b.focus({preventScroll:!0})}));break;case V(l.orientation.value,{vertical:w.ArrowDown,horizontal:w.ArrowRight}):return i.preventDefault(),i.stopPropagation(),l.goToOption(T.Next);case V(l.orientation.value,{vertical:w.ArrowUp,horizontal:w.ArrowLeft}):return i.preventDefault(),i.stopPropagation(),l.goToOption(T.Previous);case w.Home:case w.PageUp:return i.preventDefault(),i.stopPropagation(),l.goToOption(T.First);case w.End:case w.PageDown:return i.preventDefault(),i.stopPropagation(),l.goToOption(T.Last);case w.Escape:i.preventDefault(),i.stopPropagation(),l.closeListbox(),I(()=>{var b;return(b=O(l.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case w.Tab:i.preventDefault(),i.stopPropagation();break;default:i.key.length===1&&(l.search(i.key),r.value=setTimeout(()=>l.clearSearch(),350));break}}let d=cl(),v=E(()=>d!==null?d.value===ne.Open:l.listboxState.value===0);return()=>{var i,b,S,C;let A={open:l.listboxState.value===0},u={"aria-activedescendant":l.activeOptionIndex.value===null||(i=l.options.value[l.activeOptionIndex.value])==null?void 0:i.id,"aria-multiselectable":l.mode.value===1?!0:void 0,"aria-labelledby":(C=(b=O(l.labelRef))==null?void 0:b.id)!=null?C:(S=O(l.buttonRef))==null?void 0:S.id,"aria-orientation":l.orientation.value,id:f,onKeydown:p,role:"listbox",tabIndex:0,ref:l.optionsRef};return q({props:P(P({},t),u),slot:A,attrs:a,slots:o,features:ge.RenderStrategy|ge.Static,visible:v.value,name:"ListboxOptions"})}}}),ce=B({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:a,attrs:o,expose:e}){let l=J("ListboxOption"),f=`headlessui-listbox-option-${ae()}`,r=x(null);e({el:r,$el:r});let p=E(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===f:!1),d=E(()=>V(l.mode.value,{[0]:()=>M(l.value.value)===M(t.value),[1]:()=>M(l.value.value).includes(M(t.value))})),v=E(()=>V(l.mode.value,{[1]:()=>{var u;let c=M(l.value.value);return((u=l.options.value.find(m=>c.includes(m.dataRef.value)))==null?void 0:u.id)===f},[0]:()=>d.value})),i=E(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:r}));Y(()=>{var u,c;let m=(c=(u=O(r))==null?void 0:u.textContent)==null?void 0:c.toLowerCase().trim();m!==void 0&&(i.value.textValue=m)}),Y(()=>l.registerOption(f,i)),Ee(()=>l.unregisterOption(f)),Y(()=>{ie([l.listboxState,d],()=>{l.listboxState.value===0&&(!d.value||V(l.mode.value,{[1]:()=>{v.value&&l.goToOption(T.Specific,f)},[0]:()=>{l.goToOption(T.Specific,f)}}))},{immediate:!0})}),Ae(()=>{l.listboxState.value===0&&(!p.value||l.activationTrigger.value!==0&&I(()=>{var u,c;return(c=(u=O(r))==null?void 0:u.scrollIntoView)==null?void 0:c.call(u,{block:"nearest"})}))});function b(u){if(t.disabled)return u.preventDefault();l.select(t.value),l.mode.value===0&&(l.closeListbox(),I(()=>{var c;return(c=O(l.buttonRef))==null?void 0:c.focus({preventScroll:!0})}))}function S(){if(t.disabled)return l.goToOption(T.Nothing);l.goToOption(T.Specific,f)}function C(){t.disabled||p.value||l.goToOption(T.Specific,f,0)}function A(){t.disabled||!p.value||l.goToOption(T.Nothing)}return()=>{let{disabled:u}=t,c={active:p.value,selected:d.value,disabled:u},m={id:f,ref:r,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":d.value===!0?d.value:void 0,disabled:void 0,onClick:b,onFocus:S,onPointermove:C,onMousemove:C,onPointerleave:A,onMouseleave:A};return q({props:P(P({},ke(t,["value","disabled"])),m),slot:c,attrs:o,slots:a,name:"ListboxOption"})}}});const xl=B({props:{name:null,label:null,icon:null,error:null,value:null,fieldAttrs:{default:{autocomplete:"off",validateOnInput:!0}},options:null},setup(t,{expose:a}){a();const e={props:t,Field:Fe,Tooltip:xe,Icon:N};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),kl={class:"flex flex-row group py-4 px-3"},_l={class:"relative w-full"},yl=["value","selected"],Cl=["for"];function wl(t,a,o,e,l,f){return k(),L("div",kl,[o.icon?(k(),z(e.Icon,{key:0,icon:o.icon,class:D(["h-8 w-10 group-focus-within:stroke-2",{"fill-accent":!!o.error,"fill-primary":!!o.value&&!o.error,"fill-gray-500":!o.value}])},null,8,["icon","class"])):K("",!0),y("div",_l,[n(e.Field,De({as:"select",id:o.name,name:o.name,class:"peer w-full outline-none h-8"},o.fieldAttrs),{default:s(()=>[(k(!0),L(F,null,Z(o.options,r=>(k(),L("option",{value:r.value,selected:r.value===o.value},j(r.label),9,yl))),256))]),_:1},16,["id","name"]),y("label",{for:o.name,class:D([{"text-accent":!!o.error,"text-primary":!!o.value&&!o.error},"h-1/2 -translate-y-full pl-0 transform transition-all absolute top-0 left-0 h-full flex items-center pl-0 text-sm group-focus-within:text-xs group-focus-within:h-1/2 group-focus-within:-translate-y-full"])},[_(j(o.label)+" ",1),o.error?(k(),z(e.Tooltip,{key:0},{default:s(()=>[_(j(o.error),1)]),_:1})):K("",!0)],10,Cl),y("div",{class:D([{"border-accent":!!o.error,"border-primary":!!o.value&&!o.error,"border-gray-500":!o.value,"-ml-8 w-[calc(100%_+_2rem)]":!!o.icon,"w-full":!o.icon},"absolute bottom-0 border-b"])},null,2)])])}var St=H(xl,[["render",wl]]);const Ol=B({props:{btnClass:null,clickHandler:null,iconComponent:null,label:null},setup(t,{expose:a}){a();const o=t,e=x(!1),l={props:o,mouseOn:e,Popover:W,PopoverButton:Q,PopoverPanel:G,Icon:N};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function Sl(t,a,o,e,l,f){return k(),z(e.Popover,{class:"relative bg-black inline-flex p-2 flex-auto"},{default:s(()=>[n(e.PopoverButton,{onClick:he(e.props.clickHandler,["prevent"])},{default:s(()=>[n(e.Icon,{icon:e.props.iconComponent,class:D([e.props.btnClass,"h-6 w-6 fill-white"]),onMouseenter:a[0]||(a[0]=r=>e.mouseOn=!0),onMouseleave:a[1]||(a[1]=r=>e.mouseOn=!1)},null,8,["icon","class"])]),_:1},8,["onClick"]),Ie(n(e.PopoverPanel,{class:"absolute z-10 bg-sky-500 w-24 bottom-10 left-2",static:""},{default:s(()=>[_(j(e.props.label),1)]),_:1},512),[[je,e.mouseOn]])]),_:1})}var Tl=H(Ol,[["render",Sl]]);const Bl=B({props:{editor:null},setup(t,{expose:a}){a();const o=t,e=x(!1),l=x(null),f=()=>{var p,d;(p=l.value)==null||p.thumbnails.forEach(v=>{var i;(i=o.editor)==null||i.chain().focus().setImage({src:v.src,alt:v.alt}).run()}),(d=l.value)==null||d.links.forEach(v=>{var b,S,C;const i=(b=o.editor)==null?void 0:b.schema.text(v.name,[o==null?void 0:o.editor.schema.marks.link.create({href:v.src,title:v.name})]);(C=o.editor)==null||C.view.dispatch((S=o.editor)==null?void 0:S.state.tr.replaceSelectionWith(i,!1))}),e.value=!1};ie(e,()=>{I(()=>{var p;(p=l.value)==null||p.reset()})});const r={props:o,dialog:e,fileManager:l,injectFilesAndCloseDialog:f,Popover:W,PopoverButton:Q,PopoverPanel:G,TransitionRoot:$,TransitionChild:ee,Dialog:le,DialogPanel:te,DialogTitle:oe,Icon:N,FileManager:al};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Pl=_(" T\xE9l\xE9verser un fichier "),Ll=y("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),El={class:"fixed inset-0 overflow-y-auto"},Al={class:"flex min-h-full items-center justify-center p-4 text-center"},Rl=_(" T\xE9l\xE9verser un fichier "),Dl=y("div",{class:"w-full h-1 m-2 border-b"},null,-1),Fl=["onClick"];function Il(t,a,o,e,l,f){return k(),L(F,null,[n(e.Popover,{class:"relative bg-black flex-auto inline-flex p-2"},{default:s(({open:r})=>[n(e.PopoverButton,{class:"text-white",onClick:a[0]||(a[0]=p=>e.dialog=!0),onMouseover:p=>r=!0,onMouseout:p=>r=!1},{default:s(()=>[n(e.Icon,{icon:"ri-file-transfer-line",class:"h-6 w-6 fill-white"})]),_:2},1032,["onMouseover","onMouseout"]),n(e.PopoverPanel,{class:"absolute z-10"},{default:s(()=>[Pl]),_:1})]),_:1}),n(e.TransitionRoot,{appear:"",show:e.dialog,as:"template"},{default:s(()=>[n(e.Dialog,{as:"div",onClose:a[1]||(a[1]=r=>e.dialog=!1),class:"relative z-10"},{default:s(()=>[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[Ll]),_:1}),y("div",El,[y("div",Al,[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[n(e.DialogPanel,{class:"w-4/5 transform overflow-hidden rounded-2xl p-6 text-left align-middle shadow-xl transition-all bg-sky-100"},{default:s(()=>[n(e.DialogTitle,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:s(()=>[Rl]),_:1}),n(e.FileManager,{ref:"fileManager"},null,512),Dl,y("button",{class:"bg-primary p-3 text-white uppercase",onClick:he(e.injectFilesAndCloseDialog,["prevent"])}," Ins\xE9rer ",8,Fl)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}var jl=H(Bl,[["render",Il]]);const Oe=[{name:"Titre",text:"text-primary-dark",background:"bg-primary-dark"},{name:"Primaire",text:"text-primary",background:"bg-primary"},{name:"Info",text:"text-info",background:"bg-info"},{name:"Erreur",text:"text-error",background:"bg-error"},{name:"Accent",text:"text-accent",background:"bg-accent"},{name:"Secondaire",text:"text-secondary",background:"bg-secondary"},{name:"Light secondaire",text:"text-secondary-light",background:"bg-secondary-light"},{name:"Noir",text:"text-black",background:"bg-black"},{name:"Blanc",text:"text-white",background:"bg-white"}],Ml=B({props:{editor:null},setup(t,{expose:a}){a();const o=t,e=x(!1),l=Oe,f=x(null),d={props:o,dialog:e,colors:l,selectedColor:f,chooseColor:v=>{var i;(i=o.editor)==null||i.chain().focus().setColor(v.text).run(),e.value=!1},removeColor:()=>{var v;(v=o.editor)==null||v.chain().focus().removeColor().run(),e.value=!1},Popover:W,PopoverButton:Q,PopoverPanel:G,TransitionRoot:$,TransitionChild:ee,Dialog:le,DialogPanel:te,DialogTitle:oe,Listbox:re,ListboxOptions:se,ListboxOption:ce,Icon:N};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),Vl=_(" Couleur du text "),zl=y("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Hl={class:"fixed inset-0 overflow-y-auto"},Ul={class:"flex min-h-full items-center justify-center p-4 text-center"},Nl=_(" S\xE9lectionne une couleur "),ql=_(" Aucune couleur ");function Kl(t,a,o,e,l,f){return k(),L(F,null,[n(e.Popover,{class:"relative bg-black flex-auto inline-flex p-2"},{default:s(()=>[n(e.PopoverButton,{class:D(["text-white",e.props.btnClass]),onClick:a[0]||(a[0]=r=>e.dialog=!0)},{default:s(()=>[n(e.Icon,{icon:"ri-font-color",class:"h-6 w-6 fill-white"})]),_:1},8,["class"]),n(e.PopoverPanel,{class:"absolute z-10"},{default:s(()=>[Vl]),_:1})]),_:1}),n(e.TransitionRoot,{appear:"",show:e.dialog,as:"template"},{default:s(()=>[n(e.Dialog,{as:"div",onClose:a[2]||(a[2]=r=>e.dialog=!1),class:"relative z-10"},{default:s(()=>[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[zl]),_:1}),y("div",Hl,[y("div",Ul,[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[n(e.DialogPanel,{class:"w-full max-w-md transform overflow-hidden rounded-2xl p-6 text-left align-middle shadow-xl transition-all bg-sky-100"},{default:s(()=>[n(e.DialogTitle,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:s(()=>[Nl]),_:1}),n(e.Listbox,{modelValue:e.selectedColor,"onUpdate:modelValue":a[1]||(a[1]=r=>e.selectedColor=r)},{default:s(()=>[n(e.ListboxOptions,{static:""},{default:s(()=>[(k(!0),L(F,null,Z(e.colors,(r,p)=>(k(),z(e.ListboxOption,{key:p,onClick:d=>e.chooseColor(r),class:D(["cursor-pointer",r.text])},{default:s(()=>[_(j(r.name),1)]),_:2},1032,["onClick","class"]))),128)),n(e.ListboxOption,{onClick:e.removeColor,class:"cursor-pointer"},{default:s(()=>[ql]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}var Wl=H(Ml,[["render",Kl]]);const Ql=B({props:{editor:null},setup(t,{expose:a}){a();const o=t,e=x(!1),l=Oe,f=x(null),d={props:o,dialog:e,colors:l,selectedColor:f,chooseBackgroundColor:v=>{var i;(i=o.editor)==null||i.chain().focus().setBackgroundColor(v.background).run(),e.value=!1},removeBackgroundColor:()=>{var v;(v=o.editor)==null||v.chain().focus().removeBackgroundColor().run(),e.value=!1},Popover:W,PopoverButton:Q,PopoverPanel:G,TransitionRoot:$,TransitionChild:ee,Dialog:le,DialogPanel:te,DialogTitle:oe,Listbox:re,ListboxOptions:se,ListboxOption:ce,Icon:N};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),Gl=_(" Couleur de fond "),Jl=y("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Xl={class:"fixed inset-0 overflow-y-auto"},Yl={class:"flex min-h-full items-center justify-center p-4 text-center"},Zl=_(" S\xE9lectionne une couleur "),$l=_(" \xA0 "),et=_(" Aucune couleur ");function lt(t,a,o,e,l,f){return k(),L(F,null,[n(e.Popover,{class:"relative bg-black flex-auto inline-flex p-2"},{default:s(()=>[n(e.PopoverButton,{class:D(["text-white",e.props.btnClass]),onClick:a[0]||(a[0]=r=>e.dialog=!0)},{default:s(()=>[n(e.Icon,{icon:"ri-paint-fill",class:"h-6 w-6 fill-white"})]),_:1},8,["class"]),n(e.PopoverPanel,{class:"absolute z-10"},{default:s(()=>[Gl]),_:1})]),_:1}),n(e.TransitionRoot,{appear:"",show:e.dialog,as:"template"},{default:s(()=>[n(e.Dialog,{as:"div",onClose:a[2]||(a[2]=r=>e.dialog=!1),class:"relative z-10"},{default:s(()=>[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[Jl]),_:1}),y("div",Xl,[y("div",Yl,[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[n(e.DialogPanel,{class:"w-full max-w-md transform overflow-hidden rounded-2xl p-6 text-left align-middle shadow-xl transition-all bg-sky-100"},{default:s(()=>[n(e.DialogTitle,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:s(()=>[Zl]),_:1}),n(e.Listbox,{modelValue:e.selectedColor,"onUpdate:modelValue":a[1]||(a[1]=r=>e.selectedColor=r)},{default:s(()=>[n(e.ListboxOptions,{static:""},{default:s(()=>[(k(!0),L(F,null,Z(e.colors,(r,p)=>(k(),z(e.ListboxOption,{key:p,onClick:d=>e.chooseBackgroundColor(r),class:D(["cursor-pointer",r.background])},{default:s(()=>[$l]),_:2},1032,["onClick","class"]))),128)),n(e.ListboxOption,{onClick:e.removeBackgroundColor,class:"cursor-pointer"},{default:s(()=>[et]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}var tt=H(Ql,[["render",lt]]);const ot=B({props:{editor:null},setup(t,{expose:a}){a();const o=t,e=["Permanent Marker","Amatic SC","Caveat","Helvetica"],l=x(!1),f=x(null),d={fonts:e,props:o,dialog:l,selectedFont:f,selectFontFamily:v=>{var i;(i=o.editor)==null||i.chain().focus().setFontFamily(v).run(),l.value=!1},removeFontFamily:()=>{var v;(v=o.editor)==null||v.chain().focus().unsetFontFamily().run(),l.value=!1},Popover:W,PopoverButton:Q,PopoverPanel:G,TransitionRoot:$,TransitionChild:ee,Dialog:le,DialogPanel:te,DialogTitle:oe,Listbox:re,ListboxOptions:se,ListboxOption:ce,Icon:N};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),at=_(" Police de caract\xE8re "),nt=y("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),it={class:"fixed inset-0 overflow-y-auto"},rt={class:"flex min-h-full items-center justify-center p-4 text-center"},st=_(" S\xE9lectionne une couleur "),ct=_(" Police par d\xE9faut ");function dt(t,a,o,e,l,f){return k(),L(F,null,[n(e.Popover,{class:"relative bg-black flex-auto inline-flex p-2"},{default:s(({open:r})=>[n(e.PopoverButton,{class:"text-white",onClick:a[0]||(a[0]=p=>e.dialog=!0),onMouseover:p=>r=!0,onMouseout:p=>r=!1},{default:s(()=>[n(e.Icon,{icon:"ri-font-size",class:"h-6 w-6 fill-white"})]),_:2},1032,["onMouseover","onMouseout"]),n(e.PopoverPanel,{class:"absolute z-10"},{default:s(()=>[at]),_:1})]),_:1}),n(e.TransitionRoot,{appear:"",show:e.dialog,as:"template"},{default:s(()=>[n(e.Dialog,{as:"div",onClose:a[2]||(a[2]=r=>e.dialog=!1),class:"relative z-10"},{default:s(()=>[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[nt]),_:1}),y("div",it,[y("div",rt,[n(e.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[n(e.DialogPanel,{class:"w-full max-w-md transform overflow-hidden rounded-2xl p-6 text-left align-middle shadow-xl transition-all bg-sky-100"},{default:s(()=>[n(e.DialogTitle,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:s(()=>[st]),_:1}),n(e.Listbox,{modelValue:e.selectedFont,"onUpdate:modelValue":a[1]||(a[1]=r=>e.selectedFont=r)},{default:s(()=>[n(e.ListboxOptions,{static:""},{default:s(()=>[(k(),L(F,null,Z(e.fonts,(r,p)=>n(e.ListboxOption,{key:p,onClick:d=>e.selectFontFamily(r),class:"cursor-pointer",style:Me("font-family: "+r)},{default:s(()=>[_(j(r),1)]),_:2},1032,["onClick","style"])),64)),n(e.ListboxOption,{onClick:e.removeFontFamily,class:"cursor-pointer"},{default:s(()=>[ct]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}var ut=H(ot,[["render",dt]]);const ft=B({props:{name:null,value:null,label:null},setup(t,{expose:a}){const o=t,e=x(null),l=Ve(o,"name"),{value:f,errorMessage:r,handleBlur:p,handleChange:d,meta:v}=ze(l,void 0,{initialValue:o.value});Y(()=>{e.value=new He({content:f.value,extensions:[Ue,Ne.configure({types:["heading","paragraph"]}),qe,Ke.configure({resizable:!0}),We,Qe,Ge,Je.configure({inline:!0}),Xe.configure({openOnClick:!0}),Ye,Ze,$e,el],onUpdate:({editor:u})=>{f.value=u.getHTML()}})}),ll(()=>{var u;(u=e.value)==null||u.destroy()});const i=u=>{C("")},b=()=>{var c;const u=window.prompt("URL");u&&((c=e.value)==null||c.chain().focus().setImage({src:u}).run())},S=()=>{var c;const u=window.prompt("URL");u&&((c=e.value)==null||c.chain().focus().setLink({href:u}).run())},C=u=>{var c;(c=e.value)==null||c.commands.setContent(u,!1)};ie(()=>o.modelValue,u=>{var m;((m=e.value)==null?void 0:m.getHTML())!==u&&C(u||"")}),a({setContent:C});const A={editor:e,props:o,name:l,inputValue:f,errorMessage:r,handleBlur:p,handleChange:d,meta:v,clearContent:i,addImage:b,setLink:S,setContent:C,EditorContent:ol,EditorBtn:Tl,FileUploadBtn:jl,TextColorBtn:Wl,TextBackgroundColorBtn:tt,FontFamilyBtn:ut,Tooltip:xe};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),vt={class:"flex flex-col"},bt={key:0,class:"editor flex flex-wrap"};function pt(t,a,o,e,l,f){return k(),L("div",vt,[y("div",{class:D([{"text-accent":!!e.errorMessage,"text-primary":!!o.value&&!e.errorMessage},"flex"])},[_(j(o.label)+" ",1),e.errorMessage?(k(),z(e.Tooltip,{key:0},{default:s(()=>[_(j(e.errorMessage),1)]),_:1})):K("",!0)],2),e.editor?(k(),L("div",bt,[n(e.EditorBtn,{label:"Gras","btn-class":{"fill-stone-400":e.editor.isActive("bold")},"click-handler":()=>e.editor.chain().focus().toggleBold().run(),"icon-component":"ri-bold"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Italique","btn-class":{"fill-stone-400":e.editor.isActive("italic")},"click-handler":()=>e.editor.chain().focus().toggleItalic().run(),"icon-component":"ri-italic"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Barrer","btn-class":{"grey darken-3":e.editor.isActive("strike")},"click-handler":()=>e.editor.chain().focus().toggleStrike().run(),"icon-component":"ri-strikethrough"},null,8,["btn-class","click-handler"]),n(e.TextColorBtn,{editor:e.editor},null,8,["editor"]),n(e.TextBackgroundColorBtn,{editor:e.editor},null,8,["editor"]),n(e.FontFamilyBtn,{editor:e.editor},null,8,["editor"]),n(e.EditorBtn,{label:"Supprimer le style de la s\xE9lection","click-handler":()=>e.editor.chain().focus().unsetAllMarks().run(),"icon-component":"ri-format-clear"},null,8,["click-handler"]),n(e.EditorBtn,{label:"Supprimer le style du bloc","click-handler":()=>e.editor.chain().focus().clearNodes().run(),"icon-component":"ri-eraser-line"},null,8,["click-handler"]),n(e.EditorBtn,{label:"Paragraphe","btn-class":{"grey darken-3":e.editor.isActive("paragraph")},"click-handler":()=>e.editor.chain().focus().setParagraph().run(),"icon-component":"ri-paragraph"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Taille xxl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:1})},"click-handler":()=>e.editor.chain().focus().toggleHeading({level:1}).run(),"icon-component":"ri-h-1"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Taille xl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:2})},"click-handler":()=>e.editor.chain().focus().toggleHeading({level:2}).run(),"icon-component":"ri-h-2"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Taille l","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:3})},"click-handler":()=>e.editor.chain().focus().toggleHeading({level:3}).run(),"icon-component":"ri-h-3"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Taille m","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:4})},"click-handler":()=>e.editor.chain().focus().toggleHeading({level:4}).run(),"icon-component":"ri-h-4"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Taille s","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:5})},"click-handler":()=>e.editor.chain().focus().toggleHeading({level:5}).run(),"icon-component":"ri-h-5"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Taille xs","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:6})},"click-handler":()=>e.editor.chain().focus().toggleHeading({level:6}).run(),"icon-component":"ri-h-6"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Liste","btn-class":{"grey darken-3":e.editor.isActive("bulletList")},"click-handler":()=>e.editor.chain().focus().toggleBulletList().run(),"icon-component":"ri-list-unordered"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Liste num\xE9rot\xE9e","btn-class":{"grey darken-3":e.editor.isActive("orderedList")},"click-handler":()=>e.editor.chain().focus().toggleOrderedList().run(),"icon-component":"ri-list-ordered"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Bloc de code","btn-class":{"grey darken-3":e.editor.isActive("codeBlock")},"click-handler":()=>e.editor.chain().focus().toggleCodeBlock().run(),"icon-component":"ri-code-line"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Citation","btn-class":{"grey darken-3":e.editor.isActive("blockquote")},"click-handler":()=>e.editor.chain().focus().toggleCodeBlock().run(),"icon-component":"ri-double-quotes-l"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"S\xE9parateur horizontal","click-handler":()=>e.editor.chain().focus().setHorizontalRule().run(),"icon-component":"ri-separator"},null,8,["click-handler"]),n(e.EditorBtn,{label:"Undo","click-handler":()=>e.editor.chain().focus().undo().run(),"icon-component":"ri-arrow-go-back-line"},null,8,["click-handler"]),n(e.EditorBtn,{label:"Redo","click-handler":()=>e.editor.chain().focus().redo().run(),"icon-component":"ri-arrow-go-forward-line"},null,8,["click-handler"]),n(e.EditorBtn,{label:"Aligner \xE0 gauche","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"left"})},"click-handler":()=>e.editor.chain().focus().setTextAlign("left").run(),"icon-component":"ri-align-left"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Centrer","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"center"})},"click-handler":()=>e.editor.chain().focus().setTextAlign("center").run(),"icon-component":"ri-align-center"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Aligner \xE0 droite","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"right"})},"click-handler":()=>e.editor.chain().focus().setTextAlign("right").run(),"icon-component":"ri-align-right"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Justifier","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"justify"})},"click-handler":()=>e.editor.chain().focus().setTextAlign("justify").run(),"icon-component":"ri-align-justify"},null,8,["btn-class","click-handler"]),n(e.EditorBtn,{label:"Ajouter une image","btn-class":null,"click-handler":e.addImage,"icon-component":"ri-image-line"}),n(e.FileUploadBtn,{editor:e.editor},null,8,["editor"]),n(e.EditorBtn,{label:"Ajouter un lien","click-handler":e.setLink,"btn-class":{"is-active":e.editor.isActive("link")},"icon-component":"ri-link"},null,8,["btn-class"]),e.editor.isActive("link")?(k(),z(e.EditorBtn,{key:0,label:"Supprimer le lien","icon-component":"ri-link-unlink","click-handler":()=>e.editor.chain().focus().unsetLink().run()},null,8,["click-handler"])):K("",!0),tl(t.$slots,"supplemental_btns"),n(e.EditorBtn,{label:"Supprimer le contenu","icon-component":"ri-delete-bin-2-line","click-handler":e.clearContent})])):K("",!0),n(e.EditorContent,{class:"border border-2 border-black",editor:e.editor},null,8,["editor"])])}var Tt=H(ft,[["render",pt]]);export{ce as C,re as D,Tt as E,St as S,se as k,Ot as w};
