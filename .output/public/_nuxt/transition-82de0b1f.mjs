var ue=Object.defineProperty,se=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var z=(e,t,n)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))N.call(t,n)&&z(e,n,t[n]);if(F)for(var n of F(t))G.call(t,n)&&z(e,n,t[n]);return e},y=(e,t)=>se(e,de(t));var I=(e,t)=>{var n={};for(var a in e)N.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&F)for(var a of F(e))t.indexOf(a)<0&&G.call(e,a)&&(n[a]=e[a]);return n};import{m as fe,f as ve,h as m,t as pe,u as L,a as J,c as me,l as A,k as P,p as he,R as ce}from"./use-outside-click-17810f29.mjs";import{d as V,T as j,P as W,h as g,j as B,Q as S,z as _,R as C,A as be,O as q}from"./entry-7a7af91b.mjs";function ge(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function X(){let e=[],t=[],n={enqueue(a){t.push(a)},requestAnimationFrame(...a){let i=requestAnimationFrame(...a);n.add(()=>cancelAnimationFrame(i))},nextFrame(...a){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...a)})},setTimeout(...a){let i=setTimeout(...a);n.add(()=>clearTimeout(i))},add(a){e.push(a)},dispose(){for(let a of e.splice(0))a()},async workQueue(){for(let a of t.splice(0))await a()}};return n}function R(e,...t){e&&t.length>0&&e.classList.add(...t)}function E(e,...t){e&&t.length>0&&e.classList.remove(...t)}var H=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(H||{});function ye(e,t){let n=X();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:i}=getComputedStyle(e),[l,r]=[a,i].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(s=>s.includes("ms")?parseFloat(s):parseFloat(s)*1e3).sort((s,h)=>h-s);return u});return l!==0?n.setTimeout(()=>t("finished"),l+r):t("finished"),n.add(()=>t("cancelled")),n.dispose}function K(e,t,n,a,i,l){let r=X(),o=l!==void 0?ge(l):()=>{};return E(e,...i),R(e,...t,...n),r.nextFrame(()=>{E(e,...n),R(e,...a),r.add(ye(e,u=>(E(e,...a,...t),R(e,...i),o(u))))}),r.add(()=>E(e,...t,...n,...a,...i)),r.add(()=>o("cancelled")),r.dispose}function p(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let D=Symbol("TransitionContext");var Se=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Se||{});function Te(){return j(D,null)!==null}function we(){let e=j(D,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Fe(){let e=j(U,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let U=Symbol("NestingContext");function x(e){return"children"in e?x(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function Y(e){let t=g([]),n=g(!1);S(()=>n.value=!0),_(()=>n.value=!1);function a(l,r=m.Hidden){let o=t.value.findIndex(({id:u})=>u===l);o!==-1&&(L(r,{[m.Unmount](){t.value.splice(o,1)},[m.Hidden](){t.value[o].state="hidden"}}),!x(t)&&n.value&&(e==null||e()))}function i(l){let r=t.value.find(({id:o})=>o===l);return r?r.state!=="visible"&&(r.state="visible"):t.value.push({id:l,state:"visible"}),()=>a(l,m.Unmount)}return{children:t,register:i,unregister:a}}let Z=fe.RenderStrategy,Ee=V({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:i}){if(!Te()&&ve())return()=>W(Ae,y(f({},e),{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")}),a);let l=g(null),r=g("visible"),o=B(()=>e.unmount?m.Unmount:m.Hidden);i({el:l,$el:l});let{show:u,appear:s}=we(),{register:h,unregister:c}=Fe(),$={value:!0},b=pe(),T={value:!1},k=Y(()=>{T.value||(r.value="hidden",c(b),t("afterLeave"))});S(()=>{let d=h(b);_(d)}),C(()=>{if(o.value===m.Hidden&&!!b){if(u&&r.value!=="visible"){r.value="visible";return}L(r.value,{hidden:()=>c(b),visible:()=>h(b)})}});let ee=p(e.enter),te=p(e.enterFrom),ne=p(e.enterTo),M=p(e.entered),ae=p(e.leave),re=p(e.leaveFrom),le=p(e.leaveTo);S(()=>{C(()=>{if(r.value==="visible"){let d=J(l);if(d instanceof Comment&&d.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ie(d){let O=$.value&&!s.value,v=J(l);!v||!(v instanceof HTMLElement)||O||(T.value=!0,u.value&&t("beforeEnter"),u.value||t("beforeLeave"),d(u.value?K(v,ee,te,ne,M,w=>{T.value=!1,w===H.Finished&&t("afterEnter")}):K(v,ae,re,le,M,w=>{T.value=!1,w===H.Finished&&(x(k)||(r.value="hidden",c(b),t("afterLeave")))})))}return S(()=>{be([u],(d,O,v)=>{ie(v),$.value=!1},{immediate:!0})}),q(U,k),me(B(()=>L(r.value,{visible:A.Open,hidden:A.Closed}))),()=>{let Q=e,{appear:d,show:O,enter:v,enterFrom:w,enterTo:Be,entered:Ce,leave:xe,leaveFrom:Oe,leaveTo:Re}=Q,oe=I(Q,["appear","show","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]);return P({props:y(f({},oe),{ref:l}),slot:{},slots:a,attrs:n,features:Z,visible:r.value==="visible",name:"TransitionChild"})}}}),Le=Ee,Ae=V({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a}){let i=he(),l=B(()=>e.show===null&&i!==null?L(i.value,{[A.Open]:!0,[A.Closed]:!1}):e.show);C(()=>{if(![!0,!1].includes(l.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let r=g(l.value?"visible":"hidden"),o=Y(()=>{r.value="hidden"}),u=g(!0),s={show:l,appear:B(()=>e.appear||!u.value)};return S(()=>{C(()=>{u.value=!1,l.value?r.value="visible":x(o)||(r.value="hidden")})}),q(U,o),q(D,s),()=>{let h=ce(e,["show","appear","unmount"]),c={unmount:e.unmount};return P({props:y(f({},c),{as:"template"}),slot:{},slots:y(f({},a),{default:()=>[W(Le,f(f(f({onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},n),c),h),a.default)]}),attrs:{},features:Z,visible:r.value==="visible",name:"Transition"})}}});export{Ae as f,Ee as o};
