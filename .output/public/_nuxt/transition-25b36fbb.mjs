var se=Object.defineProperty,de=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var $=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&$(e,n,t[n]);if(L)for(var n of L(t))I.call(t,n)&&$(e,n,t[n]);return e},S=(e,t)=>de(e,fe(t));var J=(e,t)=>{var n={};for(var a in e)G.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&L)for(var a of L(e))t.indexOf(a)<0&&I.call(e,a)&&(n[a]=e[a]);return n};import{a as w,m as ve,f as pe,h as m,t as me,u as B,c as he,l as C,k as V,p as ce,R as be}from"./use-outside-click-aa42c4c8.mjs";import{P as y,Q as T,h,d as W,S as M,O as _,i as x,y as X,z as ge,N as R}from"./entry-63f3c6e5.mjs";function K(e,t){if(e)return e;let n=t!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Ue(e,t){let n=h(K(e.value.type,e.value.as));return y(()=>{n.value=K(e.value.type,e.value.as)}),T(()=>{var a;n.value||!w(t)||w(t)instanceof HTMLButtonElement&&!((a=w(t))!=null&&a.hasAttribute("type"))&&(n.value="button")}),n}function ye(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Y(){let e=[],t=[],n={enqueue(a){t.push(a)},requestAnimationFrame(...a){let i=requestAnimationFrame(...a);n.add(()=>cancelAnimationFrame(i))},nextFrame(...a){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...a)})},setTimeout(...a){let i=setTimeout(...a);n.add(()=>clearTimeout(i))},add(a){e.push(a)},dispose(){for(let a of e.splice(0))a()},async workQueue(){for(let a of t.splice(0))await a()}};return n}function q(e,...t){e&&t.length>0&&e.classList.add(...t)}function A(e,...t){e&&t.length>0&&e.classList.remove(...t)}var D=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(D||{});function Se(e,t){let n=Y();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:i}=getComputedStyle(e),[r,l]=[a,i].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(s=>s.includes("ms")?parseFloat(s):parseFloat(s)*1e3).sort((s,c)=>c-s);return u});return r!==0?n.setTimeout(()=>t("finished"),r+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function P(e,t,n,a,i,r){let l=Y(),o=r!==void 0?ye(r):()=>{};return A(e,...i),q(e,...t,...n),l.nextFrame(()=>{A(e,...n),q(e,...a),l.add(Se(e,u=>(A(e,...a,...t),q(e,...i),o(u))))}),l.add(()=>A(e,...t,...n,...a,...i)),l.add(()=>o("cancelled")),l.dispose}function p(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let U=Symbol("TransitionContext");var we=(e=>(e.Visible="visible",e.Hidden="hidden",e))(we||{});function Te(){return M(U,null)!==null}function Fe(){let e=M(U,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Ee(){let e=M(j,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let j=Symbol("NestingContext");function H(e){return"children"in e?H(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function Z(e){let t=h([]),n=h(!1);y(()=>n.value=!0),X(()=>n.value=!1);function a(r,l=m.Hidden){let o=t.value.findIndex(({id:u})=>u===r);o!==-1&&(B(l,{[m.Unmount](){t.value.splice(o,1)},[m.Hidden](){t.value[o].state="hidden"}}),!H(t)&&n.value&&(e==null||e()))}function i(r){let l=t.value.find(({id:o})=>o===r);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:r,state:"visible"}),()=>a(r,m.Unmount)}return{children:t,register:i,unregister:a}}let ee=ve.RenderStrategy,Le=W({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:i}){if(!Te()&&pe())return()=>_(Be,S(f({},e),{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")}),a);let r=h(null),l=h("visible"),o=x(()=>e.unmount?m.Unmount:m.Hidden);i({el:r,$el:r});let{show:u,appear:s}=Fe(),{register:c,unregister:b}=Ee(),k={value:!0},g=me(),F={value:!1},N=Z(()=>{F.value||(l.value="hidden",b(g),t("afterLeave"))});y(()=>{let d=c(g);X(d)}),T(()=>{if(o.value===m.Hidden&&!!g){if(u&&l.value!=="visible"){l.value="visible";return}B(l.value,{hidden:()=>b(g),visible:()=>c(g)})}});let te=p(e.enter),ne=p(e.enterFrom),ae=p(e.enterTo),Q=p(e.entered),le=p(e.leave),re=p(e.leaveFrom),ie=p(e.leaveTo);y(()=>{T(()=>{if(l.value==="visible"){let d=w(r);if(d instanceof Comment&&d.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function oe(d){let O=k.value&&!s.value,v=w(r);!v||!(v instanceof HTMLElement)||O||(F.value=!0,u.value&&t("beforeEnter"),u.value||t("beforeLeave"),d(u.value?P(v,te,ne,ae,Q,E=>{F.value=!1,E===D.Finished&&t("afterEnter")}):P(v,le,re,ie,Q,E=>{F.value=!1,E===D.Finished&&(H(N)||(l.value="hidden",b(g),t("afterLeave")))})))}return y(()=>{ge([u],(d,O,v)=>{oe(v),k.value=!1},{immediate:!0})}),R(j,N),he(x(()=>B(l.value,{visible:C.Open,hidden:C.Closed}))),()=>{let z=e,{appear:d,show:O,enter:v,enterFrom:E,enterTo:Ce,entered:xe,leave:He,leaveFrom:Oe,leaveTo:qe}=z,ue=J(z,["appear","show","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]);return V({props:S(f({},ue),{ref:r}),slot:{},slots:a,attrs:n,features:ee,visible:l.value==="visible",name:"TransitionChild"})}}}),Ae=Le,Be=W({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a}){let i=ce(),r=x(()=>e.show===null&&i!==null?B(i.value,{[C.Open]:!0,[C.Closed]:!1}):e.show);T(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=h(r.value?"visible":"hidden"),o=Z(()=>{l.value="hidden"}),u=h(!0),s={show:r,appear:x(()=>e.appear||!u.value)};return y(()=>{T(()=>{u.value=!1,r.value?l.value="visible":H(o)||(l.value="hidden")})}),R(j,o),R(U,s),()=>{let c=be(e,["show","appear","unmount"]),b={unmount:e.unmount};return V({props:S(f({},b),{as:"template"}),slot:{},slots:S(f({},a),{default:()=>[_(Ae,f(f(f({onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},n),b),c),a.default)]}),attrs:{},features:ee,visible:l.value==="visible",name:"Transition"})}}});export{Ue as b,Be as f,Le as o};
