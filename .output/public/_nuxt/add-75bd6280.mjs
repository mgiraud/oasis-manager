import{_ as l,d as f,a as g,u as _,v as d,m as C,aq as E,q as h,o as b,c as x,b as S,C as n,j as v,aj as N}from"./entry-4f25f676.mjs";import{F as P}from"./FormComponent-0c944297.mjs";import"./asyncData-e0b26fcd.mjs";import"./Icon-b99d0d28.mjs";import"./useDateHelper-e4869b7b.mjs";import"./Editor-6e8befaa.mjs";import"./TextField-143dab2e.mjs";import"./use-outside-click-390ec13e.mjs";import"./use-resolve-button-type-de4cf55d.mjs";import"./dialog-eba36093.mjs";import"./FileManager-513bdb88.mjs";import"./transition-500b6c50.mjs";import"./CheckboxField-3ac76791.mjs";const w=f({setup(u,{expose:t}){t();const o=g(),e=_(),i=d(),p=C("page-creation",()=>({content:"",isPublished:!1,showInMenu:!1})),a=E(),s=h(),c={pageStore:o,route:e,app:i,pageCreation:p,pageLogStore:a,notificationStore:s,submit:async(r,m)=>{r.isPublished==="true"&&(r.isPublished=!1),r.showInMenu==="true"&&(r.showInMenu=!1);try{await o.create(r),s.showMessage("Page correctement cr\xE9e"),N({name:"admin-pages-slug",params:{slug:o[n.CREATION].created.url}})}catch{s.showError("Erreur dans la cr\xE9ation la page, v\xE9rifie le formulaire"),m.setErrors(o[n.CREATION].violations)}},FormComponent:P,CRUD_MODE:n};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),I={class:"flex flex-col flex-auto p-3"},M=v("h1",{class:"mb-4"},"Cr\xE9ation d'une page",-1);function O(u,t,o,e,i,p){return b(),x("div",I,[M,S(e.FormComponent,{page:e.pageCreation,"onUpdate:page":t[0]||(t[0]=a=>e.pageCreation=a),"submit-handler":e.submit,errors:e.pageStore[e.CRUD_MODE.CREATION].violations},null,8,["page","errors"])])}var H=l(w,[["render",O]]);export{H as default};
