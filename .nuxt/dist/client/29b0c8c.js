(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{604:function(e,t,r){"use strict";r(35);var n=r(94),o=r(11),c=r(21),l=r(19),f=r(18),d=r(6),v=r(14),h=(r(5),r(20)),y=r(617),m=r(716),k=r(680);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var j=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},_=function(e){Object(l.a)(r,e);var t=O(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return r}(h.Vue);j([Object(h.Prop)({type:Object,required:!1,default:null})],_.prototype,"btnClass",void 0),j([Object(h.Prop)({type:Function,required:!0})],_.prototype,"clickHandler",void 0),j([Object(h.Prop)({type:String,required:!0})],_.prototype,"icon",void 0),j([Object(h.Prop)({type:String,required:!0})],_.prototype,"label",void 0);var x=_=j([h.Component],_),R=r(31),C=r(40),w=r.n(C),V=r(121),I=r(199),P=r(726),component=Object(R.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({class:e.btnClass,attrs:{small:""},on:{click:e.clickHandler}},"v-btn",o,!1),n),[r("v-icon",[e._v(e._s(e.icon))])],1)]}}])},[e._v(" "),r("span",[e._v(e._s(e.label))])])}),[],!1,null,null,null),G=component.exports;w()(component,{VBtn:V.a,VIcon:I.a,VTooltip:P.a});var A=r(645),B=r(683),M=r(718),L=r(684),T=r(685),F=r(686);r(28),r(281),r(27),r(61),r(62);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var $=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},D=function(e){Object(l.a)(r,e);var t=S(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return r}(h.Vue);$([Object(h.Prop)({type:Array,required:!0})],D.prototype,"thumbnails",void 0),$([Object(h.Prop)({type:Array,required:!0})],D.prototype,"links",void 0),$([Object(h.Prop)({type:Function,required:!0})],D.prototype,"removeThumbnail",void 0),$([Object(h.Prop)({type:Function,required:!0})],D.prototype,"removeLink",void 0);var H=D=$([h.Component],D),E=r(205),N=r(161),U=r(551),W=r(557),z=r(159),X=r(553),Y=Object(R.a)(H,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("h3",[e._v("Fichiers sélectionnés")])])],1),e._v(" "),e.thumbnails.length+e.links.length===0?r("v-row",[r("v-col",[r("p",[e._v("Tu peux téleverser un fichier ou utiliser le navigateur pour sélectionner les fichiers à insérer")])])],1):r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[r("v-container",[r("v-row",{attrs:{"no-gutters":""}},e._l(e.thumbnails,(function(t,i){return r("v-col",{key:i,attrs:{cols:"4","align-self":"center"}},[r("v-card",[r("v-img",{attrs:{src:t.src,"max-height":"200",contain:""}}),e._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"btn-remove-thumbnail",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(t){return e.removeThumbnail(i)}}},[r("v-icon",{attrs:{dark:""}},[e._v("\n                    ri-close-line\n                  ")])],1)],1)],1)],1)})),1),e._v(" "),r("v-row",e._l(e.links,(function(link,i){return r("v-col",{key:i},[r("span",[e._v(e._s(link.name)),r("v-btn",{staticClass:"btn-remove-thumbnail",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(t){return e.removeLink(i)}}},[r("v-icon",{attrs:{dark:""}},[e._v("\n                ri-close-line\n              ")])],1)],1)])})),1)],1)],1)],1)],1)}),[],!1,null,null,null),J=Y.exports;w()(Y,{VBtn:V.a,VCard:E.a,VCardActions:N.a,VCol:U.a,VContainer:W.a,VIcon:I.a,VImg:z.a,VRow:X.a});function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var Q=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Z=function(e){Object(l.a)(r,e);var t=K(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"openFileSelection",value:function(){this.$refs.fileSelection.click()}},{key:"onFileChange",value:function(){var e=this.$refs.fileSelection.files;e&&this.handleUpload(e)}}]),r}(h.Vue);Q([Object(h.Prop)({type:Function,required:!0})],Z.prototype,"handleUpload",void 0);var ee=Z=Q([h.Component],Z),te=Object(R.a)(ee,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("input",{ref:"fileSelection",staticStyle:{display:"none"},attrs:{id:"fileElem",type:"file",multiple:"",accept:"image/*"},on:{change:e.onFileChange}}),r("v-btn",{on:{click:e.openFileSelection}},[e._v("\n        Sélectionner des fichiers à téléverser\n      ")])],1)],1)],1)}),[],!1,null,null,null),re=te.exports;w()(te,{VBtn:V.a,VCol:U.a,VContainer:W.a,VRow:X.a});var ne=r(10);r(63);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var ie=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},ce=function(e){Object(l.a)(r,e);var t=oe(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).name="file-navigator-bread-crumb-items",e}return Object(c.a)(r,[{key:"handleCrumbClick",value:function(e){"item"===e.type?this.galleryItemClickHandler(e["@id"]):this.galleryClickHandler(e["@id"])}}]),r}(h.Vue);ie([Object(h.Prop)({type:Object,required:!1,default:null})],ce.prototype,"galleryItem",void 0),ie([Object(h.Prop)({type:Function,required:!0})],ce.prototype,"galleryItemClickHandler",void 0),ie([Object(h.Prop)({type:Function,required:!0})],ce.prototype,"galleryClickHandler",void 0);var ae=ce=ie([h.Component],ce),le=(r(687),Object(R.a)(ae,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.galleryItem?r("div",{staticClass:"file-navigator-breadcrumb-container"},e._l(e.galleryItem.breadcrumb,(function(t){return r("span",{key:t["@id"],on:{click:function(r){return e.handleCrumbClick(t)}}},[e._v(" > "+e._s(t.name))])})),0):e._e()}),[],!1,null,"55925b90",null).exports);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var se=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},fe=function(e){Object(l.a)(r,e);var t=ue(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).name="file-navigator-bread-crumb-items",e.childItem=null,e}return Object(c.a)(r,[{key:"getMediaGalleryItem",value:function(e){return e}}]),r}(h.Vue);se([Object(h.Prop)({type:Object,required:!0})],fe.prototype,"galleryItem",void 0),se([Object(h.Prop)({type:Function,required:!0})],fe.prototype,"handleClick",void 0);var de=fe=se([h.Component],fe),ve=Object(R.a)(de,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",e._l(e.galleryItem.children,(function(t){return r("v-col",{key:t["@id"]},[r("v-btn",{on:{click:function(r){return e.handleClick(t["@id"])}}},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})),1)],1)}),[],!1,null,null,null),pe=ve.exports;w()(ve,{VBtn:V.a,VCol:U.a,VContainer:W.a,VRow:X.a});function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var be=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},ye=Object(h.namespace)("media_object"),ge=function(e){Object(l.a)(r,e);var t=he(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"loadObjects",value:function(){null!==this.galleryItem&&this.fetchMediaObjects({mediaGalleryItem:this.galleryItem["@id"]})}},{key:"mounted",value:function(){this.loadObjects()}},{key:"onGalleryItemChange",value:function(e){this.loadObjects()}}]),r}(h.Vue);be([Object(h.Prop)({type:Object,required:!0})],ge.prototype,"galleryItem",void 0),be([Object(h.Prop)({type:Function,required:!0})],ge.prototype,"clickHandler",void 0),be([ye.Action("fetchAll")],ge.prototype,"fetchMediaObjects",void 0),be([ye.Getter("list")],ge.prototype,"mediaObjects",void 0),be([Object(h.Watch)("galleryItem")],ge.prototype,"onGalleryItemChange",null);var me=ge=be([h.Component],ge),ke=(r(689),Object(R.a)(me,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",e._l(e.mediaObjects,(function(t){return r("v-col",{key:t["@id"]},[t.isImage?r("v-img",{staticClass:"file-navigator-object",attrs:{src:t.contentUrl,"max-height":"200","max-width":"200"},on:{click:function(r){return e.clickHandler(t)}}}):r("span",{staticClass:"file-navigator-object",on:{click:function(r){return e.clickHandler(t)}}},[e._v(e._s(t.filePath))])],1)})),1)],1)}),[],!1,null,"28f59eea",null)),Oe=ke.exports;w()(ke,{VCol:U.a,VContainer:W.a,VImg:z.a,VRow:X.a});function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var _e=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},xe=Object(h.namespace)("media_gallery_item"),Re=function(e){Object(l.a)(n,e);var t,r=je(n);function n(){var e;return Object(o.a)(this,n),(e=r.apply(this,arguments)).contextMenu=null,e.dialog=!1,e.newFolderName=null,e}return Object(c.a)(n,[{key:"showMenu",value:function(e){var t,r;this.contextMenu&&(this.contextMenu.offsetWidth+e.pageX>=window.innerWidth?this.contextMenu.style.left=e.pageX-this.contextMenu.offsetWidth+2+"px":this.contextMenu.style.left=e.pageX-2+"px",(null===(t=this.contextMenu)||void 0===t?void 0:t.offsetHeight)+e.pageY>=window.innerHeight?this.contextMenu.style.top=e.pageY-(null===(r=this.contextMenu)||void 0===r?void 0:r.offsetHeight)+2+"px":this.contextMenu.style.top=e.pageY-2+"px",this.contextMenu.classList.add("context-menu--active"))}},{key:"hideMenu",value:function(){this.contextMenu&&(this.contextMenu.style.left="0px",this.contextMenu.style.top="0px",this.contextMenu.classList.remove("context-menu--active"))}},{key:"onClick",value:function(e){e.target&&this.contextMenu&&(this.contextMenu.contains(e.target)||this.hideMenu())}},{key:"mounted",value:function(){this.contextMenu=document.getElementById("file-navigator-context-menu"),document.addEventListener(null!==document.ontouchstart?"click":"touchstart",this.onClick,!1)}},{key:"onFolderCreate",value:(t=Object(ne.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dialog=!1,this.newFolderName&&this.galleryItem){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.create({name:this.newFolderName,parent:this.galleryItem["@id"]});case 5:return t=this.$parent,e.next=8,t.refresh();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(h.Vue);_e([Object(h.Prop)({type:Object,required:!1})],Re.prototype,"galleryItem",void 0),_e([xe.Action("create")],Re.prototype,"create",void 0);var Ce=Re=_e([h.Component],Re),we=(r(691),r(609)),Ve=r(538),Ie=r(549),Pe=r(200),Ge=r(119),Ae=r(46),Be=r(203),Me=r(100),Le=r(554),Te=r(536),Fe=Object(R.a)(Ce,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"context-menu",attrs:{id:"file-navigator-context-menu",tile:""}},[r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{color:"primary"}},[e.galleryItem?r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-list-item",e._g(e._b({},"v-list-item",o,!1),n),[r("v-list-item-icon",[r("v-icon",[e._v("ri-folder-add-fill")])],1),e._v(" "),r("v-list-item-content",[e._v("\n              Nouveau dossier\n            ")])],1)]}}],null,!1,4239326002),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n            Ajouter un dossier\n          ")]),e._v(" "),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{label:"Nom du dossier",required:""},model:{value:e.newFolderName,callback:function(t){e.newFolderName=t},expression:"newFolderName"}})],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.onFolderCreate}},[e._v("\n              Créer le dossier\n            ")])],1)],1)],1):e._e()],1)],1)],1)}),[],!1,null,"5a00c5d7",null),Se=Fe.exports;function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}w()(Fe,{VBtn:V.a,VCard:E.a,VCardActions:N.a,VCardText:N.b,VCardTitle:N.c,VDialog:we.a,VDivider:Ve.a,VForm:Ie.a,VIcon:I.a,VList:Pe.a,VListItem:Ge.a,VListItemContent:Ae.a,VListItemGroup:Be.a,VListItemIcon:Me.a,VSpacer:Le.a,VTextField:Te.a});var De=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},qe=Object(h.namespace)("media_gallery"),He=Object(h.namespace)("media_gallery_item"),Ee=Object(h.namespace)("media_object"),Ne=function(e){Object(l.a)(h,e);var t,r,n,f,d,v=$e(h);function h(){var e;return Object(o.a)(this,h),(e=v.apply(this,arguments)).currentGallery=null,e}return Object(c.a)(h,[{key:"fetch",value:(d=Object(ne.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllGalleries();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getMediaGallery",value:function(e){return e}},{key:"onGalleryChange",value:(f=Object(ne.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetMediaObjects(),t){e.next=5;break}this.$emit("update:current-gallery-item",null),e.next=10;break;case 5:return e.t0=this,e.next=8,this.fetchGalleryItem(t.rootItem);case 8:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"handleGalleryClick",value:(n=Object(ne.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentGallery=this.findMediaGalleriesById(t),e.t0=this,e.next=4,this.fetchGalleryItem(this.currentGallery.rootItem);case 4:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"handleGalleryItemClick",value:(r=Object(ne.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetMediaObjects(),e.t0=this,e.next=4,this.fetchGalleryItem(t);case 4:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"handleRootClick",value:function(){this.currentGallery=null,this.$emit("update:current-gallery-item",null)}},{key:"refresh",value:(t=Object(ne.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentGalleryItem){e.next=2;break}return e.abrupt("return");case 2:return e.t0=this,e.next=5,this.fetchGalleryItem(this.currentGalleryItem["@id"]);case 5:e.t1=e.sent,e.t0.$emit.call(e.t0,"update:current-gallery-item",e.t1),this.$nextTick((function(){t.reload()}));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"reload",value:function(){var e=this,t=this.currentGalleryItem;this.$emit("update:current-gallery-item",null),this.$nextTick((function(){e.$emit("update:current-gallery-item",t)}))}},{key:"onRightClick",value:function(e){this.$refs["file-navigator-context-menu"].showMenu(e)}}]),h}(h.Vue);De([Object(h.Prop)({type:Object,required:!1})],Ne.prototype,"currentGalleryItem",void 0),De([Object(h.Prop)({type:Function,required:!0})],Ne.prototype,"clickHandler",void 0),De([Object(h.Prop)({type:String,required:!1,default:null})],Ne.prototype,"rootName",void 0),De([qe.Action("fetchAll")],Ne.prototype,"fetchAllGalleries",void 0),De([He.Action("load")],Ne.prototype,"fetchGalleryItem",void 0),De([qe.Getter("list")],Ne.prototype,"mediaGalleries",void 0),De([qe.Getter("find")],Ne.prototype,"findMediaGalleriesById",void 0),De([Ee.Action("resetList")],Ne.prototype,"resetMediaObjects",void 0),De([Object(h.Watch)("currentGallery")],Ne.prototype,"onGalleryChange",null);var Ue=Ne=De([Object(h.Component)({components:{FileNavigatorBreadCrumb:le,FileNavigatorFolders:pe,FileNavigatorFiles:Oe,FileNavigatorContextMenu:Se}})],Ne),We=(r(693),r(760)),ze=r(51),Xe=Object(R.a)(Ue,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{on:{contextmenu:function(t){return t.preventDefault(),e.onRightClick(t)}}},[r("v-row",[r("v-col",[r("h3",{staticClass:"navigator-title",on:{click:e.handleRootClick}},[e._v("\n        Navigateur de fichier\n      ")]),r("file-navigator-bread-crumb",{attrs:{"gallery-item":e.currentGalleryItem,"gallery-click-handler":e.handleGalleryClick,"gallery-item-click-handler":e.handleGalleryItemClick}})],1)],1),e._v(" "),r("v-row",[e.currentGallery?e._e():r("v-toolbar",{attrs:{dense:""}},[r("v-overflow-btn",{staticClass:"pa-0",attrs:{items:e.mediaGalleries,"item-text":"name","item-value":e.getMediaGallery,label:"Sélectionner une gallerie...","hide-details":"",overflow:""},model:{value:e.currentGallery,callback:function(t){e.currentGallery=t},expression:"currentGallery"}})],1)],1),e._v(" "),e.currentGalleryItem&&e.currentGalleryItem.children.length>0?r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("h4",[e._v("Dossiers")])]),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("file-navigator-folders",{attrs:{"gallery-item":e.currentGalleryItem,"handle-click":e.handleGalleryItemClick}})],1)],1):e._e(),e._v(" "),e.currentGalleryItem&&e.currentGalleryItem.mediaObjects.length>0?r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("h4",[e._v("Fichiers")])]),e._v(" "),r("v-col",[r("file-navigator-files",{attrs:{"click-handler":e.clickHandler,"gallery-item":e.currentGalleryItem}})],1)],1):e._e(),e._v(" "),r("file-navigator-context-menu",{ref:"file-navigator-context-menu",attrs:{"gallery-item":e.currentGalleryItem}})],1)}),[],!1,null,"d9fa2b3c",null),Ye=Xe.exports;function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}w()(Xe,{VCol:U.a,VContainer:W.a,VOverflowBtn:We.a,VRow:X.a,VToolbar:ze.a});var Ke=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Qe=function(e){Object(l.a)(r,e);var t=Je(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).currentGalleryItem=null,e.thumbnails=[],e.links=[],e}return Object(c.a)(r,[{key:"reset",value:function(){this.thumbnails=[],this.links=[]}},{key:"selectItem",value:function(e){e.isImage?this.selectImage(e):this.selectLink(e)}},{key:"selectImage",value:function(e){this.thumbnails.push({src:e.contentUrl})}},{key:"selectLink",value:function(e){this.links.push({src:e.contentUrl,name:e.filePath})}},{key:"removeThumbnail",value:function(e){this.thumbnails.splice(e,1)}},{key:"removeLink",value:function(e){this.links.splice(e,1)}},{key:"handleUpload",value:function(e){var t=this;if(this.currentGalleryItem)for(var i=0;i<e.length;i++){var r=e[i],n=new FormData;n.append("file",r),n.append("mediaGalleryItemId",this.currentGalleryItem.id.toString()),this.$getRepository("media_objects").$post("/api/media_objects",{method:"POST",body:n}).then((function(e){e.isImage?t.selectImage(e):t.selectLink(e),t.$refs["file-navigator"].reload()}))}}}]),r}(h.Vue),Ze=Qe=Ke([Object(h.Component)({components:{FileSelection:J,FileUploader:re,FileNavigator:Ye}})],Qe),et=Object(R.a)(Ze,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",[r("file-selection",{attrs:{thumbnails:e.thumbnails,links:e.links,"remove-link":e.removeLink,"remove-thumbnail":e.removeThumbnail}})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("file-navigator",{ref:"file-navigator",attrs:{"click-handler":e.selectItem,"current-gallery-item":e.currentGalleryItem},on:{"update:currentGalleryItem":function(t){e.currentGalleryItem=t},"update:current-gallery-item":function(t){e.currentGalleryItem=t}}})],1)],1),e._v(" "),r("v-row",[r("v-col",[r("file-uploader",{attrs:{"handle-upload":e.handleUpload}})],1)],1)],1)}),[],!1,null,null,null),tt=et.exports;function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}w()(et,{VCol:U.a,VContainer:W.a,VRow:X.a});var ot=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},it=function(e){Object(l.a)(r,e);var t=nt(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).dialog=!1,e}return Object(c.a)(r,[{key:"injectFilesAndCloseDialog",value:function(){var e=this,t=this.$refs["file-manager"];t.thumbnails.forEach((function(t){e.editor.chain().focus().setImage({src:t.src}).run()})),t.links.forEach((function(link){var t=e.editor.schema.text(link.name,[e.editor.schema.marks.link.create({href:link.src})]);e.editor.view.dispatch(e.editor.state.tr.replaceSelectionWith(t,!1))})),this.dialog=!1}},{key:"onDialogToggle",value:function(){var e=this;this.$nextTick((function(){e.$refs["file-manager"].reset()}))}}]),r}(h.Vue);ot([Object(h.Prop)({type:Object,required:!0})],it.prototype,"editor",void 0),ot([Object(h.Watch)("dialog")],it.prototype,"onDialogToggle",null);var ct=it=ot([Object(h.Component)({components:{FileManager:tt}})],it),at=Object(R.a)(ct,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"90%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,l=t.attrs;return[r("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,l),!1),Object.assign({},n,c)),[r("v-icon",[e._v("ri-file-transfer-line")])],1)]}}],null,!0)},[e._v(" "),r("span",[e._v("Téléverser un fichier")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n      Téléverser un fichier\n    ")]),e._v(" "),r("v-card-text",[r("file-manager",{ref:"file-manager"})],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return t.preventDefault(),e.injectFilesAndCloseDialog(t)}}},[e._v("\n        Insérer\n      ")])],1)],1)],1)}),[],!1,null,null,null),lt=at.exports;w()(at,{VBtn:V.a,VCard:E.a,VCardActions:N.a,VCardText:N.b,VCardTitle:N.c,VDialog:we.a,VIcon:I.a,VSpacer:Le.a,VTooltip:P.a});var ut=r(697),st=r(698),ft=r(631),vt=r(699);r(134);function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var ht=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},bt=function(e){Object(l.a)(r,e);var t=pt(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).isActive=!1,e}return Object(c.a)(r,[{key:"nodeDisplay",get:function(){return this.extension.options.inline?"inline-block":"block"}},{key:"handleMouseDown",value:function(e){var t=this,r=(e.pageX,e.pageY,this.$refs["img-container"],parseFloat(this.node.attrs.width.match(/(.+)px/)[1])),n=e.x,o=function(e){var o=n-e.pageX,c="".concat(r-o,"px");t.updateAttributes({width:c})};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))}}]),r}(h.Vue);ht([Object(h.Prop)({type:Object,required:!0})],bt.prototype,"node",void 0),ht([Object(h.Prop)({type:Object,required:!0})],bt.prototype,"extension",void 0),ht([Object(h.Prop)({type:Function,required:!0})],bt.prototype,"updateAttributes",void 0);var yt=bt=ht([Object(h.Component)({components:{NodeViewWrapper:y.c}})],bt),gt=(r(700),Object(R.a)(yt,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("node-view-wrapper",{style:{display:e.nodeDisplay}},[r("div",{ref:"img-container",staticClass:"img-container",class:{"is-active":e.isActive},style:{width:e.node.attrs.width},attrs:{draggable:"true",contenteditable:"false","data-drag-handle":""}},[r("img",{staticStyle:{width:"100%"},attrs:{src:e.node.attrs.src,alt:e.node.attrs.title},on:{click:function(t){e.isActive=!e.isActive}}}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"handle",on:{mousedown:function(t){return t.preventDefault(),e.handleMouseDown(t)}}})])])}),[],!1,null,null,null).exports),mt=vt.a.extend({draggable:!0,addNodeView:function(){return Object(y.d)(gt)},addAttributes:function(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:"400px"}}}}),kt=r(558),Ot=kt.b.create({name:"text-color",addGlobalAttributes:function(){return[{types:["heading","paragraph","textStyle"],attributes:{color:{default:null,renderHTML:function(e){return e.color?{class:"".concat(e.color,"--text"),"data-color":e.color}:{}},parseHTML:function(element){return{color:element.getAttribute("data-color")}}}}}]},addCommands:function(){return{setColor:function(e){return function(t){return(0,t.chain)().setMark("textStyle",{color:e}).run()}},removeColor:function(){return function(e){return(0,e.chain)().setMark("textStyle",{color:null}).run()}}}}}),jt=kt.b.create({name:"text-background-color",addGlobalAttributes:function(){return[{types:["heading","paragraph","textStyle"],attributes:{backGroundColor:{default:null,renderHTML:function(e){return e.backGroundColor?{class:"".concat(e.backGroundColor),"data-background-color":e.backGroundColor}:{}},parseHTML:function(element){return{backGroundColor:element.getAttribute("data-background-color")}}}}}]},addCommands:function(){return{setBackgroundColor:function(e){return function(t){return(0,t.chain)().setMark("textStyle",{backGroundColor:e}).run()}},removeBackgroundColor:function(){return function(e){return(0,e.chain)().setMark("textStyle",{backGroundColor:null}).run()}}}}}),_t=[{name:"Titre",text:"text--darken-4 primary",background:"darken-4 primary"},{name:"Primaire",text:"primary",background:"primary"},{name:"Info",text:"info",background:"info"},{name:"Erreur",text:"error",background:"error"},{name:"Accent",text:"accent",background:"accent"},{name:"Secondaire",text:"text--darken-1 secondary",background:"darken-1 secondary"},{name:"Light secondaire",text:"text--lighten-3 secondary",background:"lighten-3 secondary"},{name:"Noir",text:"black",background:"black"},{name:"Blanc",text:"white",background:"white"}];function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var Rt=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},Ct=function(e){Object(l.a)(r,e);var t=xt(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).dialog=!1,e.colors=_t,e}return Object(c.a)(r,[{key:"chooseColor",value:function(e){this.editor.chain().focus().setColor(e.text).run(),this.dialog=!1}},{key:"removeColor",value:function(){this.editor.chain().focus().removeColor().run(),this.dialog=!1}}]),r}(h.Vue);Rt([Object(h.Prop)({type:Object,required:!0})],Ct.prototype,"editor",void 0);var wt=Ct=Rt([h.Component],Ct),Vt=Object(R.a)(wt,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"300"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,l=t.attrs;return[r("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,l),!1),Object.assign({},n,c)),[r("v-icon",[e._v("ri-font-color")])],1)]}}],null,!0)},[e._v(" "),r("span",[e._v("Couleur du texte")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-list",[e._l(e.colors,(function(t,n){return r("v-list-item",{key:n,on:{click:function(r){return e.chooseColor(t)}}},[r("v-list-item-title",{class:t.text+"--text"},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})),e._v(" "),r("v-list-item",{on:{click:e.removeColor}},[r("v-list-item-title",[e._v("Aucune couleur")])],1)],2)],1)}),[],!1,null,null,null),It=Vt.exports;w()(Vt,{VBtn:V.a,VDialog:we.a,VIcon:I.a,VList:Pe.a,VListItem:Ge.a,VListItemTitle:Ae.b,VTooltip:P.a});function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var Gt=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},At=function(e){Object(l.a)(r,e);var t=Pt(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).dialog=!1,e.colors=_t,e}return Object(c.a)(r,[{key:"chooseBackgroundColor",value:function(e){this.editor.chain().focus().setBackgroundColor(e.background).run(),this.dialog=!1}},{key:"removeBackgroundColor",value:function(){this.editor.chain().focus().removeBackgroundColor().run(),this.dialog=!1}}]),r}(h.Vue);Gt([Object(h.Prop)({type:Object,required:!0})],At.prototype,"editor",void 0);var Bt=At=Gt([h.Component],At),Mt=Object(R.a)(Bt,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"300"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,l=t.attrs;return[r("v-btn",e._g(e._b({attrs:{small:""}},"v-btn",Object.assign({},o,l),!1),Object.assign({},n,c)),[r("v-icon",[e._v("ri-paint-fill")])],1)]}}],null,!0)},[e._v(" "),r("span",[e._v("Couleur de fond")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-list",[e._l(e.colors,(function(t,n){return r("v-list-item",{key:n,class:t.background,on:{click:function(r){return e.chooseBackgroundColor(t)}}},[r("v-list-item-title",[e._v(e._s(t.name))])],1)})),e._v(" "),r("v-list-item",{on:{click:e.removeBackgroundColor}},[r("v-list-item-title",[e._v("Aucune couleur")])],1)],2)],1)}),[],!1,null,null,null),Lt=Mt.exports;function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}w()(Mt,{VBtn:V.a,VDialog:we.a,VIcon:I.a,VList:Pe.a,VListItem:Ge.a,VListItemTitle:Ae.b,VTooltip:P.a});var Ft=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},St=function(e){Object(l.a)(r,e);var t=Tt(r);function r(){var e;return Object(o.a)(this,r),(e=t.apply(this,arguments)).editor=null,e}return Object(c.a)(r,[{key:"onValueChange",value:function(e){var t,r;(null===(t=this.editor)||void 0===t?void 0:t.getHTML())===e||null===(r=this.editor)||void 0===r||r.commands.setContent(this.value||"",!1)}},{key:"mounted",value:function(){var e=this;this.editor=new y.a({content:this.value,extensions:[].concat(Object(n.a)(Object(m.a)()),[k.a,A.a,B.a,M.a.configure({resizable:!0}),L.a,F.a,T.a,mt.configure({inline:!0}),ut.a.configure({openOnClick:!0}),st.a,Ot,jt,ft.a])}),this.editor.on("update",(function(){var t;e.$emit("input",null===(t=e.editor)||void 0===t?void 0:t.getHTML())}))}},{key:"beforeDestroy",value:function(){var e;null===(e=this.editor)||void 0===e||e.destroy()}},{key:"clearContent",value:function(){var e;null===(e=this.editor)||void 0===e||e.commands.setContent("",!1)}},{key:"addImage",value:function(){var e,t=window.prompt("URL");t&&(null===(e=this.editor)||void 0===e||e.chain().focus().setImage({src:t}).run())}},{key:"setLink",value:function(){var e,t=window.prompt("URL");t&&(null===(e=this.editor)||void 0===e||e.chain().focus().setLink({href:t}).run())}}]),r}(h.Vue);Ft([Object(h.Prop)({type:String,required:!1,default:null})],St.prototype,"value",void 0),Ft([Object(h.Watch)("value")],St.prototype,"onValueChange",null);var $t=St=Ft([Object(h.Component)({components:{FileUploadBtn:lt,EditorContent:y.b,EditorBtn:G,TextColorBtn:It,TextBackgroundColorBtn:Lt}})],St),Dt=(r(702),Object(R.a)($t,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"editor"},[e.editor?r("v-toolbar",{attrs:{flat:"",dark:""}},[r("editor-btn",{attrs:{label:"Gras","btn-class":{"grey darken-3":e.editor.isActive("bold")},"click-handler":function(){return e.editor.chain().focus().toggleBold().run()},icon:"ri-bold"}}),e._v(" "),r("editor-btn",{attrs:{label:"Italique","btn-class":{"grey darken-3":e.editor.isActive("italic")},"click-handler":function(){return e.editor.chain().focus().toggleItalic().run()},icon:"ri-italic"}}),e._v(" "),r("editor-btn",{attrs:{label:"Barrer","btn-class":{"grey darken-3":e.editor.isActive("strike")},"click-handler":function(){return e.editor.chain().focus().toggleStrike().run()},icon:"ri-strikethrough"}}),e._v(" "),r("text-color-btn",{attrs:{editor:e.editor}}),e._v(" "),r("text-background-color-btn",{attrs:{editor:e.editor}}),e._v(" "),r("editor-btn",{attrs:{label:"Supprimer le style de la sélection","click-handler":function(){return e.editor.chain().focus().unsetAllMarks().run()},icon:"ri-format-clear"}}),e._v(" "),r("editor-btn",{attrs:{label:"Supprimer le style du bloc","click-handler":function(){return e.editor.chain().focus().clearNodes().run()},icon:"ri-eraser-line"}}),e._v(" "),r("editor-btn",{attrs:{label:"Paragraphe","btn-class":{"grey darken-3":e.editor.isActive("paragraph")},"click-handler":function(){return e.editor.chain().focus().setParagraph().run()},icon:"ri-paragraph"}}),e._v(" "),r("editor-btn",{attrs:{label:"Taille xxl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:1})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:1}).run()},icon:"ri-h-1"}}),e._v(" "),r("editor-btn",{attrs:{label:"Taille xl","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:2})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:2}).run()},icon:"ri-h-2"}}),e._v(" "),r("editor-btn",{attrs:{label:"Taille l","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:3})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:3}).run()},icon:"ri-h-3"}}),e._v(" "),r("editor-btn",{attrs:{label:"Taille m","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:4})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:4}).run()},icon:"ri-h-4"}}),e._v(" "),r("editor-btn",{attrs:{label:"Taille s","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:5})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:5}).run()},icon:"ri-h-5"}}),e._v(" "),r("editor-btn",{attrs:{label:"Taille xs","btn-class":{"grey darken-3":e.editor.isActive("heading",{level:6})},"click-handler":function(){return e.editor.chain().focus().toggleHeading({level:6}).run()},icon:"ri-h-6"}}),e._v(" "),r("editor-btn",{attrs:{label:"Liste","btn-class":{"grey darken-3":e.editor.isActive("bulletList")},"click-handler":function(){return e.editor.chain().focus().toggleBulletList().run()},icon:"ri-list-unordered"}}),e._v(" "),r("editor-btn",{attrs:{label:"Liste numérotée","btn-class":{"grey darken-3":e.editor.isActive("orderedList")},"click-handler":function(){return e.editor.chain().focus().toggleOrderedList().run()},icon:"ri-list-ordered"}}),e._v(" "),r("editor-btn",{attrs:{label:"Bloc de code","btn-class":{"grey darken-3":e.editor.isActive("codeBlock")},"click-handler":function(){return e.editor.chain().focus().toggleCodeBlock().run()},icon:"ri-code-line"}}),e._v(" "),r("editor-btn",{attrs:{label:"Citation","btn-class":{"grey darken-3":e.editor.isActive("blockquote")},"click-handler":function(){return e.editor.chain().focus().toggleCodeBlock().run()},icon:"ri-double-quotes-l"}}),e._v(" "),r("editor-btn",{attrs:{label:"Séparateur horizontal","click-handler":function(){return e.editor.chain().focus().setHorizontalRule().run()},icon:"ri-separator"}}),e._v(" "),r("editor-btn",{attrs:{label:"Undo","click-handler":function(){return e.editor.chain().focus().undo().run()},icon:"ri-arrow-go-back-line"}}),e._v(" "),r("editor-btn",{attrs:{label:"Redo","click-handler":function(){return e.editor.chain().focus().redo().run()},icon:"ri-arrow-go-forward-line"}}),e._v(" "),r("editor-btn",{attrs:{label:"Aligner à gauche","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"left"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("left").run()},icon:"ri-align-left"}}),e._v(" "),r("editor-btn",{attrs:{label:"Centrer","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"center"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("center").run()},icon:"ri-align-center"}}),e._v(" "),r("editor-btn",{attrs:{label:"Aligner à droite","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"right"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("right").run()},icon:"ri-align-right"}}),e._v(" "),r("editor-btn",{attrs:{label:"Justifier","btn-class":{"grey darken-3":e.editor.isActive({textAlign:"justify"})},"click-handler":function(){return e.editor.chain().focus().setTextAlign("justify").run()},icon:"ri-align-justify"}}),e._v(" "),r("editor-btn",{attrs:{label:"Ajouter une image","btn-class":null,"click-handler":e.addImage,icon:"ri-image-line"}}),e._v(" "),r("file-upload-btn",{attrs:{editor:e.editor}}),e._v(" "),r("editor-btn",{attrs:{label:"Ajouter un lien","click-handler":e.setLink,"btn-class":{"is-active":e.editor.isActive("link")},icon:"ri-link"}}),e._v(" "),e.editor.isActive("link")?r("editor-btn",{attrs:{label:"Supprimer le lien",icon:"ri-link-unlink","click-handler":function(){return e.editor.chain().focus().unsetLink().run()}}}):e._e()],1):e._e(),e._v(" "),r("editor-content",{staticClass:"editor__content",attrs:{editor:e.editor}})],1),e._v(" "),r("div",{staticClass:"actions"},[r("v-btn",{staticClass:"v-icon",on:{click:e.clearContent}},[e._v("\n      Clear Content\n    ")])],1)])}),[],!1,null,"69791f56",null));t.a=Dt.exports;w()(Dt,{VBtn:V.a,VToolbar:ze.a})},632:function(e,t,r){var content=r(688);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("e73e3fba",content,!0,{sourceMap:!1})},633:function(e,t,r){var content=r(690);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("f1c2dffe",content,!0,{sourceMap:!1})},634:function(e,t,r){var content=r(692);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("274314a7",content,!0,{sourceMap:!1})},635:function(e,t,r){var content=r(694);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("7c1f22ca",content,!0,{sourceMap:!1})},636:function(e,t,r){var content=r(701);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("5cc24a03",content,!0,{sourceMap:!1})},637:function(e,t,r){var content=r(703);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("32383955",content,!0,{sourceMap:!1})},687:function(e,t,r){"use strict";r(632)},688:function(e,t,r){var n=r(15)(!1);n.push([e.i,".file-navigator-breadcrumb-container[data-v-55925b90]{display:inline-block;cursor:pointer}",""]),e.exports=n},689:function(e,t,r){"use strict";r(633)},690:function(e,t,r){var n=r(15)(!1);n.push([e.i,".file-navigator-object[data-v-28f59eea]{cursor:pointer}",""]),e.exports=n},691:function(e,t,r){"use strict";r(634)},692:function(e,t,r){var n=r(15)(!1);n.push([e.i,".context-menu[data-v-5a00c5d7]{top:0;left:0;margin:0;padding:0;display:none;position:fixed;z-index:1000000}.context-menu--active[data-v-5a00c5d7]{display:block}",""]),e.exports=n},693:function(e,t,r){"use strict";r(635)},694:function(e,t,r){var n=r(15)(!1);n.push([e.i,"h3.navigator-title[data-v-d9fa2b3c]{display:inline-block;cursor:pointer}",""]),e.exports=n},700:function(e,t,r){"use strict";r(636)},701:function(e,t,r){var n=r(15)(!1);n.push([e.i,".img-container{position:relative;display:inline-block;line-height:0}.img-container.is-active{border:1px dashed grey}.handle{position:absolute;bottom:0;right:0;width:10px;height:10px;border:3px solid #000;border-top:none;border-left:none;cursor:nwse-resize}",""]),e.exports=n},702:function(e,t,r){"use strict";r(637)},703:function(e,t,r){var n=r(15)(!1);n.push([e.i,".editor__content[data-v-69791f56]  .ProseMirror{min-height:100px;border:1px solid #212121;padding:10px}.editor__content[data-v-69791f56]  .ProseMirror p{margin-bottom:0}.editor__content[data-v-69791f56]  .ProseMirror a{color:#68cef8}.v-toolbar[data-v-69791f56]  .v-toolbar__content{flex-wrap:wrap}",""]),e.exports=n}}]);