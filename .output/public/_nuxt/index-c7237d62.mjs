import{_ as T,d as y,l as k,D as C,p as A,o as l,c as i,F as h,k as v,n as u,t as f,j as c,b as _,u as I,r as P,w,g as b,al as B}from"./entry-4f25f676.mjs";import{u as S}from"./asyncData-e0b26fcd.mjs";import{P as O}from"./PreviewImage-a7d56ace.mjs";import{I as j}from"./Icon-b99d0d28.mjs";const N=y({async setup(x,{expose:p}){p();let n,e;const s=k(),{tags:a,activeTags:t}=C(s);[n,e]=A(()=>S("blog-tags",()=>s.fetchTags())),await n,e();const o={articleStore:s,tags:a,activeTags:t,toggleTag:d=>{t.value.indexOf(d)!==-1?s.$patch({activeTags:t.value.filter(m=>m!==d)}):(t.value.push(d),s.$patch({activeTags:t.value}))},clearTags:()=>{s.$patch({activeTags:[]})},Icon:j};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),$={class:"flex bg-white flex-row flex-wrap px-3 justify-center h-fit"},D=["onClick"];function R(x,p,n,e,s,a){return l(),i("div",$,[(l(!0),i(h,null,v(e.tags,(t,g)=>(l(),i("div",{key:g,class:u(["text-white uppercase px-2 py-1 rounded-tl-lg rounded-br-lg mx-1 text-xs cursor-pointer w-fit h-fit hover:bg-primary-dark",{"bg-primary-dark":e.activeTags.indexOf(t)!==-1,"bg-primary":e.activeTags.indexOf(t)===-1}]),onClick:r=>e.toggleTag(t)},f(t),11,D))),128)),c("div",{class:u(["fill-white uppercase px-2 py-1 rounded-tl-lg rounded-br-lg mx-1 text-xs cursor-pointer w-fit h-fit hover:bg-primary-dark",{"bg-primary-dark":e.activeTags.length===0,"bg-primary":e.activeTags.length>0}]),onClick:e.clearTags},[_(e.Icon,{icon:"ri-close-circle-line",class:"h-4 w-4"})],2)])}var V=T(N,[["render",R]]);const E=y({async setup(x,{expose:p}){p();let n,e;const s=I(),a=k();[n,e]=A(()=>S("blog-articles-index",()=>a.fetchAll({"order[createdAt]":"desc",itemsPerPage:50}))),await n,e();const{listWithActiveTags:t}=C(a),r={route:s,blogArticleStore:a,articles:t,setActiveTag:o=>{a.$patch({activeTags:[o]})},PreviewImage:O,TagCloud:V,Icon:j};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),F={class:"flex bg-white flex-auto flex-col px-3"},L=b("Blog"),z={class:"w-full flex flex-col py-2"},W={class:"flex flex-row"},q={class:"w-full"},G={class:"text-lg"},H=["onClick"],J=b("En savoir plus"),K=c("div",{class:"h-2 w-1/2 border-b self-center"},null,-1);function M(x,p,n,e,s,a){const t=P("Title"),g=B;return l(),i("div",F,[_(t,null,{default:w(()=>[L]),_:1}),_(e.TagCloud),(l(!0),i(h,null,v(e.articles,(r,o)=>(l(),i("div",z,[c("div",W,[c("div",{class:u([{"order-1":o%2===1},"px-3 w-40"])},[_(e.PreviewImage,{"media-object":e.blogArticleStore.getRandomImage(r),class:"h-20 before:text-[6px]"},null,8,["media-object"])],2),c("div",{class:u([{"text-right":o%2===1},"flex flex-col w-full justify-center"])},[c("p",q,[c("b",G,f(r.title),1),b(" | "+f(r.preview),1)]),c("div",{class:u([{"self-end":o%2===1},"pt-2 text-primary-dark fill-primary-dark flex uppercase text-xs items-center"])},[(l(!0),i(h,null,v(r.tags,(d,m)=>(l(),i("div",{key:m,class:"bg-primary-dark text-white uppercase px-2 py-1 rounded-tl-lg rounded-br-lg mx-1 text-xs cursor-pointer",onClick:Q=>e.setActiveTag(d)},f(d),9,H))),128)),_(e.Icon,{icon:"ri-arrow-right-s-line",class:"h-4 w-4"}),_(g,{to:{name:"blog-id",params:{id:r.id}}},{default:w(()=>[J]),_:2},1032,["to"])],2)],2)]),K]))),256))])}var ee=T(E,[["render",M]]);export{ee as default};
