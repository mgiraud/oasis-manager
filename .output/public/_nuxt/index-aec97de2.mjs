import{_ as w,d as T,m as y,E as k,q as A,o as l,c,F as m,l as v,n as f,t as g,u as P,r as $,b as p,w as b,k as i,g as h,al as j}from"./entry-7a7af91b.mjs";import{u as C}from"./asyncData-189d8b04.mjs";import{P as I}from"./PreviewImage-005792ee.mjs";import{I as B}from"./Icon-b7f67c13.mjs";const O=T({async setup(x,{expose:d}){d();let n,e;const r=y(),{tags:a,activeTags:t}=k(r);[n,e]=A(()=>C("blog-tags",()=>r.fetchTags())),await n,e();const s={articleStore:r,tags:a,activeTags:t,toggleTag:o=>{t.value.indexOf(o)!==-1?r.$patch({activeTags:t.value.filter(u=>u!==o)}):(t.value.push(o),r.$patch({activeTags:t.value}))}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),N={class:"flex bg-white flex-row flex-wrap px-3 justify-center h-fit"},E=["onClick"];function R(x,d,n,e,r,a){return l(),c("div",N,[(l(!0),c(m,null,v(e.tags,(t,_)=>(l(),c("div",{key:_,class:f(["text-white uppercase px-2 py-1 rounded-tl-lg rounded-br-lg mx-1 text-xs cursor-pointer w-fit h-fit",{"bg-primary-dark":e.activeTags.indexOf(t)!==-1,"bg-primary":e.activeTags.indexOf(t)===-1}]),onClick:s=>e.toggleTag(t)},g(t),11,E))),128))])}var V=w(O,[["render",R]]);const D=T({async setup(x,{expose:d}){d();let n,e;const r=P(),a=y();[n,e]=A(()=>C("blog-articles-index",()=>a.fetchAll({"order[createdAt]":"desc",itemsPerPage:50}))),await n,e();const{listWithActiveTags:t}=k(a),s={route:r,blogArticleStore:a,articles:t,setActiveTag:o=>{a.$patch({activeTags:[o]})},PreviewImage:I,TagCloud:V,Icon:B};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),F={class:"flex bg-white flex-auto flex-col px-3"},L=h("Blog"),q={class:"w-full flex flex-col py-2"},z={class:"flex flex-row"},W={class:"w-full"},G={class:"text-lg"},H=["onClick"],J=h("En savoir plus"),K=i("div",{class:"h-2 w-1/2 border-b self-center"},null,-1);function M(x,d,n,e,r,a){const t=$("Title"),_=j;return l(),c("div",F,[p(t,null,{default:b(()=>[L]),_:1}),p(e.TagCloud),(l(!0),c(m,null,v(e.articles,(s,o)=>(l(),c("div",q,[i("div",z,[i("div",{class:f([{"order-1":o%2===1},"px-3 w-40"])},[p(e.PreviewImage,{"media-object":e.blogArticleStore.getRandomImage(s),class:"h-20 before:text-[6px]"},null,8,["media-object"])],2),i("div",{class:f([{"text-right":o%2===1},"flex flex-col w-full justify-center"])},[i("p",W,[i("b",G,g(s.title),1),h(" | "+g(s.preview),1)]),i("div",{class:f([{"self-end":o%2===1},"pt-2 text-primary-dark fill-primary-dark flex uppercase text-xs items-center"])},[(l(!0),c(m,null,v(s.tags,(u,S)=>(l(),c("div",{key:S,class:"bg-primary-dark text-white uppercase px-2 py-1 rounded-tl-lg rounded-br-lg mx-1 text-xs cursor-pointer",onClick:Q=>e.setActiveTag(u)},g(u),9,H))),128)),p(e.Icon,{icon:"ri-arrow-right-s-line",class:"h-4 w-4"}),p(_,{to:{name:"blog-id",params:{id:s.id}}},{default:b(()=>[J]),_:2},1032,["to"])],2)],2)]),K]))),256))])}var ee=w(D,[["render",M]]);export{ee as default};
