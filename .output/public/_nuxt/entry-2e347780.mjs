var iS=Object.defineProperty,sS=Object.defineProperties;var aS=Object.getOwnPropertyDescriptors;var qa=Object.getOwnPropertySymbols;var Lh=Object.prototype.hasOwnProperty,zh=Object.prototype.propertyIsEnumerable;var Bh=(t,e,n)=>e in t?iS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||(e={}))Lh.call(e,n)&&Bh(t,n,e[n]);if(qa)for(var n of qa(e))zh.call(e,n)&&Bh(t,n,e[n]);return t},Ye=(t,e)=>sS(t,aS(e));var $h=(t,e)=>{var n={};for(var r in t)Lh.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qa)for(var r of qa(t))e.indexOf(r)<0&&zh.call(t,r)&&(n[r]=t[r]);return n};function Up(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const uS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lS=Up(uS);function Zg(t){return!!t||t===""}function xi(t){if(de(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=st(r)?pS(r):xi(r);if(o)for(const i in o)e[i]=o[i]}return e}else{if(st(t))return t;if(lt(t))return t}}const cS=/;(?![^(]*\))/g,fS=/:(.+)/;function pS(t){const e={};return t.split(cS).forEach(n=>{if(n){const r=n.split(fS);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Aa(t){let e="";if(st(t))e=t;else if(de(t))for(let n=0;n<t.length;n++){const r=Aa(t[n]);r&&(e+=r+" ")}else if(lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function dS(t){if(!t)return null;let{class:e,style:n}=t;return e&&!st(e)&&(t.class=Aa(e)),n&&(t.style=xi(n)),t}function hS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ka(t[r],e[r]);return n}function ka(t,e){if(t===e)return!0;let n=Hh(t),r=Hh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=de(t),r=de(e),n||r)return n&&r?hS(t,e):!1;if(n=lt(t),r=lt(e),n||r){if(!n||!r)return!1;const o=Object.keys(t).length,i=Object.keys(e).length;if(o!==i)return!1;for(const s in t){const a=t.hasOwnProperty(s),u=e.hasOwnProperty(s);if(a&&!u||!a&&u||!ka(t[s],e[s]))return!1}}return String(t)===String(e)}function Wp(t,e){return t.findIndex(n=>ka(n,e))}const No=t=>st(t)?t:t==null?"":de(t)||lt(t)&&(t.toString===Yg||!be(t.toString))?JSON.stringify(t,Gg,2):String(t),Gg=(t,e)=>e&&e.__v_isRef?Gg(t,e.value):wi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Gi(e)?{[`Set(${e.size})`]:[...e.values()]}:lt(e)&&!de(e)&&!Qg(e)?String(e):e,Je={},Ci=[],Vn=()=>{},mS=()=>!1,vS=/^on[^a-z]/,Da=t=>vS.test(t),Jp=t=>t.startsWith("onUpdate:"),Ft=Object.assign,Kp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},gS=Object.prototype.hasOwnProperty,Ie=(t,e)=>gS.call(t,e),de=Array.isArray,wi=t=>Gl(t)==="[object Map]",Gi=t=>Gl(t)==="[object Set]",Hh=t=>t instanceof Date,be=t=>typeof t=="function",st=t=>typeof t=="string",Zp=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",Gp=t=>lt(t)&&be(t.then)&&be(t.catch),Yg=Object.prototype.toString,Gl=t=>Yg.call(t),yS=t=>Gl(t).slice(8,-1),Qg=t=>Gl(t)==="[object Object]",Yp=t=>st(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xs=Up(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},bS=/-(\w)/g,or=Yl(t=>t.replace(bS,(e,n)=>n?n.toUpperCase():"")),CS=/\B([A-Z])/g,qo=Yl(t=>t.replace(CS,"-$1").toLowerCase()),Ql=Yl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Bc=Yl(t=>t?`on${Ql(t)}`:""),Ys=(t,e)=>!Object.is(t,e),Si=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ju=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Oi=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Vh;const wS=()=>Vh||(Vh=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Zn;class Xg{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Zn&&(this.parent=Zn,this.index=(Zn.scopes||(Zn.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Zn;try{return Zn=this,e()}finally{Zn=n}}}on(){Zn=this}off(){Zn=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function ey(t){return new Xg(t)}function SS(t,e=Zn){e&&e.active&&e.effects.push(t)}const Qp=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ty=t=>(t.w&oo)>0,ny=t=>(t.n&oo)>0,ES=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=oo},AS=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const o=e[r];ty(o)&&!ny(o)?o.delete(t):e[n++]=o,o.w&=~oo,o.n&=~oo}e.length=n}},If=new WeakMap;let Cs=0,oo=1;const Pf=30;let zn;const Fo=Symbol(""),Bf=Symbol("");class Xp{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,SS(this,r)}run(){if(!this.active)return this.fn();let e=zn,n=Xr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=zn,zn=this,Xr=!0,oo=1<<++Cs,Cs<=Pf?ES(this):jh(this),this.fn()}finally{Cs<=Pf&&AS(this),oo=1<<--Cs,zn=this.parent,Xr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){zn===this?this.deferStop=!0:this.active&&(jh(this),this.onStop&&this.onStop(),this.active=!1)}}function jh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Xr=!0;const ry=[];function Uo(){ry.push(Xr),Xr=!1}function Wo(){const t=ry.pop();Xr=t===void 0?!0:t}function dn(t,e,n){if(Xr&&zn){let r=If.get(t);r||If.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=Qp()),oy(o)}}function oy(t,e){let n=!1;Cs<=Pf?ny(t)||(t.n|=oo,n=!ty(t)):n=!t.has(zn),n&&(t.add(zn),zn.deps.push(t))}function Dr(t,e,n,r,o,i){const s=If.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&de(t))s.forEach((u,l)=>{(l==="length"||l>=r)&&a.push(u)});else switch(n!==void 0&&a.push(s.get(n)),e){case"add":de(t)?Yp(n)&&a.push(s.get("length")):(a.push(s.get(Fo)),wi(t)&&a.push(s.get(Bf)));break;case"delete":de(t)||(a.push(s.get(Fo)),wi(t)&&a.push(s.get(Bf)));break;case"set":wi(t)&&a.push(s.get(Fo));break}if(a.length===1)a[0]&&Lf(a[0]);else{const u=[];for(const l of a)l&&u.push(...l);Lf(Qp(u))}}function Lf(t,e){for(const n of de(t)?t:[...t])(n!==zn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const kS=Up("__proto__,__v_isRef,__isVue"),iy=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Zp)),DS=ed(),xS=ed(!1,!0),OS=ed(!0),qh=_S();function _S(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Fe(this);for(let i=0,s=this.length;i<s;i++)dn(r,"get",i+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(Fe)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Uo();const r=Fe(this)[e].apply(this,n);return Wo(),r}}),t}function ed(t=!1,e=!1){return function(r,o,i){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(t?e?US:cy:e?ly:uy).get(r))return r;const s=de(r);if(!t&&s&&Ie(qh,o))return Reflect.get(qh,o,i);const a=Reflect.get(r,o,i);return(Zp(o)?iy.has(o):kS(o))||(t||dn(r,"get",o),e)?a:Le(a)?!s||!Yp(o)?a.value:a:lt(a)?t?Ku(a):$t(a):a}}const TS=sy(),MS=sy(!0);function sy(t=!1){return function(n,r,o,i){let s=n[r];if(Qs(s)&&Le(s)&&!Le(o))return!1;if(!t&&!Qs(o)&&(fy(o)||(o=Fe(o),s=Fe(s)),!de(n)&&Le(s)&&!Le(o)))return s.value=o,!0;const a=de(n)&&Yp(r)?Number(r)<n.length:Ie(n,r),u=Reflect.set(n,r,o,i);return n===Fe(i)&&(a?Ys(o,s)&&Dr(n,"set",r,o):Dr(n,"add",r,o)),u}}function NS(t,e){const n=Ie(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Dr(t,"delete",e,void 0),r}function FS(t,e){const n=Reflect.has(t,e);return(!Zp(e)||!iy.has(e))&&dn(t,"has",e),n}function RS(t){return dn(t,"iterate",de(t)?"length":Fo),Reflect.ownKeys(t)}const ay={get:DS,set:TS,deleteProperty:NS,has:FS,ownKeys:RS},IS={get:OS,set(t,e){return!0},deleteProperty(t,e){return!0}},PS=Ft({},ay,{get:xS,set:MS}),td=t=>t,Xl=t=>Reflect.getPrototypeOf(t);function Ua(t,e,n=!1,r=!1){t=t.__v_raw;const o=Fe(t),i=Fe(e);e!==i&&!n&&dn(o,"get",e),!n&&dn(o,"get",i);const{has:s}=Xl(o),a=r?td:n?od:Xs;if(s.call(o,e))return a(t.get(e));if(s.call(o,i))return a(t.get(i));t!==o&&t.get(e)}function Wa(t,e=!1){const n=this.__v_raw,r=Fe(n),o=Fe(t);return t!==o&&!e&&dn(r,"has",t),!e&&dn(r,"has",o),t===o?n.has(t):n.has(t)||n.has(o)}function Ja(t,e=!1){return t=t.__v_raw,!e&&dn(Fe(t),"iterate",Fo),Reflect.get(t,"size",t)}function Uh(t){t=Fe(t);const e=Fe(this);return Xl(e).has.call(e,t)||(e.add(t),Dr(e,"add",t,t)),this}function Wh(t,e){e=Fe(e);const n=Fe(this),{has:r,get:o}=Xl(n);let i=r.call(n,t);i||(t=Fe(t),i=r.call(n,t));const s=o.call(n,t);return n.set(t,e),i?Ys(e,s)&&Dr(n,"set",t,e):Dr(n,"add",t,e),this}function Jh(t){const e=Fe(this),{has:n,get:r}=Xl(e);let o=n.call(e,t);o||(t=Fe(t),o=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return o&&Dr(e,"delete",t,void 0),i}function Kh(){const t=Fe(this),e=t.size!==0,n=t.clear();return e&&Dr(t,"clear",void 0,void 0),n}function Ka(t,e){return function(r,o){const i=this,s=i.__v_raw,a=Fe(s),u=e?td:t?od:Xs;return!t&&dn(a,"iterate",Fo),s.forEach((l,c)=>r.call(o,u(l),u(c),i))}}function Za(t,e,n){return function(...r){const o=this.__v_raw,i=Fe(o),s=wi(i),a=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,l=o[t](...r),c=n?td:e?od:Xs;return!e&&dn(i,"iterate",u?Bf:Fo),{next(){const{value:f,done:p}=l.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function Pr(t){return function(...e){return t==="delete"?!1:this}}function BS(){const t={get(i){return Ua(this,i)},get size(){return Ja(this)},has:Wa,add:Uh,set:Wh,delete:Jh,clear:Kh,forEach:Ka(!1,!1)},e={get(i){return Ua(this,i,!1,!0)},get size(){return Ja(this)},has:Wa,add:Uh,set:Wh,delete:Jh,clear:Kh,forEach:Ka(!1,!0)},n={get(i){return Ua(this,i,!0)},get size(){return Ja(this,!0)},has(i){return Wa.call(this,i,!0)},add:Pr("add"),set:Pr("set"),delete:Pr("delete"),clear:Pr("clear"),forEach:Ka(!0,!1)},r={get(i){return Ua(this,i,!0,!0)},get size(){return Ja(this,!0)},has(i){return Wa.call(this,i,!0)},add:Pr("add"),set:Pr("set"),delete:Pr("delete"),clear:Pr("clear"),forEach:Ka(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Za(i,!1,!1),n[i]=Za(i,!0,!1),e[i]=Za(i,!1,!0),r[i]=Za(i,!0,!0)}),[t,n,e,r]}const[LS,zS,$S,HS]=BS();function nd(t,e){const n=e?t?HS:$S:t?zS:LS;return(r,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(Ie(n,o)&&o in r?n:r,o,i)}const VS={get:nd(!1,!1)},jS={get:nd(!1,!0)},qS={get:nd(!0,!1)},uy=new WeakMap,ly=new WeakMap,cy=new WeakMap,US=new WeakMap;function WS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function JS(t){return t.__v_skip||!Object.isExtensible(t)?0:WS(yS(t))}function $t(t){return Qs(t)?t:rd(t,!1,ay,VS,uy)}function KS(t){return rd(t,!1,PS,jS,ly)}function Ku(t){return rd(t,!0,IS,qS,cy)}function rd(t,e,n,r,o){if(!lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const s=JS(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return o.set(t,a),a}function Cr(t){return Qs(t)?Cr(t.__v_raw):!!(t&&t.__v_isReactive)}function Qs(t){return!!(t&&t.__v_isReadonly)}function fy(t){return!!(t&&t.__v_isShallow)}function py(t){return Cr(t)||Qs(t)}function Fe(t){const e=t&&t.__v_raw;return e?Fe(e):t}function ir(t){return Ju(t,"__v_skip",!0),t}const Xs=t=>lt(t)?$t(t):t,od=t=>lt(t)?Ku(t):t;function id(t){Xr&&zn&&(t=Fe(t),oy(t.dep||(t.dep=Qp())))}function sd(t,e){t=Fe(t),t.dep&&Lf(t.dep)}function Le(t){return!!(t&&t.__v_isRef===!0)}function tt(t){return dy(t,!1)}function zf(t){return dy(t,!0)}function dy(t,e){return Le(t)?t:new ZS(t,e)}class ZS{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Fe(e),this._value=n?e:Xs(e)}get value(){return id(this),this._value}set value(e){e=this.__v_isShallow?e:Fe(e),Ys(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Xs(e),sd(this))}}function le(t){return Le(t)?t.value:t}const GS={get:(t,e,n)=>le(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return Le(o)&&!Le(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function hy(t){return Cr(t)?t:new Proxy(t,GS)}class YS{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>id(this),()=>sd(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function QS(t){return new YS(t)}function XS(t){const e=de(t)?new Array(t.length):{};for(const n in t)e[n]=$n(t,n);return e}class e1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function $n(t,e,n){const r=t[e];return Le(r)?r:new e1(t,e,n)}class t1{constructor(e,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Xp(e,()=>{this._dirty||(this._dirty=!0,sd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=Fe(this);return id(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function n1(t,e,n=!1){let r,o;const i=be(t);return i?(r=t,o=Vn):(r=t.get,o=t.set),new t1(r,o,i||!o,n)}const Os=[];function my(t,...e){Uo();const n=Os.length?Os[Os.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=r1();if(r)wr(r,n,11,[t+e.join(""),n&&n.proxy,o.map(({vnode:i})=>`at <${Zy(n,i.type)}>`).join(`
`),o]);else{const i=[`[Vue warn]: ${t}`,...e];o.length&&i.push(`
`,...o1(o)),console.warn(...i)}Wo()}function r1(){let t=Os[Os.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function o1(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...i1(n))}),e}function i1({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,o=` at <${Zy(t.component,t.type,r)}`,i=">"+n;return t.props?[o,...s1(t.props),i]:[o+i]}function s1(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...vy(r,t[r]))}),n.length>3&&e.push(" ..."),e}function vy(t,e,n){return st(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Le(e)?(e=vy(t,Fe(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):be(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Fe(e),n?e:[`${t}=`,e])}function wr(t,e,n,r){let o;try{o=r?t(...r):t()}catch(i){Yi(i,e,n)}return o}function kn(t,e,n,r){if(be(t)){const i=wr(t,e,n,r);return i&&Gp(i)&&i.catch(s=>{Yi(s,e,n)}),i}const o=[];for(let i=0;i<t.length;i++)o.push(kn(t[i],e,n,r));return o}function Yi(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](t,s,a)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){wr(u,null,10,[t,s,a]);return}}a1(t,n,o,r)}function a1(t,e,n,r=!0){console.error(t)}let Zu=!1,$f=!1;const pn=[];let yr=0;const _s=[];let ws=null,ui=0;const Ts=[];let jr=null,li=0;const gy=Promise.resolve();let ad=null,Hf=null;function tr(t){const e=ad||gy;return t?e.then(this?t.bind(this):t):e}function u1(t){let e=yr+1,n=pn.length;for(;e<n;){const r=e+n>>>1;ea(pn[r])<t?e=r+1:n=r}return e}function ud(t){(!pn.length||!pn.includes(t,Zu&&t.allowRecurse?yr+1:yr))&&t!==Hf&&(t.id==null?pn.push(t):pn.splice(u1(t.id),0,t),yy())}function yy(){!Zu&&!$f&&($f=!0,ad=gy.then(wy))}function l1(t){const e=pn.indexOf(t);e>yr&&pn.splice(e,1)}function by(t,e,n,r){de(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),yy()}function c1(t){by(t,ws,_s,ui)}function Cy(t){by(t,jr,Ts,li)}function ld(t,e=null){if(_s.length){for(Hf=e,ws=[...new Set(_s)],_s.length=0,ui=0;ui<ws.length;ui++)ws[ui]();ws=null,ui=0,Hf=null,ld(t,e)}}function Gu(t){if(Ts.length){const e=[...new Set(Ts)];if(Ts.length=0,jr){jr.push(...e);return}for(jr=e,jr.sort((n,r)=>ea(n)-ea(r)),li=0;li<jr.length;li++)jr[li]();jr=null,li=0}}const ea=t=>t.id==null?1/0:t.id;function wy(t){$f=!1,Zu=!0,ld(t),pn.sort((n,r)=>ea(n)-ea(r));const e=Vn;try{for(yr=0;yr<pn.length;yr++){const n=pn[yr];n&&n.active!==!1&&wr(n,null,14)}}finally{yr=0,pn.length=0,Gu(),Zu=!1,ad=null,(pn.length||_s.length||Ts.length)&&wy(t)}}function f1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Je;let o=n;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in r){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:p}=r[c]||Je;p?o=n.map(d=>d.trim()):f&&(o=n.map(Oi))}let a,u=r[a=Bc(e)]||r[a=Bc(or(e))];!u&&i&&(u=r[a=Bc(qo(e))]),u&&kn(u,t,6,o);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,kn(l,t,6,o)}}function Sy(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const i=t.emits;let s={},a=!1;if(!be(t)){const u=l=>{const c=Sy(l,e,!0);c&&(a=!0,Ft(s,c))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(r.set(t,null),null):(de(i)?i.forEach(u=>s[u]=null):Ft(s,i),r.set(t,s),s)}function ec(t,e){return!t||!Da(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,qo(e))||Ie(t,e))}let zt=null,tc=null;function Yu(t){const e=zt;return zt=t,tc=t&&t.type.__scopeId||null,e}function cd(t){tc=t}function fd(){tc=null}function xa(t,e=zt,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&um(-1);const i=Yu(e),s=t(...o);return Yu(i),r._d&&um(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Lc(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:u,emit:l,render:c,renderCache:f,data:p,setupState:d,ctx:h,inheritAttrs:m}=t;let g,b;const v=Yu(t);try{if(n.shapeFlag&4){const y=o||r;g=En(c.call(y,y,f,i,d,p,h)),b=u}else{const y=e;g=En(y.length>1?y(i,{attrs:u,slots:a,emit:l}):y(i,null)),b=e.props?u:d1(u)}}catch(y){Fs.length=0,Yi(y,t,1),g=et(Yt)}let w=g;if(b&&m!==!1){const y=Object.keys(b),{shapeFlag:S}=w;y.length&&S&7&&(s&&y.some(Jp)&&(b=h1(b,s)),w=io(w,b))}return n.dirs&&(w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),g=w,Yu(v),g}function p1(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Ti(r)){if(r.type!==Yt||r.children==="v-if"){if(e)return;e=r}}else return}return e}const d1=t=>{let e;for(const n in t)(n==="class"||n==="style"||Da(n))&&((e||(e={}))[n]=t[n]);return e},h1=(t,e)=>{const n={};for(const r in t)(!Jp(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function m1(t,e,n){const{props:r,children:o,component:i}=t,{props:s,children:a,patchFlag:u}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Zh(r,s,l):!!s;if(u&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(s[p]!==r[p]&&!ec(l,p))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Zh(r,s,l):!0:!!s;return!1}function Zh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==t[i]&&!ec(n,i))return!0}return!1}function pd({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const v1=t=>t.__isSuspense,g1={name:"Suspense",__isSuspense:!0,process(t,e,n,r,o,i,s,a,u,l){t==null?y1(e,n,r,o,i,s,a,u,l):b1(t,e,n,r,o,s,a,u,l)},hydrate:C1,create:dd,normalize:w1},Ey=g1;function ta(t,e){const n=t.props&&t.props[e];be(n)&&n()}function y1(t,e,n,r,o,i,s,a,u){const{p:l,o:{createElement:c}}=u,f=c("div"),p=t.suspense=dd(t,o,r,e,f,n,i,s,a,u);l(null,p.pendingBranch=t.ssContent,f,null,r,p,i,s),p.deps>0?(ta(t,"onPending"),ta(t,"onFallback"),l(null,t.ssFallback,e,n,r,null,i,s),Ei(p,t.ssFallback)):p.resolve()}function b1(t,e,n,r,o,i,s,a,{p:u,um:l,o:{createElement:c}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,d=e.ssFallback,{activeBranch:h,pendingBranch:m,isInFallback:g,isHydrating:b}=f;if(m)f.pendingBranch=p,Xn(p,m)?(u(m,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0?f.resolve():g&&(u(h,d,n,r,o,null,i,s,a),Ei(f,d))):(f.pendingId++,b?(f.isHydrating=!1,f.activeBranch=m):l(m,o,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),g?(u(null,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0?f.resolve():(u(h,d,n,r,o,null,i,s,a),Ei(f,d))):h&&Xn(p,h)?(u(h,p,n,r,o,f,i,s,a),f.resolve(!0)):(u(null,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0&&f.resolve()));else if(h&&Xn(p,h))u(h,p,n,r,o,f,i,s,a),Ei(f,p);else if(ta(e,"onPending"),f.pendingBranch=p,f.pendingId++,u(null,p,f.hiddenContainer,null,o,f,i,s,a),f.deps<=0)f.resolve();else{const{timeout:v,pendingId:w}=f;v>0?setTimeout(()=>{f.pendingId===w&&f.fallback(d)},v):v===0&&f.fallback(d)}}function dd(t,e,n,r,o,i,s,a,u,l,c=!1){const{p:f,m:p,um:d,n:h,o:{parentNode:m,remove:g}}=l,b=Oi(t.props&&t.props.timeout),v={vnode:t,parent:e,parentComponent:n,isSVG:s,container:r,hiddenContainer:o,anchor:i,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(w=!1){const{vnode:y,activeBranch:S,pendingBranch:A,pendingId:k,effects:x,parentComponent:_,container:N}=v;if(v.isHydrating)v.isHydrating=!1;else if(!w){const H=S&&A.transition&&A.transition.mode==="out-in";H&&(S.transition.afterLeave=()=>{k===v.pendingId&&p(A,N,te,0)});let{anchor:te}=v;S&&(te=h(S),d(S,_,v,!0)),H||p(A,N,te,0)}Ei(v,A),v.pendingBranch=null,v.isInFallback=!1;let z=v.parent,M=!1;for(;z;){if(z.pendingBranch){z.effects.push(...x),M=!0;break}z=z.parent}M||Cy(x),v.effects=[],ta(y,"onResolve")},fallback(w){if(!v.pendingBranch)return;const{vnode:y,activeBranch:S,parentComponent:A,container:k,isSVG:x}=v;ta(y,"onFallback");const _=h(S),N=()=>{!v.isInFallback||(f(null,w,k,_,A,null,x,a,u),Ei(v,w))},z=w.transition&&w.transition.mode==="out-in";z&&(S.transition.afterLeave=N),v.isInFallback=!0,d(S,A,null,!0),z||N()},move(w,y,S){v.activeBranch&&p(v.activeBranch,w,y,S),v.container=w},next(){return v.activeBranch&&h(v.activeBranch)},registerDep(w,y){const S=!!v.pendingBranch;S&&v.deps++;const A=w.vnode.el;w.asyncDep.catch(k=>{Yi(k,w,0)}).then(k=>{if(w.isUnmounted||v.isUnmounted||v.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:x}=w;Zf(w,k,!1),A&&(x.el=A);const _=!A&&w.subTree.el;y(w,x,m(A||w.subTree.el),A?null:h(w.subTree),v,s,u),_&&g(_),pd(w,x.el),S&&--v.deps===0&&v.resolve()})},unmount(w,y){v.isUnmounted=!0,v.activeBranch&&d(v.activeBranch,n,w,y),v.pendingBranch&&d(v.pendingBranch,n,w,y)}};return v}function C1(t,e,n,r,o,i,s,a,u){const l=e.suspense=dd(e,r,n,t.parentNode,document.createElement("div"),null,o,i,s,a,!0),c=u(t,l.pendingBranch=e.ssContent,n,l,i,s);return l.deps===0&&l.resolve(),c}function w1(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Gh(r?n.default:n),t.ssFallback=r?Gh(n.fallback):et(Yt)}function Gh(t){let e;if(be(t)){const n=ra&&t._c;n&&(t._d=!1,xn()),t=t(),n&&(t._d=!0,e=eo,Vy())}return de(t)&&(t=p1(t)),t=En(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Ay(t,e){e&&e.pendingBranch?de(t)?e.effects.push(...t):e.effects.push(t):Cy(t)}function Ei(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,o=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=o,pd(r,o))}function Sr(t,e){if(Ct){let n=Ct.provides;const r=Ct.parent&&Ct.parent.provides;r===n&&(n=Ct.provides=Object.create(r)),n[t]=e}}function Dn(t,e,n=!1){const r=Ct||zt;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&be(e)?e.call(r.proxy):e}}function Qu(t,e){return hd(t,null,e)}const Yh={};function sn(t,e,n){return hd(t,e,n)}function hd(t,e,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=Je){const a=Ct;let u,l=!1,c=!1;if(Le(t)?(u=()=>t.value,l=fy(t)):Cr(t)?(u=()=>t,r=!0):de(t)?(c=!0,l=t.some(Cr),u=()=>t.map(b=>{if(Le(b))return b.value;if(Cr(b))return To(b);if(be(b))return wr(b,a,2)})):be(t)?e?u=()=>wr(t,a,2):u=()=>{if(!(a&&a.isUnmounted))return f&&f(),kn(t,a,3,[p])}:u=Vn,e&&r){const b=u;u=()=>To(b())}let f,p=b=>{f=g.onStop=()=>{wr(b,a,4)}};if(Mi)return p=Vn,e?n&&kn(e,a,3,[u(),c?[]:void 0,p]):u(),Vn;let d=c?[]:Yh;const h=()=>{if(!!g.active)if(e){const b=g.run();(r||l||(c?b.some((v,w)=>Ys(v,d[w])):Ys(b,d)))&&(f&&f(),kn(e,a,3,[b,d===Yh?void 0:d,p]),d=b)}else g.run()};h.allowRecurse=!!e;let m;o==="sync"?m=h:o==="post"?m=()=>Ot(h,a&&a.suspense):m=()=>{!a||a.isMounted?c1(h):h()};const g=new Xp(u,m);return e?n?h():d=g.run():o==="post"?Ot(g.run.bind(g),a&&a.suspense):g.run(),()=>{g.stop(),a&&a.scope&&Kp(a.scope.effects,g)}}function S1(t,e,n){const r=this.proxy,o=st(t)?t.includes(".")?ky(r,t):()=>r[t]:t.bind(r,r);let i;be(e)?i=e:(i=e.handler,n=e);const s=Ct;so(this);const a=hd(o,i.bind(r),n);return s?so(s):no(),a}function ky(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function To(t,e){if(!lt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Le(t))To(t.value,e);else if(de(t))for(let n=0;n<t.length;n++)To(t[n],e);else if(Gi(t)||wi(t))t.forEach(n=>{To(n,e)});else if(Qg(t))for(const n in t)To(t[n],e);return t}function E1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return co(()=>{t.isMounted=!0}),lr(()=>{t.isUnmounting=!0}),t}const wn=[Function,Array],A1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wn,onEnter:wn,onAfterEnter:wn,onEnterCancelled:wn,onBeforeLeave:wn,onLeave:wn,onAfterLeave:wn,onLeaveCancelled:wn,onBeforeAppear:wn,onAppear:wn,onAfterAppear:wn,onAppearCancelled:wn},setup(t,{slots:e}){const n=cr(),r=E1();let o;return()=>{const i=e.default&&Oy(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const m of i)if(m.type!==Yt){s=m;break}}const a=Fe(t),{mode:u}=a;if(r.isLeaving)return zc(s);const l=Qh(s);if(!l)return zc(s);const c=Vf(l,a,r,n);Xu(l,c);const f=n.subTree,p=f&&Qh(f);let d=!1;const{getTransitionKey:h}=l.type;if(h){const m=h();o===void 0?o=m:m!==o&&(o=m,d=!0)}if(p&&p.type!==Yt&&(!Xn(l,p)||d)){const m=Vf(p,a,r,n);if(Xu(p,m),u==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},zc(s);u==="in-out"&&l.type!==Yt&&(m.delayLeave=(g,b,v)=>{const w=xy(r,p);w[String(p.key)]=p,g._leaveCb=()=>{b(),g._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=v})}return s}}},Dy=A1;function xy(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Vf(t,e,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:f,onLeave:p,onAfterLeave:d,onLeaveCancelled:h,onBeforeAppear:m,onAppear:g,onAfterAppear:b,onAppearCancelled:v}=e,w=String(t.key),y=xy(n,t),S=(k,x)=>{k&&kn(k,r,9,x)},A={mode:i,persisted:s,beforeEnter(k){let x=a;if(!n.isMounted)if(o)x=m||a;else return;k._leaveCb&&k._leaveCb(!0);const _=y[w];_&&Xn(t,_)&&_.el._leaveCb&&_.el._leaveCb(),S(x,[k])},enter(k){let x=u,_=l,N=c;if(!n.isMounted)if(o)x=g||u,_=b||l,N=v||c;else return;let z=!1;const M=k._enterCb=H=>{z||(z=!0,H?S(N,[k]):S(_,[k]),A.delayedLeave&&A.delayedLeave(),k._enterCb=void 0)};x?(x(k,M),x.length<=1&&M()):M()},leave(k,x){const _=String(t.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return x();S(f,[k]);let N=!1;const z=k._leaveCb=M=>{N||(N=!0,x(),M?S(h,[k]):S(d,[k]),k._leaveCb=void 0,y[_]===t&&delete y[_])};y[_]=t,p?(p(k,z),p.length<=1&&z()):z()},clone(k){return Vf(k,e,n,r)}};return A}function zc(t){if(Oa(t))return t=io(t),t.children=null,t}function Qh(t){return Oa(t)?t.children?t.children[0]:void 0:t}function Xu(t,e){t.shapeFlag&6&&t.component?Xu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Oy(t,e=!1,n){let r=[],o=0;for(let i=0;i<t.length;i++){let s=t[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===on?(s.patchFlag&128&&o++,r=r.concat(Oy(s.children,e,a))):(e||s.type!==Yt)&&r.push(a!=null?io(s,{key:a}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Ke(t){return be(t)?{setup:t,name:t.name}:t}const _i=t=>!!t.type.__asyncLoader;function Xh(t){be(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:o=200,timeout:i,suspensible:s=!0,onError:a}=t;let u=null,l,c=0;const f=()=>(c++,u=null,p()),p=()=>{let d;return u||(d=u=e().catch(h=>{if(h=h instanceof Error?h:new Error(String(h)),a)return new Promise((m,g)=>{a(h,()=>m(f()),()=>g(h),c+1)});throw h}).then(h=>d!==u&&u?u:(h&&(h.__esModule||h[Symbol.toStringTag]==="Module")&&(h=h.default),l=h,h)))};return Ke({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return l},setup(){const d=Ct;if(l)return()=>$c(l,d);const h=v=>{u=null,Yi(v,d,13,!r)};if(s&&d.suspense||Mi)return p().then(v=>()=>$c(v,d)).catch(v=>(h(v),()=>r?et(r,{error:v}):null));const m=tt(!1),g=tt(),b=tt(!!o);return o&&setTimeout(()=>{b.value=!1},o),i!=null&&setTimeout(()=>{if(!m.value&&!g.value){const v=new Error(`Async component timed out after ${i}ms.`);h(v),g.value=v}},i),p().then(()=>{m.value=!0,d.parent&&Oa(d.parent.vnode)&&ud(d.parent.update)}).catch(v=>{h(v),g.value=v}),()=>{if(m.value&&l)return $c(l,d);if(g.value&&r)return et(r,{error:g.value});if(n&&!b.value)return et(n)}}})}function $c(t,{vnode:{ref:e,props:n,children:r}}){const o=et(t,n,r);return o.ref=e,o}const Oa=t=>t.type.__isKeepAlive,k1={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=cr(),r=n.ctx;if(!r.renderer)return e.default;const o=new Map,i=new Set;let s=null;const a=n.suspense,{renderer:{p:u,m:l,um:c,o:{createElement:f}}}=r,p=f("div");r.activate=(v,w,y,S,A)=>{const k=v.component;l(v,w,y,0,a),u(k.vnode,v,w,y,k,a,S,v.slotScopeIds,A),Ot(()=>{k.isDeactivated=!1,k.a&&Si(k.a);const x=v.props&&v.props.onVnodeMounted;x&&rn(x,k.parent,v)},a)},r.deactivate=v=>{const w=v.component;l(v,p,null,1,a),Ot(()=>{w.da&&Si(w.da);const y=v.props&&v.props.onVnodeUnmounted;y&&rn(y,w.parent,v),w.isDeactivated=!0},a)};function d(v){Hc(v),c(v,n,a,!0)}function h(v){o.forEach((w,y)=>{const S=rl(w.type);S&&(!v||!v(S))&&m(y)})}function m(v){const w=o.get(v);!s||w.type!==s.type?d(w):s&&Hc(s),o.delete(v),i.delete(v)}sn(()=>[t.include,t.exclude],([v,w])=>{v&&h(y=>Ss(v,y)),w&&h(y=>!Ss(w,y))},{flush:"post",deep:!0});let g=null;const b=()=>{g!=null&&o.set(g,Vc(n.subTree))};return co(b),Ty(b),lr(()=>{o.forEach(v=>{const{subTree:w,suspense:y}=n,S=Vc(w);if(v.type===S.type){Hc(S);const A=S.component.da;A&&Ot(A,y);return}d(v)})}),()=>{if(g=null,!e.default)return null;const v=e.default(),w=v[0];if(v.length>1)return s=null,v;if(!Ti(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return s=null,w;let y=Vc(w);const S=y.type,A=rl(_i(y)?y.type.__asyncResolved||{}:S),{include:k,exclude:x,max:_}=t;if(k&&(!A||!Ss(k,A))||x&&A&&Ss(x,A))return s=y,w;const N=y.key==null?S:y.key,z=o.get(N);return y.el&&(y=io(y),w.shapeFlag&128&&(w.ssContent=y)),g=N,z?(y.el=z.el,y.component=z.component,y.transition&&Xu(y,y.transition),y.shapeFlag|=512,i.delete(N),i.add(N)):(i.add(N),_&&i.size>parseInt(_,10)&&m(i.values().next().value)),y.shapeFlag|=256,s=y,w}}},D1=k1;function Ss(t,e){return de(t)?t.some(n=>Ss(n,e)):st(t)?t.split(",").includes(e):t.test?t.test(e):!1}function x1(t,e){_y(t,"a",e)}function O1(t,e){_y(t,"da",e)}function _y(t,e,n=Ct){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(nc(e,r,n),n){let o=n.parent;for(;o&&o.parent;)Oa(o.parent.vnode)&&_1(r,e,n,o),o=o.parent}}function _1(t,e,n,r){const o=nc(e,t,r,!0);md(()=>{Kp(r[e],o)},n)}function Hc(t){let e=t.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),t.shapeFlag=e}function Vc(t){return t.shapeFlag&128?t.ssContent:t}function nc(t,e,n=Ct,r=!1){if(n){const o=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Uo(),so(n);const a=kn(e,n,t,s);return no(),Wo(),a});return r?o.unshift(i):o.push(i),i}}const Mr=t=>(e,n=Ct)=>(!Mi||t==="sp")&&nc(t,e,n),T1=Mr("bm"),co=Mr("m"),M1=Mr("bu"),Ty=Mr("u"),lr=Mr("bum"),md=Mr("um"),N1=Mr("sp"),F1=Mr("rtg"),R1=Mr("rtc");function jf(t,e=Ct){nc("ec",t,e)}let qf=!0;function I1(t){const e=Ny(t),n=t.proxy,r=t.ctx;qf=!1,e.beforeCreate&&em(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:s,watch:a,provide:u,inject:l,created:c,beforeMount:f,mounted:p,beforeUpdate:d,updated:h,activated:m,deactivated:g,beforeDestroy:b,beforeUnmount:v,destroyed:w,unmounted:y,render:S,renderTracked:A,renderTriggered:k,errorCaptured:x,serverPrefetch:_,expose:N,inheritAttrs:z,components:M,directives:H,filters:te}=e;if(l&&P1(l,r,null,t.appContext.config.unwrapInjectedRef),s)for(const pe in s){const oe=s[pe];be(oe)&&(r[pe]=oe.bind(n))}if(o){const pe=o.call(n,n);lt(pe)&&(t.data=$t(pe))}if(qf=!0,i)for(const pe in i){const oe=i[pe],we=be(oe)?oe.bind(n,n):be(oe.get)?oe.get.bind(n,n):Vn,q=!be(oe)&&be(oe.set)?oe.set.bind(n):Vn,ge=ke({get:we,set:q});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>ge.value,set:De=>ge.value=De})}if(a)for(const pe in a)My(a[pe],r,n,pe);if(u){const pe=be(u)?u.call(n):u;Reflect.ownKeys(pe).forEach(oe=>{Sr(oe,pe[oe])})}c&&em(c,t,"c");function Y(pe,oe){de(oe)?oe.forEach(we=>pe(we.bind(n))):oe&&pe(oe.bind(n))}if(Y(T1,f),Y(co,p),Y(M1,d),Y(Ty,h),Y(x1,m),Y(O1,g),Y(jf,x),Y(R1,A),Y(F1,k),Y(lr,v),Y(md,y),Y(N1,_),de(N))if(N.length){const pe=t.exposed||(t.exposed={});N.forEach(oe=>{Object.defineProperty(pe,oe,{get:()=>n[oe],set:we=>n[oe]=we})})}else t.exposed||(t.exposed={});S&&t.render===Vn&&(t.render=S),z!=null&&(t.inheritAttrs=z),M&&(t.components=M),H&&(t.directives=H)}function P1(t,e,n=Vn,r=!1){de(t)&&(t=Uf(t));for(const o in t){const i=t[o];let s;lt(i)?"default"in i?s=Dn(i.from||o,i.default,!0):s=Dn(i.from||o):s=Dn(i),Le(s)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[o]=s}}function em(t,e,n){kn(de(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function My(t,e,n,r){const o=r.includes(".")?ky(n,r):()=>n[r];if(st(t)){const i=e[t];be(i)&&sn(o,i)}else if(be(t))sn(o,t.bind(n));else if(lt(t))if(de(t))t.forEach(i=>My(i,e,n,r));else{const i=be(t.handler)?t.handler.bind(n):e[t.handler];be(i)&&sn(o,i,t)}}function Ny(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let u;return a?u=a:!o.length&&!n&&!r?u=e:(u={},o.length&&o.forEach(l=>el(u,l,s,!0)),el(u,e,s)),i.set(e,u),u}function el(t,e,n,r=!1){const{mixins:o,extends:i}=e;i&&el(t,i,n,!0),o&&o.forEach(s=>el(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=B1[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const B1={data:tm,props:Eo,emits:Eo,methods:Eo,computed:Eo,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:Eo,directives:Eo,watch:z1,provide:tm,inject:L1};function tm(t,e){return e?t?function(){return Ft(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function L1(t,e){return Eo(Uf(t),Uf(e))}function Uf(t){if(de(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Kt(t,e){return t?[...new Set([].concat(t,e))]:e}function Eo(t,e){return t?Ft(Ft(Object.create(null),t),e):e}function z1(t,e){if(!t)return e;if(!e)return t;const n=Ft(Object.create(null),t);for(const r in e)n[r]=Kt(t[r],e[r]);return n}function $1(t,e,n,r=!1){const o={},i={};Ju(i,oc,1),t.propsDefaults=Object.create(null),Fy(t,e,o,i);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);n?t.props=r?o:KS(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function H1(t,e,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=t,a=Fe(o),[u]=t.propsOptions;let l=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];if(ec(t.emitsOptions,p))continue;const d=e[p];if(u)if(Ie(i,p))d!==i[p]&&(i[p]=d,l=!0);else{const h=or(p);o[h]=Wf(u,a,h,d,t,!1)}else d!==i[p]&&(i[p]=d,l=!0)}}}else{Fy(t,e,o,i)&&(l=!0);let c;for(const f in a)(!e||!Ie(e,f)&&((c=qo(f))===f||!Ie(e,c)))&&(u?n&&(n[f]!==void 0||n[c]!==void 0)&&(o[f]=Wf(u,a,f,void 0,t,!0)):delete o[f]);if(i!==a)for(const f in i)(!e||!Ie(e,f)&&!0)&&(delete i[f],l=!0)}l&&Dr(t,"set","$attrs")}function Fy(t,e,n,r){const[o,i]=t.propsOptions;let s=!1,a;if(e)for(let u in e){if(xs(u))continue;const l=e[u];let c;o&&Ie(o,c=or(u))?!i||!i.includes(c)?n[c]=l:(a||(a={}))[c]=l:ec(t.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,s=!0)}if(i){const u=Fe(n),l=a||Je;for(let c=0;c<i.length;c++){const f=i[c];n[f]=Wf(o,u,f,l[f],t,!Ie(l,f))}}return s}function Wf(t,e,n,r,o,i){const s=t[n];if(s!=null){const a=Ie(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&be(u)){const{propsDefaults:l}=o;n in l?r=l[n]:(so(o),r=l[n]=u.call(null,e),no())}else r=u}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===qo(n))&&(r=!0))}return r}function Ry(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const i=t.props,s={},a=[];let u=!1;if(!be(t)){const c=f=>{u=!0;const[p,d]=Ry(f,e,!0);Ft(s,p),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!u)return r.set(t,Ci),Ci;if(de(i))for(let c=0;c<i.length;c++){const f=or(i[c]);nm(f)&&(s[f]=Je)}else if(i)for(const c in i){const f=or(c);if(nm(f)){const p=i[c],d=s[f]=de(p)||be(p)?{type:p}:p;if(d){const h=im(Boolean,d.type),m=im(String,d.type);d[0]=h>-1,d[1]=m<0||h<m,(h>-1||Ie(d,"default"))&&a.push(f)}}}const l=[s,a];return r.set(t,l),l}function nm(t){return t[0]!=="$"}function rm(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function om(t,e){return rm(t)===rm(e)}function im(t,e){return de(e)?e.findIndex(n=>om(n,t)):be(e)&&om(e,t)?0:-1}const Iy=t=>t[0]==="_"||t==="$stable",vd=t=>de(t)?t.map(En):[En(t)],V1=(t,e,n)=>{const r=xa((...o)=>vd(e(...o)),n);return r._c=!1,r},Py=(t,e,n)=>{const r=t._ctx;for(const o in t){if(Iy(o))continue;const i=t[o];if(be(i))e[o]=V1(o,i,r);else if(i!=null){const s=vd(i);e[o]=()=>s}}},By=(t,e)=>{const n=vd(e);t.slots.default=()=>n},j1=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Fe(e),Ju(e,"_",n)):Py(e,t.slots={})}else t.slots={},e&&By(t,e);Ju(t.slots,oc,1)},q1=(t,e,n)=>{const{vnode:r,slots:o}=t;let i=!0,s=Je;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Ft(o,e),!n&&a===1&&delete o._):(i=!e.$stable,Py(e,o)),s=e}else e&&(By(t,e),s={default:1});if(i)for(const a in o)!Iy(a)&&!(a in s)&&delete o[a]};function U1(t,e){const n=zt;if(n===null)return t;const r=ic(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,u,l=Je]=e[i];be(s)&&(s={mounted:s,updated:s}),s.deep&&To(a),o.push({dir:s,instance:r,value:a,oldValue:void 0,arg:u,modifiers:l})}return t}function Yn(t,e,n,r){const o=t.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let u=a.dir[r];u&&(Uo(),kn(u,n,8,[t.el,a,t,e]),Wo())}}function Ly(){return{app:null,config:{isNativeTag:mS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let W1=0;function J1(t,e){return function(r,o=null){be(r)||(r=Object.assign({},r)),o!=null&&!lt(o)&&(o=null);const i=Ly(),s=new Set;let a=!1;const u=i.app={_uid:W1++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:mE,get config(){return i.config},set config(l){},use(l,...c){return s.has(l)||(l&&be(l.install)?(s.add(l),l.install(u,...c)):be(l)&&(s.add(l),l(u,...c))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,c){return c?(i.components[l]=c,u):i.components[l]},directive(l,c){return c?(i.directives[l]=c,u):i.directives[l]},mount(l,c,f){if(!a){const p=et(r,o);return p.appContext=i,c&&e?e(p,l):t(p,l,f),a=!0,u._container=l,l.__vue_app__=u,ic(p.component)||p.component.proxy}},unmount(){a&&(t(null,u._container),delete u._container.__vue_app__)},provide(l,c){return i.provides[l]=c,u}};return u}}function tl(t,e,n,r,o=!1){if(de(t)){t.forEach((p,d)=>tl(p,e&&(de(e)?e[d]:e),n,r,o));return}if(_i(r)&&!o)return;const i=r.shapeFlag&4?ic(r.component)||r.component.proxy:r.el,s=o?null:i,{i:a,r:u}=t,l=e&&e.r,c=a.refs===Je?a.refs={}:a.refs,f=a.setupState;if(l!=null&&l!==u&&(st(l)?(c[l]=null,Ie(f,l)&&(f[l]=null)):Le(l)&&(l.value=null)),be(u))wr(u,a,12,[s,c]);else{const p=st(u),d=Le(u);if(p||d){const h=()=>{if(t.f){const m=p?c[u]:u.value;o?de(m)&&Kp(m,i):de(m)?m.includes(i)||m.push(i):p?(c[u]=[i],Ie(f,u)&&(f[u]=c[u])):(u.value=[i],t.k&&(c[t.k]=u.value))}else p?(c[u]=s,Ie(f,u)&&(f[u]=s)):Le(u)&&(u.value=s,t.k&&(c[t.k]=s))};s?(h.id=-1,Ot(h,n)):h()}}}let Br=!1;const Ga=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",jc=t=>t.nodeType===8;function K1(t){const{mt:e,p:n,o:{patchProp:r,nextSibling:o,parentNode:i,remove:s,insert:a,createComment:u}}=t,l=(g,b)=>{if(!b.hasChildNodes()){n(null,g,b),Gu();return}Br=!1,c(b.firstChild,g,null,null,null),Gu(),Br&&console.error("Hydration completed but contains mismatches.")},c=(g,b,v,w,y,S=!1)=>{const A=jc(g)&&g.data==="[",k=()=>h(g,b,v,w,y,A),{type:x,ref:_,shapeFlag:N}=b,z=g.nodeType;b.el=g;let M=null;switch(x){case na:z!==3?M=k():(g.data!==b.children&&(Br=!0,g.data=b.children),M=o(g));break;case Yt:z!==8||A?M=k():M=o(g);break;case Ns:if(z!==1)M=k();else{M=g;const H=!b.children.length;for(let te=0;te<b.staticCount;te++)H&&(b.children+=M.outerHTML),te===b.staticCount-1&&(b.anchor=M),M=o(M);return M}break;case on:A?M=d(g,b,v,w,y,S):M=k();break;default:if(N&1)z!==1||b.type.toLowerCase()!==g.tagName.toLowerCase()?M=k():M=f(g,b,v,w,y,S);else if(N&6){b.slotScopeIds=y;const H=i(g);if(e(b,H,null,v,w,Ga(H),S),M=A?m(g):o(g),_i(b)){let te;A?(te=et(on),te.anchor=M?M.previousSibling:H.lastChild):te=g.nodeType===3?wd(""):et("div"),te.el=g,b.component.subTree=te}}else N&64?z!==8?M=k():M=b.type.hydrate(g,b,v,w,y,S,t,p):N&128&&(M=b.type.hydrate(g,b,v,w,Ga(i(g)),y,S,t,c))}return _!=null&&tl(_,null,w,b),M},f=(g,b,v,w,y,S)=>{S=S||!!b.dynamicChildren;const{type:A,props:k,patchFlag:x,shapeFlag:_,dirs:N}=b,z=A==="input"&&N||A==="option";if(z||x!==-1){if(N&&Yn(b,null,v,"created"),k)if(z||!S||x&48)for(const H in k)(z&&H.endsWith("value")||Da(H)&&!xs(H))&&r(g,H,null,k[H],!1,void 0,v);else k.onClick&&r(g,"onClick",null,k.onClick,!1,void 0,v);let M;if((M=k&&k.onVnodeBeforeMount)&&rn(M,v,b),N&&Yn(b,null,v,"beforeMount"),((M=k&&k.onVnodeMounted)||N)&&Ay(()=>{M&&rn(M,v,b),N&&Yn(b,null,v,"mounted")},w),_&16&&!(k&&(k.innerHTML||k.textContent))){let H=p(g.firstChild,b,g,v,w,y,S);for(;H;){Br=!0;const te=H;H=H.nextSibling,s(te)}}else _&8&&g.textContent!==b.children&&(Br=!0,g.textContent=b.children)}return g.nextSibling},p=(g,b,v,w,y,S,A)=>{A=A||!!b.dynamicChildren;const k=b.children,x=k.length;for(let _=0;_<x;_++){const N=A?k[_]:k[_]=En(k[_]);if(g)g=c(g,N,w,y,S,A);else{if(N.type===na&&!N.children)continue;Br=!0,n(null,N,v,null,w,y,Ga(v),S)}}return g},d=(g,b,v,w,y,S)=>{const{slotScopeIds:A}=b;A&&(y=y?y.concat(A):A);const k=i(g),x=p(o(g),b,k,v,w,y,S);return x&&jc(x)&&x.data==="]"?o(b.anchor=x):(Br=!0,a(b.anchor=u("]"),k,x),x)},h=(g,b,v,w,y,S)=>{if(Br=!0,b.el=null,S){const x=m(g);for(;;){const _=o(g);if(_&&_!==x)s(_);else break}}const A=o(g),k=i(g);return s(g),n(null,b,k,A,v,w,Ga(k),y),A},m=g=>{let b=0;for(;g;)if(g=o(g),g&&jc(g)&&(g.data==="["&&b++,g.data==="]")){if(b===0)return o(g);b--}return g};return[l,c]}const Ot=Ay;function Z1(t){return zy(t)}function G1(t){return zy(t,K1)}function zy(t,e){const n=wS();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:u,setText:l,setElementText:c,parentNode:f,nextSibling:p,setScopeId:d=Vn,cloneNode:h,insertStaticContent:m}=t,g=(C,E,D,B=null,L=null,U=null,Q=!1,V=null,W=!!E.dynamicChildren)=>{if(C===E)return;C&&!Xn(C,E)&&(B=ne(C),Ge(C,L,U,!0),C=null),E.patchFlag===-2&&(W=!1,E.dynamicChildren=null);const{type:$,ref:ae,shapeFlag:re}=E;switch($){case na:b(C,E,D,B);break;case Yt:v(C,E,D,B);break;case Ns:C==null&&w(E,D,B,Q);break;case on:H(C,E,D,B,L,U,Q,V,W);break;default:re&1?A(C,E,D,B,L,U,Q,V,W):re&6?te(C,E,D,B,L,U,Q,V,W):(re&64||re&128)&&$.process(C,E,D,B,L,U,Q,V,W,Oe)}ae!=null&&L&&tl(ae,C&&C.ref,U,E||C,!E)},b=(C,E,D,B)=>{if(C==null)r(E.el=a(E.children),D,B);else{const L=E.el=C.el;E.children!==C.children&&l(L,E.children)}},v=(C,E,D,B)=>{C==null?r(E.el=u(E.children||""),D,B):E.el=C.el},w=(C,E,D,B)=>{[C.el,C.anchor]=m(C.children,E,D,B,C.el,C.anchor)},y=({el:C,anchor:E},D,B)=>{let L;for(;C&&C!==E;)L=p(C),r(C,D,B),C=L;r(E,D,B)},S=({el:C,anchor:E})=>{let D;for(;C&&C!==E;)D=p(C),o(C),C=D;o(E)},A=(C,E,D,B,L,U,Q,V,W)=>{Q=Q||E.type==="svg",C==null?k(E,D,B,L,U,Q,V,W):N(C,E,L,U,Q,V,W)},k=(C,E,D,B,L,U,Q,V)=>{let W,$;const{type:ae,props:re,shapeFlag:fe,transition:ye,patchFlag:xe,dirs:$e}=C;if(C.el&&h!==void 0&&xe===-1)W=C.el=h(C.el);else{if(W=C.el=s(C.type,U,re&&re.is,re),fe&8?c(W,C.children):fe&16&&_(C.children,W,null,B,L,U&&ae!=="foreignObject",Q,V),$e&&Yn(C,null,B,"created"),re){for(const qe in re)qe!=="value"&&!xs(qe)&&i(W,qe,null,re[qe],U,C.children,B,L,J);"value"in re&&i(W,"value",null,re.value),($=re.onVnodeBeforeMount)&&rn($,B,C)}x(W,C,C.scopeId,Q,B)}$e&&Yn(C,null,B,"beforeMount");const He=(!L||L&&!L.pendingBranch)&&ye&&!ye.persisted;He&&ye.beforeEnter(W),r(W,E,D),(($=re&&re.onVnodeMounted)||He||$e)&&Ot(()=>{$&&rn($,B,C),He&&ye.enter(W),$e&&Yn(C,null,B,"mounted")},L)},x=(C,E,D,B,L)=>{if(D&&d(C,D),B)for(let U=0;U<B.length;U++)d(C,B[U]);if(L){let U=L.subTree;if(E===U){const Q=L.vnode;x(C,Q,Q.scopeId,Q.slotScopeIds,L.parent)}}},_=(C,E,D,B,L,U,Q,V,W=0)=>{for(let $=W;$<C.length;$++){const ae=C[$]=V?Wr(C[$]):En(C[$]);g(null,ae,E,D,B,L,U,Q,V)}},N=(C,E,D,B,L,U,Q)=>{const V=E.el=C.el;let{patchFlag:W,dynamicChildren:$,dirs:ae}=E;W|=C.patchFlag&16;const re=C.props||Je,fe=E.props||Je;let ye;D&&Co(D,!1),(ye=fe.onVnodeBeforeUpdate)&&rn(ye,D,E,C),ae&&Yn(E,C,D,"beforeUpdate"),D&&Co(D,!0);const xe=L&&E.type!=="foreignObject";if($?z(C.dynamicChildren,$,V,D,B,xe,U):Q||we(C,E,V,null,D,B,xe,U,!1),W>0){if(W&16)M(V,E,re,fe,D,B,L);else if(W&2&&re.class!==fe.class&&i(V,"class",null,fe.class,L),W&4&&i(V,"style",re.style,fe.style,L),W&8){const $e=E.dynamicProps;for(let He=0;He<$e.length;He++){const qe=$e[He],fn=re[qe],Ir=fe[qe];(Ir!==fn||qe==="value")&&i(V,qe,fn,Ir,L,C.children,D,B,J)}}W&1&&C.children!==E.children&&c(V,E.children)}else!Q&&$==null&&M(V,E,re,fe,D,B,L);((ye=fe.onVnodeUpdated)||ae)&&Ot(()=>{ye&&rn(ye,D,E,C),ae&&Yn(E,C,D,"updated")},B)},z=(C,E,D,B,L,U,Q)=>{for(let V=0;V<E.length;V++){const W=C[V],$=E[V],ae=W.el&&(W.type===on||!Xn(W,$)||W.shapeFlag&70)?f(W.el):D;g(W,$,ae,null,B,L,U,Q,!0)}},M=(C,E,D,B,L,U,Q)=>{if(D!==B){for(const V in B){if(xs(V))continue;const W=B[V],$=D[V];W!==$&&V!=="value"&&i(C,V,$,W,Q,E.children,L,U,J)}if(D!==Je)for(const V in D)!xs(V)&&!(V in B)&&i(C,V,D[V],null,Q,E.children,L,U,J);"value"in B&&i(C,"value",D.value,B.value)}},H=(C,E,D,B,L,U,Q,V,W)=>{const $=E.el=C?C.el:a(""),ae=E.anchor=C?C.anchor:a("");let{patchFlag:re,dynamicChildren:fe,slotScopeIds:ye}=E;ye&&(V=V?V.concat(ye):ye),C==null?(r($,D,B),r(ae,D,B),_(E.children,D,ae,L,U,Q,V,W)):re>0&&re&64&&fe&&C.dynamicChildren?(z(C.dynamicChildren,fe,D,L,U,Q,V),(E.key!=null||L&&E===L.subTree)&&gd(C,E,!0)):we(C,E,D,ae,L,U,Q,V,W)},te=(C,E,D,B,L,U,Q,V,W)=>{E.slotScopeIds=V,C==null?E.shapeFlag&512?L.ctx.activate(E,D,B,Q,W):ee(E,D,B,L,U,Q,W):Y(C,E,W)},ee=(C,E,D,B,L,U,Q)=>{const V=C.component=aE(C,B,L);if(Oa(C)&&(V.ctx.renderer=Oe),uE(V),V.asyncDep){if(L&&L.registerDep(V,pe),!C.el){const W=V.subTree=et(Yt);v(null,W,E,D)}return}pe(V,C,E,D,L,U,Q)},Y=(C,E,D)=>{const B=E.component=C.component;if(m1(C,E,D))if(B.asyncDep&&!B.asyncResolved){oe(B,E,D);return}else B.next=E,l1(B.update),B.update();else E.component=C.component,E.el=C.el,B.vnode=E},pe=(C,E,D,B,L,U,Q)=>{const V=()=>{if(C.isMounted){let{next:ae,bu:re,u:fe,parent:ye,vnode:xe}=C,$e=ae,He;Co(C,!1),ae?(ae.el=xe.el,oe(C,ae,Q)):ae=xe,re&&Si(re),(He=ae.props&&ae.props.onVnodeBeforeUpdate)&&rn(He,ye,ae,xe),Co(C,!0);const qe=Lc(C),fn=C.subTree;C.subTree=qe,g(fn,qe,f(fn.el),ne(fn),C,L,U),ae.el=qe.el,$e===null&&pd(C,qe.el),fe&&Ot(fe,L),(He=ae.props&&ae.props.onVnodeUpdated)&&Ot(()=>rn(He,ye,ae,xe),L)}else{let ae;const{el:re,props:fe}=E,{bm:ye,m:xe,parent:$e}=C,He=_i(E);if(Co(C,!1),ye&&Si(ye),!He&&(ae=fe&&fe.onVnodeBeforeMount)&&rn(ae,$e,E),Co(C,!0),re&&R){const qe=()=>{C.subTree=Lc(C),R(re,C.subTree,C,L,null)};He?E.type.__asyncLoader().then(()=>!C.isUnmounted&&qe()):qe()}else{const qe=C.subTree=Lc(C);g(null,qe,D,B,C,L,U),E.el=qe.el}if(xe&&Ot(xe,L),!He&&(ae=fe&&fe.onVnodeMounted)){const qe=E;Ot(()=>rn(ae,$e,qe),L)}E.shapeFlag&256&&C.a&&Ot(C.a,L),C.isMounted=!0,E=D=B=null}},W=C.effect=new Xp(V,()=>ud(C.update),C.scope),$=C.update=W.run.bind(W);$.id=C.uid,Co(C,!0),$()},oe=(C,E,D)=>{E.component=C;const B=C.vnode.props;C.vnode=E,C.next=null,H1(C,E.props,B,D),q1(C,E.children,D),Uo(),ld(void 0,C.update),Wo()},we=(C,E,D,B,L,U,Q,V,W=!1)=>{const $=C&&C.children,ae=C?C.shapeFlag:0,re=E.children,{patchFlag:fe,shapeFlag:ye}=E;if(fe>0){if(fe&128){ge($,re,D,B,L,U,Q,V,W);return}else if(fe&256){q($,re,D,B,L,U,Q,V,W);return}}ye&8?(ae&16&&J($,L,U),re!==$&&c(D,re)):ae&16?ye&16?ge($,re,D,B,L,U,Q,V,W):J($,L,U,!0):(ae&8&&c(D,""),ye&16&&_(re,D,B,L,U,Q,V,W))},q=(C,E,D,B,L,U,Q,V,W)=>{C=C||Ci,E=E||Ci;const $=C.length,ae=E.length,re=Math.min($,ae);let fe;for(fe=0;fe<re;fe++){const ye=E[fe]=W?Wr(E[fe]):En(E[fe]);g(C[fe],ye,D,null,L,U,Q,V,W)}$>ae?J(C,L,U,!0,!1,re):_(E,D,B,L,U,Q,V,W,re)},ge=(C,E,D,B,L,U,Q,V,W)=>{let $=0;const ae=E.length;let re=C.length-1,fe=ae-1;for(;$<=re&&$<=fe;){const ye=C[$],xe=E[$]=W?Wr(E[$]):En(E[$]);if(Xn(ye,xe))g(ye,xe,D,null,L,U,Q,V,W);else break;$++}for(;$<=re&&$<=fe;){const ye=C[re],xe=E[fe]=W?Wr(E[fe]):En(E[fe]);if(Xn(ye,xe))g(ye,xe,D,null,L,U,Q,V,W);else break;re--,fe--}if($>re){if($<=fe){const ye=fe+1,xe=ye<ae?E[ye].el:B;for(;$<=fe;)g(null,E[$]=W?Wr(E[$]):En(E[$]),D,xe,L,U,Q,V,W),$++}}else if($>fe)for(;$<=re;)Ge(C[$],L,U,!0),$++;else{const ye=$,xe=$,$e=new Map;for($=xe;$<=fe;$++){const ue=E[$]=W?Wr(E[$]):En(E[$]);ue.key!=null&&$e.set(ue.key,$)}let He,qe=0;const fn=fe-xe+1;let Ir=!1,Ha=0;const F=new Array(fn);for($=0;$<fn;$++)F[$]=0;for($=ye;$<=re;$++){const ue=C[$];if(qe>=fn){Ge(ue,L,U,!0);continue}let Ae;if(ue.key!=null)Ae=$e.get(ue.key);else for(He=xe;He<=fe;He++)if(F[He-xe]===0&&Xn(ue,E[He])){Ae=He;break}Ae===void 0?Ge(ue,L,U,!0):(F[Ae-xe]=$+1,Ae>=Ha?Ha=Ae:Ir=!0,g(ue,E[Ae],D,null,L,U,Q,V,W),qe++)}const se=Ir?Y1(F):Ci;for(He=se.length-1,$=fn-1;$>=0;$--){const ue=xe+$,Ae=E[ue],Me=ue+1<ae?E[ue+1].el:B;F[$]===0?g(null,Ae,D,Me,L,U,Q,V,W):Ir&&(He<0||$!==se[He]?De(Ae,D,Me,2):He--)}}},De=(C,E,D,B,L=null)=>{const{el:U,type:Q,transition:V,children:W,shapeFlag:$}=C;if($&6){De(C.component.subTree,E,D,B);return}if($&128){C.suspense.move(E,D,B);return}if($&64){Q.move(C,E,D,Oe);return}if(Q===on){r(U,E,D);for(let re=0;re<W.length;re++)De(W[re],E,D,B);r(C.anchor,E,D);return}if(Q===Ns){y(C,E,D);return}if(B!==2&&$&1&&V)if(B===0)V.beforeEnter(U),r(U,E,D),Ot(()=>V.enter(U),L);else{const{leave:re,delayLeave:fe,afterLeave:ye}=V,xe=()=>r(U,E,D),$e=()=>{re(U,()=>{xe(),ye&&ye()})};fe?fe(U,xe,$e):$e()}else r(U,E,D)},Ge=(C,E,D,B=!1,L=!1)=>{const{type:U,props:Q,ref:V,children:W,dynamicChildren:$,shapeFlag:ae,patchFlag:re,dirs:fe}=C;if(V!=null&&tl(V,null,D,C,!0),ae&256){E.ctx.deactivate(C);return}const ye=ae&1&&fe,xe=!_i(C);let $e;if(xe&&($e=Q&&Q.onVnodeBeforeUnmount)&&rn($e,E,C),ae&6)X(C.component,D,B);else{if(ae&128){C.suspense.unmount(D,B);return}ye&&Yn(C,null,E,"beforeUnmount"),ae&64?C.type.remove(C,E,D,L,Oe,B):$&&(U!==on||re>0&&re&64)?J($,E,D,!1,!0):(U===on&&re&384||!L&&ae&16)&&J(W,E,D),B&&pt(C)}(xe&&($e=Q&&Q.onVnodeUnmounted)||ye)&&Ot(()=>{$e&&rn($e,E,C),ye&&Yn(C,null,E,"unmounted")},D)},pt=C=>{const{type:E,el:D,anchor:B,transition:L}=C;if(E===on){P(D,B);return}if(E===Ns){S(C);return}const U=()=>{o(D),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(C.shapeFlag&1&&L&&!L.persisted){const{leave:Q,delayLeave:V}=L,W=()=>Q(D,U);V?V(C.el,U,W):W()}else U()},P=(C,E)=>{let D;for(;C!==E;)D=p(C),o(C),C=D;o(E)},X=(C,E,D)=>{const{bum:B,scope:L,update:U,subTree:Q,um:V}=C;B&&Si(B),L.stop(),U&&(U.active=!1,Ge(Q,C,E,D)),V&&Ot(V,E),Ot(()=>{C.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},J=(C,E,D,B=!1,L=!1,U=0)=>{for(let Q=U;Q<C.length;Q++)Ge(C[Q],E,D,B,L)},ne=C=>C.shapeFlag&6?ne(C.component.subTree):C.shapeFlag&128?C.suspense.next():p(C.anchor||C.el),Te=(C,E,D)=>{C==null?E._vnode&&Ge(E._vnode,null,null,!0):g(E._vnode||null,C,E,null,null,null,D),Gu(),E._vnode=C},Oe={p:g,um:Ge,m:De,r:pt,mt:ee,mc:_,pc:we,pbc:z,n:ne,o:t};let T,R;return e&&([T,R]=e(Oe)),{render:Te,hydrate:T,createApp:J1(Te,T)}}function Co({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function gd(t,e,n=!1){const r=t.children,o=e.children;if(de(r)&&de(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Wr(o[i]),a.el=s.el),n||gd(s,a))}}function Y1(t){const e=t.slice(),n=[0];let r,o,i,s,a;const u=t.length;for(r=0;r<u;r++){const l=t[r];if(l!==0){if(o=n[n.length-1],t[o]<l){e[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<l?i=a+1:s=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}const Q1=t=>t.__isTeleport,Ms=t=>t&&(t.disabled||t.disabled===""),sm=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,Jf=(t,e)=>{const n=t&&t.to;return st(n)?e?e(n):null:n},X1={__isTeleport:!0,process(t,e,n,r,o,i,s,a,u,l){const{mc:c,pc:f,pbc:p,o:{insert:d,querySelector:h,createText:m,createComment:g}}=l,b=Ms(e.props);let{shapeFlag:v,children:w,dynamicChildren:y}=e;if(t==null){const S=e.el=m(""),A=e.anchor=m("");d(S,n,r),d(A,n,r);const k=e.target=Jf(e.props,h),x=e.targetAnchor=m("");k&&(d(x,k),s=s||sm(k));const _=(N,z)=>{v&16&&c(w,N,z,o,i,s,a,u)};b?_(n,A):k&&_(k,x)}else{e.el=t.el;const S=e.anchor=t.anchor,A=e.target=t.target,k=e.targetAnchor=t.targetAnchor,x=Ms(t.props),_=x?n:A,N=x?S:k;if(s=s||sm(A),y?(p(t.dynamicChildren,y,_,o,i,s,a),gd(t,e,!0)):u||f(t,e,_,N,o,i,s,a,!1),b)x||Ya(e,n,S,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const z=e.target=Jf(e.props,h);z&&Ya(e,z,null,l,0)}else x&&Ya(e,A,k,l,1)}},remove(t,e,n,r,{um:o,o:{remove:i}},s){const{shapeFlag:a,children:u,anchor:l,targetAnchor:c,target:f,props:p}=t;if(f&&i(c),(s||!Ms(p))&&(i(l),a&16))for(let d=0;d<u.length;d++){const h=u[d];o(h,e,n,!0,!!h.dynamicChildren)}},move:Ya,hydrate:eE};function Ya(t,e,n,{o:{insert:r},m:o},i=2){i===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:u,children:l,props:c}=t,f=i===2;if(f&&r(s,e,n),(!f||Ms(c))&&u&16)for(let p=0;p<l.length;p++)o(l[p],e,n,2);f&&r(a,e,n)}function eE(t,e,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:u}},l){const c=e.target=Jf(e.props,u);if(c){const f=c._lpa||c.firstChild;e.shapeFlag&16&&(Ms(e.props)?(e.anchor=l(s(t),e,a(t),n,r,o,i),e.targetAnchor=f):(e.anchor=s(t),e.targetAnchor=l(f,e,c,n,r,o,i)),c._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}const tE=X1,yd="components";function bd(t,e){return Hy(yd,t,!0,e)||t}const $y=Symbol();function Cd(t){return st(t)?Hy(yd,t,!1)||t:t||$y}function Hy(t,e,n=!0,r=!1){const o=zt||Ct;if(o){const i=o.type;if(t===yd){const a=rl(i);if(a&&(a===e||a===or(e)||a===Ql(or(e))))return i}const s=am(o[t]||i[t],e)||am(o.appContext[t],e);return!s&&r?i:s}}function am(t,e){return t&&(t[e]||t[or(e)]||t[Ql(or(e))])}const on=Symbol(void 0),na=Symbol(void 0),Yt=Symbol(void 0),Ns=Symbol(void 0),Fs=[];let eo=null;function xn(t=!1){Fs.push(eo=t?null:[])}function Vy(){Fs.pop(),eo=Fs[Fs.length-1]||null}let ra=1;function um(t){ra+=t}function jy(t){return t.dynamicChildren=ra>0?eo||Ci:null,Vy(),ra>0&&eo&&eo.push(t),t}function rc(t,e,n,r,o,i){return jy(wt(t,e,n,r,o,i,!0))}function to(t,e,n,r,o){return jy(et(t,e,n,r,o,!0))}function Ti(t){return t?t.__v_isVNode===!0:!1}function Xn(t,e){return t.type===e.type&&t.key===e.key}const oc="__vInternal",qy=({key:t})=>t!=null?t:null,$u=({ref:t,ref_key:e,ref_for:n})=>t!=null?st(t)||Le(t)||be(t)?{i:zt,r:t,k:e,f:!!n}:t:null;function wt(t,e=null,n=null,r=0,o=null,i=t===on?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qy(e),ref:e&&$u(e),scopeId:tc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(Sd(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=st(n)?8:16),ra>0&&!s&&eo&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&eo.push(u),u}const et=nE;function nE(t,e=null,n=null,r=0,o=null,i=!1){if((!t||t===$y)&&(t=Yt),Ti(t)){const a=io(t,e,!0);return n&&Sd(a,n),a}if(hE(t)&&(t=t.__vccOpts),e){e=Uy(e);let{class:a,style:u}=e;a&&!st(a)&&(e.class=Aa(a)),lt(u)&&(py(u)&&!de(u)&&(u=Ft({},u)),e.style=xi(u))}const s=st(t)?1:v1(t)?128:Q1(t)?64:lt(t)?4:be(t)?2:0;return wt(t,e,n,r,o,s,i,!0)}function Uy(t){return t?py(t)||oc in t?Ft({},t):t:null}function io(t,e,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=t,a=e?rE(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&qy(a),ref:e&&e.ref?n&&o?de(o)?o.concat($u(e)):[o,$u(e)]:$u(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==on?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&io(t.ssContent),ssFallback:t.ssFallback&&io(t.ssFallback),el:t.el,anchor:t.anchor}}function wd(t=" ",e=0){return et(na,null,t,e)}function pz(t,e){const n=et(Ns,null,t);return n.staticCount=e,n}function dz(t="",e=!1){return e?(xn(),to(Yt,null,t)):et(Yt,null,t)}function En(t){return t==null||typeof t=="boolean"?et(Yt):de(t)?et(on,null,t.slice()):typeof t=="object"?Wr(t):et(na,null,String(t))}function Wr(t){return t.el===null||t.memo?t:io(t)}function Sd(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(de(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),Sd(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(oc in e)?e._ctx=zt:o===3&&zt&&(zt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:zt},n=32):(e=String(e),r&64?(n=16,e=[wd(e)]):n=8);t.children=e,t.shapeFlag|=n}function rE(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Aa([e.class,r.class]));else if(o==="style")e.style=xi([e.style,r.style]);else if(Da(o)){const i=e[o],s=r[o];s&&i!==s&&!(de(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function rn(t,e,n,r=null){kn(t,e,7,[n,r])}function hz(t,e,n,r){let o;const i=n&&n[r];if(de(t)||st(t)){o=new Array(t.length);for(let s=0,a=t.length;s<a;s++)o[s]=e(t[s],s,void 0,i&&i[s])}else if(typeof t=="number"){o=new Array(t);for(let s=0;s<t;s++)o[s]=e(s+1,s,void 0,i&&i[s])}else if(lt(t))if(t[Symbol.iterator])o=Array.from(t,(s,a)=>e(s,a,void 0,i&&i[a]));else{const s=Object.keys(t);o=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const l=s[a];o[a]=e(t[l],l,a,i&&i[a])}}else o=[];return n&&(n[r]=o),o}function mz(t,e,n={},r,o){if(zt.isCE||zt.parent&&_i(zt.parent)&&zt.parent.isCE)return et("slot",e==="default"?null:{name:e},r&&r());let i=t[e];i&&i._c&&(i._d=!1),xn();const s=i&&Wy(i(n)),a=to(on,{key:n.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Wy(t){return t.some(e=>Ti(e)?!(e.type===Yt||e.type===on&&!Wy(e.children)):!0)?t:null}const Kf=t=>t?Jy(t)?ic(t)||t.proxy:Kf(t.parent):null,nl=Ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kf(t.parent),$root:t=>Kf(t.root),$emit:t=>t.emit,$options:t=>Ny(t),$forceUpdate:t=>()=>ud(t.update),$nextTick:t=>tr.bind(t.proxy),$watch:t=>S1.bind(t)}),oE={get({_:t},e){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:u}=t;let l;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return i[e]}else{if(r!==Je&&Ie(r,e))return s[e]=1,r[e];if(o!==Je&&Ie(o,e))return s[e]=2,o[e];if((l=t.propsOptions[0])&&Ie(l,e))return s[e]=3,i[e];if(n!==Je&&Ie(n,e))return s[e]=4,n[e];qf&&(s[e]=0)}}const c=nl[e];let f,p;if(c)return e==="$attrs"&&dn(t,"get",e),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Je&&Ie(n,e))return s[e]=4,n[e];if(p=u.config.globalProperties,Ie(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:i}=t;return o!==Je&&Ie(o,e)?(o[e]=n,!0):r!==Je&&Ie(r,e)?(r[e]=n,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!n[s]||t!==Je&&Ie(t,s)||e!==Je&&Ie(e,s)||(a=i[0])&&Ie(a,s)||Ie(r,s)||Ie(nl,s)||Ie(o.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},iE=Ly();let sE=0;function aE(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||iE,i={uid:sE++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ry(r,o),emitsOptions:Sy(r,o),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:r.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=f1.bind(null,i),t.ce&&t.ce(i),i}let Ct=null;const cr=()=>Ct||zt,so=t=>{Ct=t,t.scope.on()},no=()=>{Ct&&Ct.scope.off(),Ct=null};function Jy(t){return t.vnode.shapeFlag&4}let Mi=!1;function uE(t,e=!1){Mi=e;const{props:n,children:r}=t.vnode,o=Jy(t);$1(t,n,o,e),j1(t,r);const i=o?lE(t,e):void 0;return Mi=!1,i}function lE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ir(new Proxy(t.ctx,oE));const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?fE(t):null;so(t),Uo();const i=wr(r,t,0,[t.props,o]);if(Wo(),no(),Gp(i)){if(i.then(no,no),e)return i.then(s=>{Zf(t,s,e)}).catch(s=>{Yi(s,t,0)});t.asyncDep=i}else Zf(t,i,e)}else Ky(t,e)}function Zf(t,e,n){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lt(e)&&(t.setupState=hy(e)),Ky(t,n)}let lm;function Ky(t,e,n){const r=t.type;if(!t.render){if(!e&&lm&&!r.render){const o=r.template;if(o){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:u}=r,l=Ft(Ft({isCustomElement:i,delimiters:a},s),u);r.render=lm(o,l)}}t.render=r.render||Vn}so(t),Uo(),I1(t),Wo(),no()}function cE(t){return new Proxy(t.attrs,{get(e,n){return dn(t,"get","$attrs"),e[n]}})}function fE(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=cE(t))},slots:t.slots,emit:t.emit,expose:e}}function ic(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(hy(ir(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in nl)return nl[n](t)}}))}const pE=/(?:^|[-_])(\w)/g,dE=t=>t.replace(pE,e=>e.toUpperCase()).replace(/[-_]/g,"");function rl(t){return be(t)&&t.displayName||t.name}function Zy(t,e,n=!1){let r=rl(e);if(!r&&e.__file){const o=e.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&t&&t.parent){const o=i=>{for(const s in i)if(i[s]===e)return s};r=o(t.components||t.parent.type.components)||o(t.appContext.components)}return r?dE(r):n?"App":"Anonymous"}function hE(t){return be(t)&&"__vccOpts"in t}const ke=(t,e)=>n1(t,e,Mi);function vz(t){const e=cr();let n=t();return no(),Gp(n)&&(n=n.catch(r=>{throw so(e),r})),[n,()=>so(e)]}function it(t,e,n){const r=arguments.length;return r===2?lt(e)&&!de(e)?Ti(e)?et(t,null,[e]):et(t,e):et(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ti(n)&&(n=[n]),et(t,e,n))}const mE="3.2.33",vE="http://www.w3.org/2000/svg",Do=typeof document!="undefined"?document:null,cm=Do&&Do.createElement("template"),gE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e?Do.createElementNS(vE,t):Do.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>Do.createTextNode(t),createComment:t=>Do.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Do.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,o,i){const s=n?n.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{cm.innerHTML=r?`<svg>${t}</svg>`:t;const a=cm.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function yE(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function bE(t,e,n){const r=t.style,o=st(n);if(n&&!o){for(const i in n)Gf(r,i,n[i]);if(e&&!st(e))for(const i in e)n[i]==null&&Gf(r,i,"")}else{const i=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const fm=/\s*!important$/;function Gf(t,e,n){if(de(n))n.forEach(r=>Gf(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=CE(t,e);fm.test(n)?t.setProperty(qo(r),n.replace(fm,""),"important"):t[r]=n}}const pm=["Webkit","Moz","ms"],qc={};function CE(t,e){const n=qc[e];if(n)return n;let r=or(e);if(r!=="filter"&&r in t)return qc[e]=r;r=Ql(r);for(let o=0;o<pm.length;o++){const i=pm[o]+r;if(i in t)return qc[e]=i}return e}const dm="http://www.w3.org/1999/xlink";function wE(t,e,n,r,o){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(dm,e.slice(6,e.length)):t.setAttributeNS(dm,e,n);else{const i=lS(e);n==null||i&&!Zg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function SE(t,e,n,r,o,i,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,o,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const u=n==null?"":n;(t.value!==u||t.tagName==="OPTION")&&(t.value=u),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Zg(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[Gy,EE]=(()=>{let t=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let Yf=0;const AE=Promise.resolve(),kE=()=>{Yf=0},DE=()=>Yf||(AE.then(kE),Yf=Gy());function Yr(t,e,n,r){t.addEventListener(e,n,r)}function xE(t,e,n,r){t.removeEventListener(e,n,r)}function OE(t,e,n,r,o=null){const i=t._vei||(t._vei={}),s=i[e];if(r&&s)s.value=r;else{const[a,u]=_E(e);if(r){const l=i[e]=TE(r,o);Yr(t,a,l,u)}else s&&(xE(t,a,s,u),i[e]=void 0)}}const hm=/(?:Once|Passive|Capture)$/;function _E(t){let e;if(hm.test(t)){e={};let n;for(;n=t.match(hm);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[qo(t.slice(2)),e]}function TE(t,e){const n=r=>{const o=r.timeStamp||Gy();(EE||o>=n.attached-1)&&kn(ME(r,n.value),e,5,[r])};return n.value=t,n.attached=DE(),n}function ME(t,e){if(de(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const mm=/^on[a-z]/,NE=(t,e,n,r,o=!1,i,s,a,u)=>{e==="class"?yE(t,r,o):e==="style"?bE(t,n,r):Da(e)?Jp(e)||OE(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):FE(t,e,r,o))?SE(t,e,r,i,s,a,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),wE(t,e,r,o))};function FE(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&mm.test(e)&&be(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||mm.test(e)&&st(n)?!1:e in t}const Lr="transition",cs="animation",sc=(t,{slots:e})=>it(Dy,RE(t),e);sc.displayName="Transition";const Yy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};sc.props=Ft({},Dy.props,Yy);const wo=(t,e=[])=>{de(t)?t.forEach(n=>n(...e)):t&&t(...e)},vm=t=>t?de(t)?t.some(e=>e.length>1):t.length>1:!1;function RE(t){const e={};for(const M in t)M in Yy||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:l=s,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,h=IE(o),m=h&&h[0],g=h&&h[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:w,onLeave:y,onLeaveCancelled:S,onBeforeAppear:A=b,onAppear:k=v,onAppearCancelled:x=w}=e,_=(M,H,te)=>{oi(M,H?c:a),oi(M,H?l:s),te&&te()},N=(M,H)=>{oi(M,d),oi(M,p),H&&H()},z=M=>(H,te)=>{const ee=M?k:v,Y=()=>_(H,M,te);wo(ee,[H,Y]),gm(()=>{oi(H,M?u:i),zr(H,M?c:a),vm(ee)||ym(H,r,m,Y)})};return Ft(e,{onBeforeEnter(M){wo(b,[M]),zr(M,i),zr(M,s)},onBeforeAppear(M){wo(A,[M]),zr(M,u),zr(M,l)},onEnter:z(!1),onAppear:z(!0),onLeave(M,H){const te=()=>N(M,H);zr(M,f),LE(),zr(M,p),gm(()=>{oi(M,f),zr(M,d),vm(y)||ym(M,r,g,te)}),wo(y,[M,te])},onEnterCancelled(M){_(M,!1),wo(w,[M])},onAppearCancelled(M){_(M,!0),wo(x,[M])},onLeaveCancelled(M){N(M),wo(S,[M])}})}function IE(t){if(t==null)return null;if(lt(t))return[Uc(t.enter),Uc(t.leave)];{const e=Uc(t);return[e,e]}}function Uc(t){return Oi(t)}function zr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function oi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function gm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let PE=0;function ym(t,e,n,r){const o=t._endId=++PE,i=()=>{o===t._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:u}=BE(t,e);if(!s)return r();const l=s+"end";let c=0;const f=()=>{t.removeEventListener(l,p),i()},p=d=>{d.target===t&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},a+1),t.addEventListener(l,p)}function BE(t,e){const n=window.getComputedStyle(t),r=h=>(n[h]||"").split(", "),o=r(Lr+"Delay"),i=r(Lr+"Duration"),s=bm(o,i),a=r(cs+"Delay"),u=r(cs+"Duration"),l=bm(a,u);let c=null,f=0,p=0;e===Lr?s>0&&(c=Lr,f=s,p=i.length):e===cs?l>0&&(c=cs,f=l,p=u.length):(f=Math.max(s,l),c=f>0?s>l?Lr:cs:null,p=c?c===Lr?i.length:u.length:0);const d=c===Lr&&/\b(transform|all)(,|$)/.test(n[Lr+"Property"]);return{type:c,timeout:f,propCount:p,hasTransform:d}}function bm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Cm(n)+Cm(t[r])))}function Cm(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function LE(){return document.body.offsetHeight}const Ni=t=>{const e=t.props["onUpdate:modelValue"];return de(e)?n=>Si(e,n):e};function zE(t){t.target.composing=!0}function wm(t){const e=t.target;e.composing&&(e.composing=!1,$E(e,"input"))}function $E(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const gz={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t._assign=Ni(o);const i=r||o.props&&o.props.type==="number";Yr(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n?a=a.trim():i&&(a=Oi(a)),t._assign(a)}),n&&Yr(t,"change",()=>{t.value=t.value.trim()}),e||(Yr(t,"compositionstart",zE),Yr(t,"compositionend",wm),Yr(t,"change",wm))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:o}},i){if(t._assign=Ni(i),t.composing||document.activeElement===t&&(n||r&&t.value.trim()===e||(o||t.type==="number")&&Oi(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},yz={deep:!0,created(t,e,n){t._assign=Ni(n),Yr(t,"change",()=>{const r=t._modelValue,o=oa(t),i=t.checked,s=t._assign;if(de(r)){const a=Wp(r,o),u=a!==-1;if(i&&!u)s(r.concat(o));else if(!i&&u){const l=[...r];l.splice(a,1),s(l)}}else if(Gi(r)){const a=new Set(r);i?a.add(o):a.delete(o),s(a)}else s(Qy(t,i))})},mounted:Sm,beforeUpdate(t,e,n){t._assign=Ni(n),Sm(t,e,n)}};function Sm(t,{value:e,oldValue:n},r){t._modelValue=e,de(e)?t.checked=Wp(e,r.props.value)>-1:Gi(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=ka(e,Qy(t,!0)))}const bz={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const o=Gi(e);Yr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?Oi(oa(s)):oa(s));t._assign(t.multiple?o?new Set(i):i:i[0])}),t._assign=Ni(r)},mounted(t,{value:e}){Em(t,e)},beforeUpdate(t,e,n){t._assign=Ni(n)},updated(t,{value:e}){Em(t,e)}};function Em(t,e){const n=t.multiple;if(!(n&&!de(e)&&!Gi(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],s=oa(i);if(n)de(e)?i.selected=Wp(e,s)>-1:i.selected=e.has(s);else if(ka(oa(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function oa(t){return"_value"in t?t._value:t.value}function Qy(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const HE=["ctrl","shift","alt","meta"],VE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>HE.some(n=>t[`${n}Key`]&&!e.includes(n))},jE=(t,e)=>(n,...r)=>{for(let o=0;o<e.length;o++){const i=VE[e[o]];if(i&&i(n,e))return}return t(n,...r)},qE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cz=(t,e)=>n=>{if(!("key"in n))return;const r=qo(n.key);if(e.some(o=>o===r||qE[o]===r))return t(n)},UE={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):fs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),fs(t,!0),r.enter(t)):r.leave(t,()=>{fs(t,!1)}):fs(t,e))},beforeUnmount(t,{value:e}){fs(t,e)}};function fs(t,e){t.style.display=e?t._vod:"none"}const Xy=Ft({patchProp:NE},gE);let Rs,Am=!1;function WE(){return Rs||(Rs=Z1(Xy))}function JE(){return Rs=Am?Rs:G1(Xy),Am=!0,Rs}const KE=(...t)=>{const e=WE().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=e0(r);if(!o)return;const i=e._component;!be(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e},ZE=(...t)=>{const e=JE().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=e0(r);if(o)return n(o,!0,o instanceof SVGElement)},e};function e0(t){return st(t)?document.querySelector(t):t}const GE=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,YE=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,QE=/^["{[]|^-?[0-9][0-9.]{0,14}$/;function XE(t,e){if(!(t==="__proto__"||t==="constructor"))return e}function eA(t){if(typeof t!="string")return t;const e=t.toLowerCase();if(e==="true")return!0;if(e==="false")return!1;if(e==="null")return null;if(e==="nan")return NaN;if(e==="infinity")return 1/0;if(e!=="undefined"){if(!QE.test(t))return t;try{return GE.test(t)||YE.test(t)?JSON.parse(t,XE):JSON.parse(t)}catch{return t}}}const tA=/#/g,nA=/&/g,rA=/=/g,t0=/\+/g,oA=/%5B/gi,iA=/%5D/gi,sA=/%5E/gi,aA=/%60/gi,uA=/%7B/gi,lA=/%7C/gi,cA=/%7D/gi,fA=/%20/gi;function pA(t){return encodeURI(""+t).replace(lA,"|").replace(oA,"[").replace(iA,"]")}function Qf(t){return pA(t).replace(t0,"%2B").replace(fA,"+").replace(tA,"%23").replace(nA,"%26").replace(aA,"`").replace(uA,"{").replace(cA,"}").replace(sA,"^")}function Wc(t){return Qf(t).replace(rA,"%3D")}function n0(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function dA(t){return n0(t.replace(t0," "))}function hA(t=""){const e={};t[0]==="?"&&(t=t.substr(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const o=n0(r[1]);if(o==="__proto__"||o==="constructor")continue;const i=dA(r[2]||"");e[o]?Array.isArray(e[o])?e[o].push(i):e[o]=[e[o],i]:e[o]=i}return e}function mA(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Wc(t)}=${Qf(n)}`).join("&"):`${Wc(t)}=${Qf(e)}`:Wc(t)}function vA(t){return Object.keys(t).map(e=>mA(e,t[e])).join("&")}const gA=/^\w+:(\/\/)?/,yA=/^\/\/[^/]+/;function r0(t,e=!1){return gA.test(t)||e&&yA.test(t)}const bA=/\/$|\/\?/;function Xf(t="",e=!1){return e?bA.test(t):t.endsWith("/")}function o0(t="",e=!1){if(!e)return(Xf(t)?t.slice(0,-1):t)||"/";if(!Xf(t,!0))return t||"/";const[n,...r]=t.split("?");return(n.slice(0,-1)||"/")+(r.length?`?${r.join("?")}`:"")}function CA(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(Xf(t,!0))return t||"/";const[n,...r]=t.split("?");return n+"/"+(r.length?`?${r.join("?")}`:"")}function wA(t=""){return t.startsWith("/")}function SA(t=""){return(wA(t)?t.substr(1):t)||"/"}function EA(t,e){if(i0(e))return t;const n=o0(e);return t.startsWith(n)?t:Ed(n,t)}function km(t,e){if(i0(e))return t;const n=o0(e);return t.startsWith(n)?t.substr(n.length)||"/":t}function AA(t,e){const n=s0(t),r=O(O({},hA(n.search)),e);return n.search=vA(r),DA(n)}function i0(t){return!t||t==="/"}function kA(t){return t&&t!=="/"}function Ed(t,...e){let n=t||"";for(const r of e.filter(kA))n=n?CA(n)+SA(r):r;return n}function s0(t="",e){if(!r0(t,!0))return e?s0(e+t):Dm(t);const[n="",r,o=""]=(t.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[i="",s=""]=(o.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:a,search:u,hash:l}=Dm(s);return{protocol:n,auth:r?r.substr(0,r.length-1):"",host:i,pathname:a,search:u,hash:l}}function Dm(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function DA(t){const e=t.pathname+(t.search?(t.search.startsWith("?")?"":"?")+t.search:"")+t.hash;return t.protocol?t.protocol+"//"+(t.auth?t.auth+"@":"")+t.host+e:e}class xA extends Error{constructor(){super(...arguments),this.name="FetchError"}}function OA(t,e,n){let r="";t&&n&&(r=`${n.status} ${n.statusText} (${t.toString()})`),e&&(r=`${e.message} (${r})`);const o=new xA(r);return Object.defineProperty(o,"request",{get(){return t}}),Object.defineProperty(o,"response",{get(){return n}}),Object.defineProperty(o,"data",{get(){return n&&n._data}}),o}const _A=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function xm(t="GET"){return _A.has(t.toUpperCase())}function TA(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const MA=new Set(["image/svg","application/xml","application/xhtml","application/html"]),NA=/^application\/(?:[\w!#$%&*`\-.^~]*\+)?json(;.+)?$/i;function FA(t=""){if(!t)return"json";const e=t.split(";").shift();return NA.test(e)?"json":MA.has(e)||e.startsWith("text/")?"text":"blob"}const RA=new Set([408,409,425,429,500,502,503,504]);function a0(t){const{fetch:e,Headers:n}=t;function r(s){if(s.options.retry!==!1){const u=typeof s.options.retry=="number"?s.options.retry:xm(s.options.method)?0:1,l=s.response&&s.response.status||500;if(u>0&&RA.has(l))return o(s.request,Ye(O({},s.options),{retry:u-1}))}const a=OA(s.request,s.error,s.response);throw Error.captureStackTrace&&Error.captureStackTrace(a,o),a}const o=async function(a,u={}){const l={request:a,options:O(O({},t.defaults),u),response:void 0,error:void 0};l.options.onRequest&&await l.options.onRequest(l),typeof l.request=="string"&&(l.options.baseURL&&(l.request=EA(l.request,l.options.baseURL)),l.options.params&&(l.request=AA(l.request,l.options.params)),l.options.body&&xm(l.options.method)&&TA(l.options.body)&&(l.options.body=JSON.stringify(l.options.body),l.options.headers=new n(l.options.headers),l.options.headers.has("content-type")||l.options.headers.set("content-type","application/json"),l.options.headers.has("accept")||l.options.headers.set("accept","application/json"))),l.response=await e(l.request,l.options).catch(async f=>(l.error=f,l.options.onRequestError&&await l.options.onRequestError(l),r(l)));const c=(l.options.parseResponse?"json":l.options.responseType)||FA(l.response.headers.get("content-type")||"");if(c==="json"){const f=await l.response.text(),p=l.options.parseResponse||eA;l.response._data=p(f)}else l.response._data=await l.response[c]();return l.options.onResponse&&await l.options.onResponse(l),l.response.ok||l.options.onResponseError&&await l.options.onResponseError(l),l.response.ok?l.response:r(l)},i=function(a,u){return o(a,u).then(l=>l._data)};return i.raw=o,i.create=(s={})=>a0(Ye(O({},t),{defaults:O(O({},t.defaults),s)})),i}const u0=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}(),IA=u0.fetch||(()=>Promise.reject(new Error("[ohmyfetch] global.fetch is not supported!"))),PA=u0.Headers,l0=a0({fetch:IA,Headers:PA}),BA=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},ol=BA().app,LA=()=>ol.baseURL,zA=()=>ol.buildAssetsDir,$A=(...t)=>Ed(HA(),zA(),...t),HA=(...t)=>{const e=ol.cdnURL||ol.baseURL;return t.length?Ed(e,...t):e};function ep(t,e={},n){for(const r in t){const o=t[r],i=n?`${n}:${r}`:r;typeof o=="object"&&o!==null?ep(o,e,i):typeof o=="function"&&(e[i]=o)}return e}function VA(t,e){return t.reduce((n,r)=>n.then(()=>r.apply(void 0,e)),Promise.resolve(null))}function jA(t,e){return Promise.all(t.map(n=>n.apply(void 0,e)))}class qA{constructor(){this._hooks={},this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n){if(!e||typeof n!="function")return()=>{};const r=e;let o;for(;this._deprecatedHooks[e];){const i=this._deprecatedHooks[e];typeof i=="string"?o={to:i}:o=i,e=o.to}return o&&(o.message?console.warn(o.message):console.warn(`${r} hook has been deprecated`+(o.to?`, please use ${o.to}`:""))),this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=null)}}hookOnce(e,n){let r,o=(...i)=>(r(),r=null,o=null,n(...i));return r=this.hook(e,o),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=n}deprecateHooks(e){Object.assign(this._deprecatedHooks,e)}addHooks(e){const n=ep(e),r=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{r.splice(0,r.length).forEach(o=>o())}}removeHooks(e){const n=ep(e);for(const r in n)this.removeHook(r,n[r])}callHook(e,...n){return VA(this._hooks[e]||[],n)}callHookParallel(e,...n){return jA(this._hooks[e]||[],n)}callHookWith(e,n,...r){return e(this._hooks[n]||[],r)}}function UA(){return new qA}function WA(){let t=null,e=!1;const n=r=>{if(t&&t!==r)throw new Error("Context conflict")};return{use:()=>t,set:(r,o)=>{o||n(r),t=r,e=!0},unset:()=>{t=null,e=!1},call:(r,o)=>{n(r),t=r;try{return o()}finally{e||(t=null)}},async callAsync(r,o){t=r;const i=()=>{t=r},s=()=>t===r?i:void 0;tp.add(s);try{const a=o();return e||(t=null),await a}finally{tp.delete(s)}}}}function JA(){const t={};return{get(e){return t[e]||(t[e]=WA()),t[e],t[e]}}}const il=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof global!="undefined"?global:typeof window!="undefined"?window:{},Om="__unctx__",KA=il[Om]||(il[Om]=JA()),ZA=t=>KA.get(t),_m="__unctx_async_handlers__",tp=il[_m]||(il[_m]=new Set);function GA(t){const e=[];for(const r of tp){const o=r();o&&e.push(o)}const n=()=>{for(const r of e)r()};return[t(),n]}function Es(t,e={}){const n=function(){};n.prototype.name=t;const r={};return new Proxy(n,{get(o,i){return i==="caller"?null:i==="__createMock__"?Es:i in e?e[i]:r[i]=r[i]||Es(`${t}.${i.toString()}`)},apply(o,i,s){return Es(`${t}()`)},construct(o,i,s){return Es(`[${t}]`)},enumerate(o){return[]}})}var YA=Es("mock");function Qa(t){return console.warn(t),YA}const QA=new Set(["store","spa","fetchCounters"]),XA=new Set(["isHMR","base","payload","from","next","error","redirect","redirected","enablePreview","$preview","beforeNuxtRender","beforeSerialize"]),ek=new Set(["req","res","ssrContext"]),tk=["route","params","query"],Tm={isClient:!0,isServer:!1,isDev:!1,isStatic:void 0,target:"server",modern:!1},nk=t=>{t._legacyContext=new Proxy(t,{get(e,n){if(QA.has(n))return Qa(`Accessing ${n} is not supported in Nuxt 3.`);if(XA.has(n))return Qa(`Accessing ${n} is not yet supported in Nuxt 3.`);if(tk.includes(n)){if(!("$router"in t))return Qa("vue-router is not being used in this project.");switch(n){case"route":return e.$router.currentRoute.value;case"params":case"query":return e.$router.currentRoute.value[n]}}if(n==="$config"||n==="env")return Ad();if(n in Tm)return Tm[n];if(!ek.has(n))return n==="ssrContext"?e._legacyContext:e.ssrContext&&n in e.ssrContext?e.ssrContext[n]:n==="nuxt"?e.payload:n==="nuxtState"?e.payload.data:n in t.vueApp?t.vueApp[n]:n in t?t[n]:Qa(`Accessing ${n} is not supported in Nuxt3.`)}}),t.hook("app:created",()=>{const e=new Proxy(t.vueApp,{get(n,r){return["$root","constructor"].includes(r)?e:n[r]||t[r]}});window[`$${t.globalName}`]=e})},c0=ZA("nuxt-app"),f0="__nuxt_plugin";function rk(t){const e=O({provide:void 0,globalName:"nuxt",payload:$t(O({data:{},state:{},_errors:{}},window.__NUXT__)),isHydrating:!0,_asyncDataPromises:{}},t);e.hooks=UA(),e.hook=e.hooks.hook,e.callHook=e.hooks.callHook,e.provide=(o,i)=>{const s="$"+o;Xa(e,s,i),Xa(e.vueApp.config.globalProperties,s,i)},Xa(e.vueApp,"$nuxt",e),Xa(e.vueApp.config.globalProperties,"$nuxt",e),e.ssrContext&&(e.ssrContext.nuxt=e);const n=$t(e.payload.config),r=new Proxy(n,{get(o,i){var s;return i==="public"?o.public:(s=o[i])!=null?s:o.public[i]},set(o,i,s){return i==="public"||i==="app"?!1:(o[i]=s,o.public[i]=s,!0)}});return e.provide("config",r),e}async function ok(t,e){if(typeof e!="function")return;const{provide:n}=await xo(t,e,[t])||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}async function ik(t,e){for(const n of e)await ok(t,n)}function sk(t){let e=!1;const n=t.map(r=>typeof r!="function"?()=>{}:ak(r)?(e=!0,o=>r(o._legacyContext,o.provide)):r);return e&&n.unshift(nk),n}function Jo(t){return t[f0]=!0,t}function ak(t){return!t[f0]}function xo(t,e,n){const r=()=>n?e(...n):e();return c0.set(t),r()}function hn(){const t=cr();if(!t){const e=c0.use();if(!e)throw new Error("nuxt instance unavailable");return e}return t.appContext.app.$nuxt}function Ad(){return hn().$config}function Xa(t,e,n){Object.defineProperty(t,e,{get:()=>n})}/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const p0=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Qi=t=>p0?Symbol(t):"_vr_"+t,uk=Qi("rvlm"),Mm=Qi("rvd"),kd=Qi("r"),d0=Qi("rl"),np=Qi("rvl"),ci=typeof window!="undefined";function lk(t){return t.__esModule||p0&&t[Symbol.toStringTag]==="Module"}const We=Object.assign;function Jc(t,e){const n={};for(const r in e){const o=e[r];n[r]=Array.isArray(o)?o.map(t):t(o)}return n}const Is=()=>{},ck=/\/$/,fk=t=>t.replace(ck,"");function Kc(t,e,n="/"){let r,o={},i="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),i=e.slice(a+1,u>-1?u:e.length),o=t(i)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=mk(r!=null?r:e,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function pk(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Nm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function dk(t,e,n){const r=e.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Fi(e.matched[r],n.matched[o])&&h0(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function h0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!hk(t[n],e[n]))return!1;return!0}function hk(t,e){return Array.isArray(t)?Fm(t,e):Array.isArray(e)?Fm(e,t):t===e}function Fm(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function mk(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let o=n.length-1,i,s;for(i=0;i<r.length;i++)if(s=r[i],!(o===1||s==="."))if(s==="..")o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var ia;(function(t){t.pop="pop",t.push="push"})(ia||(ia={}));var Ps;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ps||(Ps={}));function vk(t){if(!t)if(ci){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fk(t)}const gk=/^[^#]+#/;function yk(t,e){return t.replace(gk,"#")+e}function bk(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ac=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ck(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=bk(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Rm(t,e){return(history.state?history.state.position-e:-1)+t}const rp=new Map;function wk(t,e){rp.set(t,e)}function Sk(t){const e=rp.get(t);return rp.delete(t),e}let Ek=()=>location.protocol+"//"+location.host;function m0(t,e){const{pathname:n,search:r,hash:o}=e,i=t.indexOf("#");if(i>-1){let a=o.includes(t.slice(i))?t.slice(i).length:1,u=o.slice(a);return u[0]!=="/"&&(u="/"+u),Nm(u,"")}return Nm(n,t)+r+o}function Ak(t,e,n,r){let o=[],i=[],s=null;const a=({state:p})=>{const d=m0(t,location),h=n.value,m=e.value;let g=0;if(p){if(n.value=d,e.value=p,s&&s===h){s=null;return}g=m?p.position-m.position:0}else r(d);o.forEach(b=>{b(n.value,h,{delta:g,type:ia.pop,direction:g?g>0?Ps.forward:Ps.back:Ps.unknown})})};function u(){s=n.value}function l(p){o.push(p);const d=()=>{const h=o.indexOf(p);h>-1&&o.splice(h,1)};return i.push(d),d}function c(){const{history:p}=window;!p.state||p.replaceState(We({},p.state,{scroll:ac()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:u,listen:l,destroy:f}}function Im(t,e,n,r=!1,o=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:o?ac():null}}function kk(t){const{history:e,location:n}=window,r={value:m0(t,n)},o={value:e.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,l,c){const f=t.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+u:Ek()+t+u;try{e[c?"replaceState":"pushState"](l,"",p),o.value=l}catch(d){console.error(d),n[c?"replace":"assign"](p)}}function s(u,l){const c=We({},e.state,Im(o.value.back,u,o.value.forward,!0),l,{position:o.value.position});i(u,c,!0),r.value=u}function a(u,l){const c=We({},o.value,e.state,{forward:u,scroll:ac()});i(c.current,c,!0);const f=We({},Im(r.value,u,null),{position:c.position+1},l);i(u,f,!1),r.value=u}return{location:r,state:o,push:a,replace:s}}function Dk(t){t=vk(t);const e=kk(t),n=Ak(t,e.state,e.location,e.replace);function r(i,s=!0){s||n.pauseListeners(),history.go(i)}const o=We({location:"",base:t,go:r,createHref:yk.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function xk(t){return typeof t=="string"||t&&typeof t=="object"}function v0(t){return typeof t=="string"||typeof t=="symbol"}const $r={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},g0=Qi("nf");var Pm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Pm||(Pm={}));function Ri(t,e){return We(new Error,{type:t,[g0]:!0},e)}function Hr(t,e){return t instanceof Error&&g0 in t&&(e==null||!!(t.type&e))}const Bm="[^/]+?",Ok={sensitive:!1,strict:!1,start:!0,end:!0},_k=/[.+*?^${}()[\]/\\]/g;function Tk(t,e){const n=We({},Ok,e),r=[];let o=n.start?"^":"";const i=[];for(const l of t){const c=l.length?[]:[90];n.strict&&!l.length&&(o+="/");for(let f=0;f<l.length;f++){const p=l[f];let d=40+(n.sensitive?.25:0);if(p.type===0)f||(o+="/"),o+=p.value.replace(_k,"\\$&"),d+=40;else if(p.type===1){const{value:h,repeatable:m,optional:g,regexp:b}=p;i.push({name:h,repeatable:m,optional:g});const v=b||Bm;if(v!==Bm){d+=10;try{new RegExp(`(${v})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${h}" (${v}): `+y.message)}}let w=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(w=g&&l.length<2?`(?:/${w})`:"/"+w),g&&(w+="?"),o+=w,d+=20,g&&(d+=-8),m&&(d+=-20),v===".*"&&(d+=-50)}c.push(d)}r.push(c)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");function a(l){const c=l.match(s),f={};if(!c)return null;for(let p=1;p<c.length;p++){const d=c[p]||"",h=i[p-1];f[h.name]=d&&h.repeatable?d.split("/"):d}return f}function u(l){let c="",f=!1;for(const p of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of p)if(d.type===0)c+=d.value;else if(d.type===1){const{value:h,repeatable:m,optional:g}=d,b=h in l?l[h]:"";if(Array.isArray(b)&&!m)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const v=Array.isArray(b)?b.join("/"):b;if(!v)if(g)p.length<2&&t.length>1&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${h}"`);c+=v}}return c}return{re:s,score:r,keys:i,parse:a,stringify:u}}function Mk(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Nk(t,e){let n=0;const r=t.score,o=e.score;for(;n<r.length&&n<o.length;){const i=Mk(r[n],o[n]);if(i)return i;n++}return o.length-r.length}const Fk={type:0,value:""},Rk=/[a-zA-Z0-9_]/;function Ik(t){if(!t)return[[]];if(t==="/")return[[Fk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${l}": ${d}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a=0,u,l="",c="";function f(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function p(){l+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(l&&f(),s()):u===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:u==="("?n=2:Rk.test(u)?p():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),s(),o}function Pk(t,e,n){const r=Tk(Ik(t.path),n),o=We(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function Bk(t,e){const n=[],r=new Map;e=zm({strict:!1,end:!0,sensitive:!1},e);function o(c){return r.get(c)}function i(c,f,p){const d=!p,h=zk(c);h.aliasOf=p&&p.record;const m=zm(e,c),g=[h];if("alias"in c){const w=typeof c.alias=="string"?[c.alias]:c.alias;for(const y of w)g.push(We({},h,{components:p?p.record.components:h.components,path:y,aliasOf:p?p.record:h}))}let b,v;for(const w of g){const{path:y}=w;if(f&&y[0]!=="/"){const S=f.record.path,A=S[S.length-1]==="/"?"":"/";w.path=f.record.path+(y&&A+y)}if(b=Pk(w,f,m),p?p.alias.push(b):(v=v||b,v!==b&&v.alias.push(b),d&&c.name&&!Lm(b)&&s(c.name)),"children"in h){const S=h.children;for(let A=0;A<S.length;A++)i(S[A],b,p&&p.children[A])}p=p||b,u(b)}return v?()=>{s(v)}:Is}function s(c){if(v0(c)){const f=r.get(c);f&&(r.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&r.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function a(){return n}function u(c){let f=0;for(;f<n.length&&Nk(c,n[f])>=0&&(c.record.path!==n[f].record.path||!y0(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!Lm(c)&&r.set(c.record.name,c)}function l(c,f){let p,d={},h,m;if("name"in c&&c.name){if(p=r.get(c.name),!p)throw Ri(1,{location:c});m=p.record.name,d=We(Lk(f.params,p.keys.filter(v=>!v.optional).map(v=>v.name)),c.params),h=p.stringify(d)}else if("path"in c)h=c.path,p=n.find(v=>v.re.test(h)),p&&(d=p.parse(h),m=p.record.name);else{if(p=f.name?r.get(f.name):n.find(v=>v.re.test(f.path)),!p)throw Ri(1,{location:c,currentLocation:f});m=p.record.name,d=We({},f.params,c.params),h=p.stringify(d)}const g=[];let b=p;for(;b;)g.unshift(b.record),b=b.parent;return{name:m,path:h,params:d,matched:g,meta:Hk(g)}}return t.forEach(c=>i(c)),{addRoute:i,resolve:l,removeRoute:s,getRoutes:a,getRecordMatcher:o}}function Lk(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function zk(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$k(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function $k(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Lm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Hk(t){return t.reduce((e,n)=>We(e,n.meta),{})}function zm(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function y0(t,e){return e.children.some(n=>n===t||y0(t,n))}const b0=/#/g,Vk=/&/g,jk=/\//g,qk=/=/g,Uk=/\?/g,C0=/\+/g,Wk=/%5B/g,Jk=/%5D/g,w0=/%5E/g,Kk=/%60/g,S0=/%7B/g,Zk=/%7C/g,E0=/%7D/g,Gk=/%20/g;function Dd(t){return encodeURI(""+t).replace(Zk,"|").replace(Wk,"[").replace(Jk,"]")}function Yk(t){return Dd(t).replace(S0,"{").replace(E0,"}").replace(w0,"^")}function op(t){return Dd(t).replace(C0,"%2B").replace(Gk,"+").replace(b0,"%23").replace(Vk,"%26").replace(Kk,"`").replace(S0,"{").replace(E0,"}").replace(w0,"^")}function Qk(t){return op(t).replace(qk,"%3D")}function Xk(t){return Dd(t).replace(b0,"%23").replace(Uk,"%3F")}function eD(t){return t==null?"":Xk(t).replace(jk,"%2F")}function sl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function tD(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(C0," "),s=i.indexOf("="),a=sl(s<0?i:i.slice(0,s)),u=s<0?null:sl(i.slice(s+1));if(a in e){let l=e[a];Array.isArray(l)||(l=e[a]=[l]),l.push(u)}else e[a]=u}return e}function $m(t){let e="";for(let n in t){const r=t[n];if(n=Qk(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(r)?r.map(i=>i&&op(i)):[r&&op(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function nD(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Array.isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}function ps(){let t=[];function e(r){return t.push(r),()=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Jr(t,e,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((s,a)=>{const u=f=>{f===!1?a(Ri(4,{from:n,to:e})):f instanceof Error?a(f):xk(f)?a(Ri(2,{from:e,to:f})):(i&&r.enterCallbacks[o]===i&&typeof f=="function"&&i.push(f),s())},l=t.call(r&&r.instances[o],e,n,u);let c=Promise.resolve(l);t.length<3&&(c=c.then(u)),c.catch(f=>a(f))})}function Zc(t,e,n,r){const o=[];for(const i of t)for(const s in i.components){let a=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(rD(a)){const l=(a.__vccOpts||a)[e];l&&o.push(Jr(l,n,r,i,s))}else{let u=a();o.push(()=>u.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const c=lk(l)?l.default:l;i.components[s]=c;const p=(c.__vccOpts||c)[e];return p&&Jr(p,n,r,i,s)()}))}}return o}function rD(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Hm(t){const e=Dn(kd),n=Dn(d0),r=ke(()=>e.resolve(le(t.to))),o=ke(()=>{const{matched:u}=r.value,{length:l}=u,c=u[l-1],f=n.matched;if(!c||!f.length)return-1;const p=f.findIndex(Fi.bind(null,c));if(p>-1)return p;const d=Vm(u[l-2]);return l>1&&Vm(c)===d&&f[f.length-1].path!==d?f.findIndex(Fi.bind(null,u[l-2])):p}),i=ke(()=>o.value>-1&&aD(n.params,r.value.params)),s=ke(()=>o.value>-1&&o.value===n.matched.length-1&&h0(n.params,r.value.params));function a(u={}){return sD(u)?e[le(t.replace)?"replace":"push"](le(t.to)).catch(Is):Promise.resolve()}return{route:r,href:ke(()=>r.value.href),isActive:i,isExactActive:s,navigate:a}}const oD=Ke({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hm,setup(t,{slots:e}){const n=$t(Hm(t)),{options:r}=Dn(kd),o=ke(()=>({[jm(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[jm(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:it("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),iD=oD;function sD(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function aD(t,e){for(const n in e){const r=e[n],o=t[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function Vm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const jm=(t,e,n)=>t!=null?t:e!=null?e:n,uD=Ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Dn(np),o=ke(()=>t.route||r.value),i=Dn(Mm,0),s=ke(()=>o.value.matched[i]);Sr(Mm,i+1),Sr(uk,s),Sr(np,o);const a=tt();return sn(()=>[a.value,s.value,t.name],([u,l,c],[f,p,d])=>{l&&(l.instances[c]=u,p&&p!==l&&u&&u===f&&(l.leaveGuards.size||(l.leaveGuards=p.leaveGuards),l.updateGuards.size||(l.updateGuards=p.updateGuards))),u&&l&&(!p||!Fi(l,p)||!f)&&(l.enterCallbacks[c]||[]).forEach(h=>h(u))},{flush:"post"}),()=>{const u=o.value,l=s.value,c=l&&l.components[t.name],f=t.name;if(!c)return qm(n.default,{Component:c,route:u});const p=l.props[t.name],d=p?p===!0?u.params:typeof p=="function"?p(u):p:null,m=it(c,We({},d,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(l.instances[f]=null)},ref:a}));return qm(n.default,{Component:m,route:u})||m}}});function qm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const A0=uD;function lD(t){const e=Bk(t.routes,t),n=t.parseQuery||tD,r=t.stringifyQuery||$m,o=t.history,i=ps(),s=ps(),a=ps(),u=zf($r);let l=$r;ci&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Jc.bind(null,P=>""+P),f=Jc.bind(null,eD),p=Jc.bind(null,sl);function d(P,X){let J,ne;return v0(P)?(J=e.getRecordMatcher(P),ne=X):ne=P,e.addRoute(ne,J)}function h(P){const X=e.getRecordMatcher(P);X&&e.removeRoute(X)}function m(){return e.getRoutes().map(P=>P.record)}function g(P){return!!e.getRecordMatcher(P)}function b(P,X){if(X=We({},X||u.value),typeof P=="string"){const R=Kc(n,P,X.path),C=e.resolve({path:R.path},X),E=o.createHref(R.fullPath);return We(R,C,{params:p(C.params),hash:sl(R.hash),redirectedFrom:void 0,href:E})}let J;if("path"in P)J=We({},P,{path:Kc(n,P.path,X.path).path});else{const R=We({},P.params);for(const C in R)R[C]==null&&delete R[C];J=We({},P,{params:f(P.params)}),X.params=f(X.params)}const ne=e.resolve(J,X),Te=P.hash||"";ne.params=c(p(ne.params));const Oe=pk(r,We({},P,{hash:Yk(Te),path:ne.path})),T=o.createHref(Oe);return We({fullPath:Oe,hash:Te,query:r===$m?nD(P.query):P.query||{}},ne,{redirectedFrom:void 0,href:T})}function v(P){return typeof P=="string"?Kc(n,P,u.value.path):We({},P)}function w(P,X){if(l!==P)return Ri(8,{from:X,to:P})}function y(P){return k(P)}function S(P){return y(We(v(P),{replace:!0}))}function A(P){const X=P.matched[P.matched.length-1];if(X&&X.redirect){const{redirect:J}=X;let ne=typeof J=="function"?J(P):J;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=v(ne):{path:ne},ne.params={}),We({query:P.query,hash:P.hash,params:P.params},ne)}}function k(P,X){const J=l=b(P),ne=u.value,Te=P.state,Oe=P.force,T=P.replace===!0,R=A(J);if(R)return k(We(v(R),{state:Te,force:Oe,replace:T}),X||J);const C=J;C.redirectedFrom=X;let E;return!Oe&&dk(r,ne,J)&&(E=Ri(16,{to:C,from:ne}),q(ne,ne,!0,!1)),(E?Promise.resolve(E):_(C,ne)).catch(D=>Hr(D)?Hr(D,2)?D:we(D):pe(D,C,ne)).then(D=>{if(D){if(Hr(D,2))return k(We(v(D.to),{state:Te,force:Oe,replace:T}),X||C)}else D=z(C,ne,!0,T,Te);return N(C,ne,D),D})}function x(P,X){const J=w(P,X);return J?Promise.reject(J):Promise.resolve()}function _(P,X){let J;const[ne,Te,Oe]=cD(P,X);J=Zc(ne.reverse(),"beforeRouteLeave",P,X);for(const R of ne)R.leaveGuards.forEach(C=>{J.push(Jr(C,P,X))});const T=x.bind(null,P,X);return J.push(T),ii(J).then(()=>{J=[];for(const R of i.list())J.push(Jr(R,P,X));return J.push(T),ii(J)}).then(()=>{J=Zc(Te,"beforeRouteUpdate",P,X);for(const R of Te)R.updateGuards.forEach(C=>{J.push(Jr(C,P,X))});return J.push(T),ii(J)}).then(()=>{J=[];for(const R of P.matched)if(R.beforeEnter&&!X.matched.includes(R))if(Array.isArray(R.beforeEnter))for(const C of R.beforeEnter)J.push(Jr(C,P,X));else J.push(Jr(R.beforeEnter,P,X));return J.push(T),ii(J)}).then(()=>(P.matched.forEach(R=>R.enterCallbacks={}),J=Zc(Oe,"beforeRouteEnter",P,X),J.push(T),ii(J))).then(()=>{J=[];for(const R of s.list())J.push(Jr(R,P,X));return J.push(T),ii(J)}).catch(R=>Hr(R,8)?R:Promise.reject(R))}function N(P,X,J){for(const ne of a.list())ne(P,X,J)}function z(P,X,J,ne,Te){const Oe=w(P,X);if(Oe)return Oe;const T=X===$r,R=ci?history.state:{};J&&(ne||T?o.replace(P.fullPath,We({scroll:T&&R&&R.scroll},Te)):o.push(P.fullPath,Te)),u.value=P,q(P,X,J,T),we()}let M;function H(){M||(M=o.listen((P,X,J)=>{const ne=b(P),Te=A(ne);if(Te){k(We(Te,{replace:!0}),ne).catch(Is);return}l=ne;const Oe=u.value;ci&&wk(Rm(Oe.fullPath,J.delta),ac()),_(ne,Oe).catch(T=>Hr(T,12)?T:Hr(T,2)?(k(T.to,ne).then(R=>{Hr(R,20)&&!J.delta&&J.type===ia.pop&&o.go(-1,!1)}).catch(Is),Promise.reject()):(J.delta&&o.go(-J.delta,!1),pe(T,ne,Oe))).then(T=>{T=T||z(ne,Oe,!1),T&&(J.delta?o.go(-J.delta,!1):J.type===ia.pop&&Hr(T,20)&&o.go(-1,!1)),N(ne,Oe,T)}).catch(Is)}))}let te=ps(),ee=ps(),Y;function pe(P,X,J){we(P);const ne=ee.list();return ne.length?ne.forEach(Te=>Te(P,X,J)):console.error(P),Promise.reject(P)}function oe(){return Y&&u.value!==$r?Promise.resolve():new Promise((P,X)=>{te.add([P,X])})}function we(P){return Y||(Y=!P,H(),te.list().forEach(([X,J])=>P?J(P):X()),te.reset()),P}function q(P,X,J,ne){const{scrollBehavior:Te}=t;if(!ci||!Te)return Promise.resolve();const Oe=!J&&Sk(Rm(P.fullPath,0))||(ne||!J)&&history.state&&history.state.scroll||null;return tr().then(()=>Te(P,X,Oe)).then(T=>T&&Ck(T)).catch(T=>pe(T,P,X))}const ge=P=>o.go(P);let De;const Ge=new Set;return{currentRoute:u,addRoute:d,removeRoute:h,hasRoute:g,getRoutes:m,resolve:b,options:t,push:y,replace:S,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:ee.add,isReady:oe,install(P){const X=this;P.component("RouterLink",iD),P.component("RouterView",A0),P.config.globalProperties.$router=X,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>le(u)}),ci&&!De&&u.value===$r&&(De=!0,y(o.location).catch(Te=>{}));const J={};for(const Te in $r)J[Te]=ke(()=>u.value[Te]);P.provide(kd,X),P.provide(d0,$t(J)),P.provide(np,u);const ne=P.unmount;Ge.add(P),P.unmount=function(){Ge.delete(P),Ge.size<1&&(l=$r,M&&M(),M=null,u.value=$r,De=!1,Y=!1),ne()}}}}function ii(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function cD(t,e){const n=[],r=[],o=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const a=e.matched[s];a&&(t.matched.find(l=>Fi(l,a))?r.push(a):n.push(a));const u=t.matched[s];u&&(e.matched.find(l=>Fi(l,u))||o.push(u))}return[n,r,o]}const fD=(t,e)=>{const n=hn(),r=$n(n.payload.state,t);if(r.value===void 0&&e){const o=e();if(Le(o))return n.payload.state[t]=o,o;r.value=o}return r},sa=()=>{const t=hn();return fD("error",()=>t.payload.error)},Hu=t=>{const e=hn(),n=sa(),r=typeof t=="string"?new Error(t):t;return e.callHook("app:error",r),n.value=n.value||r,r},pD=async(t={})=>{const e=hn(),n=sa();e.callHook("app:error:cleared",t),t.redirect&&await e.$router.replace(t.redirect),n.value=null};class Um extends Error{constructor(){super(...arguments),this.statusCode=500,this.statusMessage="H3Error"}}function dD(t){var n;if(t instanceof Um)return t;const e=new Um((n=t.message)!=null?n:t.statusMessage);return t.statusCode&&(e.statusCode=t.statusCode),t.statusMessage&&(e.statusMessage=t.statusMessage),t.data&&(e.data=t.data),e}function hD(t){return{}}const k0=()=>{var t;return(t=hn())==null?void 0:t.$router},D0=()=>hn()._route,wz=t=>t,mD=()=>{try{if(hn()._processingMiddleware)return!0}catch{return!0}return!1},vD=(t,e={})=>{if(t||(t="/"),mD())return t;const n=k0();return e.replace?n.replace(t):n.push(t)},gD=(...t)=>t.find(e=>e!==void 0),yD="noopener noreferrer";function bD(t){const e=t.componentName||"NuxtLink";return Ke({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(n,{slots:r}){const o=k0(),i=ke(()=>n.to||n.href||""),s=ke(()=>n.external||n.target&&n.target!=="_self"?!0:typeof i.value=="object"?!1:i.value===""||r0(i.value,!0));return()=>{var c,f,p;if(!s.value)return it(bd("RouterLink"),{to:i.value,activeClass:n.activeClass||t.activeClass,exactActiveClass:n.exactActiveClass||t.exactActiveClass,replace:n.replace,ariaCurrentValue:n.ariaCurrentValue},r.default);const a=typeof i.value=="object"?(f=(c=o.resolve(i.value))==null?void 0:c.href)!=null?f:null:i.value||null,u=n.target||null,l=n.noRel?null:gD(n.rel,t.externalRelAttribute,a?yD:"")||null;return it("a",{href:a,rel:l,target:u},(p=r.default)==null?void 0:p.call(r))}}})}var CD=bD({componentName:"NuxtLink"});function xr(t){const e=be(t)?ke(t):t;hn()._useHead(e)}const Gc={};function wD(t){for(const e in Gc)t.vueApp.component(e,Gc[e]),t.vueApp.component("Lazy"+e,Gc[e])}var SD=Object.defineProperty,Wm=Object.getOwnPropertySymbols,ED=Object.prototype.hasOwnProperty,AD=Object.prototype.propertyIsEnumerable,Jm=(t,e,n)=>e in t?SD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kD=(t,e)=>{for(var n in e||(e={}))ED.call(e,n)&&Jm(t,n,e[n]);if(Wm)for(var n of Wm(e))AD.call(e,n)&&Jm(t,n,e[n]);return t},DD="usehead",Km="head:count",Yc="data-head-attrs",xD=(t,e,n)=>{const r=n.createElement(t);for(const o of Object.keys(e)){let i=e[o];o==="key"||i===!1||(o==="children"?r.textContent=i:r.setAttribute(o,i))}return r};function OD(t,e){if(t instanceof HTMLElement&&e instanceof HTMLElement){const n=e.getAttribute("nonce");if(n&&!t.getAttribute("nonce")){const r=e.cloneNode(!0);return r.setAttribute("nonce",""),r.nonce=n,n===t.nonce&&t.isEqualNode(r)}}return t.isEqualNode(e)}var _D=t=>{const e=["key","id","name","property"];for(const n of e){const r=typeof t.getAttribute=="function"?t.hasAttribute(n)?t.getAttribute(n):void 0:t[n];if(r!==void 0)return{name:n,value:r}}},TD=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],MD=t=>{const e=[];for(const n of Object.keys(t))if(t[n]!=null){if(n==="title")e.push({tag:n,props:{children:t[n]}});else if(n==="base")e.push({tag:n,props:kD({key:"default"},t[n])});else if(TD.includes(n)){const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({tag:n,props:o})}):r&&e.push({tag:n,props:r})}}return e},Zm=(t,e)=>{const n=t.getAttribute(Yc);if(n)for(const o of n.split(","))o in e||t.removeAttribute(o);const r=[];for(const o in e){const i=e[o];i!=null&&(i===!1?t.removeAttribute(o):t.setAttribute(o,i),r.push(o))}r.length?t.setAttribute(Yc,r.join(",")):t.removeAttribute(Yc)},ND=(t=window.document,e,n)=>{var r;const o=t.head;let i=o.querySelector(`meta[name="${Km}"]`);const s=i?Number(i.getAttribute("content")):0,a=[];if(i)for(let l=0,c=i.previousElementSibling;l<s;l++,c=(c==null?void 0:c.previousElementSibling)||null)((r=c==null?void 0:c.tagName)==null?void 0:r.toLowerCase())===e&&a.push(c);else i=t.createElement("meta"),i.setAttribute("name",Km),i.setAttribute("content","0"),o.append(i);let u=n.map(l=>xD(l.tag,l.props,t));u=u.filter(l=>{for(let c=0;c<a.length;c++){const f=a[c];if(OD(f,l))return a.splice(c,1),!1}return!0}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),u.forEach(l=>{o.insertBefore(l,i)}),i.setAttribute("content",""+(s-a.length+u.length))},FD=()=>{let t=[],e=new Set;const n={install(r){r.config.globalProperties.$head=n,r.provide(DD,n)},get headTags(){const r=[];return t.forEach(o=>{MD(o.value).forEach(s=>{if(s.tag==="meta"||s.tag==="base"||s.tag==="script"){const a=_D(s.props);if(a){let u=-1;for(let l=0;l<r.length;l++){const c=r[l],f=c.props[a.name],p=s.props[a.name];if(c.tag===s.tag&&f===p){u=l;break}}u!==-1&&r.splice(u,1)}}r.push(s)})}),r},addHeadObjs(r){t.push(r)},removeHeadObjs(r){t=t.filter(o=>o!==r)},updateDOM(r=window.document){let o,i={},s={};const a={};for(const l of n.headTags){if(l.tag==="title"){o=l.props.children;continue}if(l.tag==="htmlAttrs"){Object.assign(i,l.props);continue}if(l.tag==="bodyAttrs"){Object.assign(s,l.props);continue}a[l.tag]=a[l.tag]||[],a[l.tag].push(l)}o!==void 0&&(r.title=o),Zm(r.documentElement,i),Zm(r.body,s);const u=new Set([...Object.keys(a),...e]);for(const l of u)ND(r,l,a[l]||[]);e.clear(),Object.keys(a).forEach(l=>e.add(l))}};return n};function Qc(t){return t!==null&&typeof t=="object"}function ip(t,e,n=".",r){if(!Qc(e))return ip(t,{},n,r);const o=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const s=t[i];s!=null&&(r&&r(o,i,s,n)||(Array.isArray(s)&&Array.isArray(o[i])?o[i]=s.concat(o[i]):Qc(s)&&Qc(o[i])?o[i]=ip(s,o[i],(n?`${n}.`:"")+i.toString(),r):o[i]=s))}return o}function RD(t){return(...e)=>e.reduce((n,r)=>ip(n,r,"",t),{})}const ID=RD();var PD=Jo(t=>{const e=FD();t.vueApp.use(e);let n=!1;t.hooks.hookOnce("app:mounted",()=>{Qu(()=>{e.updateDOM()}),n=!0});const r=tt();t._useHead=o=>{const i=tt(o);"titleTemplate"in i.value&&(r.value=i.value.titleTemplate);const s=ke(()=>{const u={meta:[]};return r.value&&"title"in i.value&&(u.title=typeof r.value=="function"?r.value(i.value.title):r.value.replace(/%s/g,i.value.title)),i.value.charset&&u.meta.push({key:"charset",charset:i.value.charset}),i.value.viewport&&u.meta.push({name:"viewport",content:i.value.viewport}),ID(u,i.value)});e.addHeadObjs(s),n&&Qu(()=>{e.updateDOM()}),cr()&&lr(()=>{e.removeHeadObjs(s),e.updateDOM()})}});const BD=t=>Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0)),fo=(t,e)=>(n,r)=>(xr(()=>t(O(O({},BD(n)),r.attrs),r)),()=>{var o,i;return e?(i=(o=r.slots).default)==null?void 0:i.call(o):null}),Ko={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:String,contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},LD=Ke({name:"Script",props:Ye(O({},Ko),{async:Boolean,crossorigin:{type:[Boolean,String],default:void 0},defer:Boolean,integrity:String,nomodule:Boolean,nonce:String,referrerpolicy:String,src:String,type:String,charset:String,language:String}),setup:fo(t=>({script:[t]}))}),zD=Ke({name:"Link",props:Ye(O({},Ko),{as:String,crossorigin:String,disabled:Boolean,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String}),setup:fo(t=>({link:[t]}))}),$D=Ke({name:"Base",props:Ye(O({},Ko),{href:String,target:String}),setup:fo(t=>({base:t}))}),HD=Ke({name:"Title",setup:fo((t,{slots:e})=>{var r,o,i;return{title:((i=(o=(r=e.default)==null?void 0:r.call(e))==null?void 0:o[0])==null?void 0:i.children)||null}})}),VD=Ke({name:"Meta",props:Ye(O({},Ko),{charset:String,content:String,httpEquiv:String,name:String}),setup:fo(t=>({meta:[t]}))}),jD=Ke({name:"Style",props:Ye(O({},Ko),{type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0}}),setup:fo((t,{slots:e})=>{var o,i,s;const n=O({},t),r=(s=(i=(o=e.default)==null?void 0:o.call(e))==null?void 0:i[0])==null?void 0:s.children;return r&&(n.children=r),{style:[n]}})}),qD=Ke({name:"Head",setup:(t,e)=>()=>{var n,r;return(r=(n=e.slots).default)==null?void 0:r.call(n)}}),UD=Ke({name:"Html",props:Ye(O({},Ko),{manifest:String,version:String,xmlns:String}),setup:fo(t=>({htmlAttrs:t}),!0)}),WD=Ke({name:"Body",props:Ko,setup:fo(t=>({bodyAttrs:t}),!0)});var Gm=Object.freeze(Object.defineProperty({__proto__:null,Script:LD,Link:zD,Base:$D,Title:HD,Meta:VD,Style:jD,Head:qD,Html:UD,Body:WD},Symbol.toStringTag,{value:"Module"})),JD={globalMeta:{charset:"utf-8",viewport:"width=device-width, initial-scale=1",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{name:"title",content:"Les Transalpins - Habitat participatif situ\xE9 vers la r\xE9gion grenobloise"},{name:"description",content:"Habitat participatif sobre, convivial, \xE9cologique et interg\xE9n\xE9rationnel situ\xE9 vers la r\xE9gion grenobloise"},{hid:"og:locale",property:"og:locale",content:"fr_FR"},{hid:"og:site_name",property:"og:site_name",content:"Les Transalpins"},{hid:"og:title",property:"og:title",content:"Habitat participatif situ\xE9 vers la r\xE9gion grenobloise"},{hid:"og:description",property:"og:description",content:"Habitat participatif sobre, convivial, \xE9cologique et interg\xE9n\xE9rationnel situ\xE9 vers la r\xE9gion grenobloise"},{hid:"og:url",property:"og:url",content:"https://www.lestransalpins.org"},{hid:"og:type",property:"og:type",content:"website"},{hid:"og:image",property:"og:image",content:"https://www.lestransalpins.org/images/vercors.jpg"},{hid:"og:image:alt",property:"og:image:alt",content:"Illustration : Les hauts plateaux du vercors | les Transalpins"},{hid:"twitter:card",name:"twitter:card",content:"summary"},{hid:"twitter:domain",name:"twitter:domain",content:"https://www.lestransalpins.org"},{hid:"twitter:title",name:"twitter:title",content:"Habitat participatif situ\xE9 vers la r\xE9gion grenobloise"},{hid:"twitter:description",name:"twitter:description",content:"Habitat participatif sobre, convivial, \xE9cologique et interg\xE9n\xE9rationnel situ\xE9 vers la r\xE9gion grenobloise"},{hid:"twitter:image",name:"twitter:image",content:"https://www.lestransalpins.org/images/vercors.jpg"},{hid:"twitter:image:alt",name:"twitter:image:alt",content:"Illustration : Les hauts plateaux du vercors | les Transalpins"}],link:[{rel:"stylesheet",href:"//fonts.googleapis.com/css?family=Permanent+Marker"},{rel:"stylesheet",href:"//fonts.googleapis.com/css?family=Amatic+SC"},{rel:"stylesheet",href:"//fonts.googleapis.com/css?family=Caveat"}],style:[],script:[],titleTemplate:"%s - Les Transalpins",htmlAttrs:{prefix:"og: https://ogp.me/ns#"}}};const KD={created(){const t=cr();if(!t)return;const e=t.type;if(!e||!("head"in e))return;const n=hn(),r=typeof e.head=="function"?ke(()=>e.head(n)):e.head;xr(r)}};var ZD=Jo(t=>{xr(ir(JD.globalMeta)),t.vueApp.mixin(KD);for(const e in Gm)t.vueApp.component(e,Gm[e])});const GD=(t,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),Ym=(t,e)=>{var o;const n=e.route.matched.find(i=>i.components.default===e.Component.type),r=(o=t!=null?t:n==null?void 0:n.meta.key)!=null?o:GD(e.route,n);return typeof r=="function"?r(e.route):r},YD=(t,e)=>({default:()=>t?it(D1,t===!0?{}:t,e):e}),QD={setup(t,{slots:e}){return()=>{var n;return(n=e.default)==null?void 0:n.call(e)}}},sp=(t,e,n)=>({default:()=>e?it(t,e===!0?{}:e,n):it(QD,{},n)}),Qm=Symbol("isNested");var Xc=Ke({name:"NuxtPage",props:{pageKey:{type:[Function,String],default:null}},setup(t){const e=hn(),n=Dn(Qm,!1);return Sr(Qm,!0),()=>it(A0,{},{default:r=>{var o;return r.Component&&sp(sc,(o=r.route.meta.pageTransition)!=null?o:XD,YD(r.route.meta.keepalive,n&&e.isHydrating?it(r.Component,{key:Ym(t.pageKey,r)}):it(Ey,{onPending:()=>e.callHook("page:start",r.Component),onResolve:()=>e.callHook("page:finish",r.Component)},{default:()=>it(r.Component,{key:Ym(t.pageKey,r)})}))).default()}})}});const XD={name:"page",mode:"out-in"},ex="modulepreload",Xm={},tx=$A(),Ue=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${tx}${r}`,r in Xm)return;Xm[r]=!0;const o=r.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":ex,o||(s.as="script",s.crossOrigin=""),s.href=r,document.head.appendChild(s),o)return new Promise((a,u)=>{s.addEventListener("load",a),s.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},nx=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let x0;const _a=t=>x0=t,O0=Symbol();function ap(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Bs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Bs||(Bs={}));function rx(){const t=ey(!0),e=t.run(()=>tt({}));let n=[],r=[];const o=ir({install(i){_a(o),o._a=i,i.provide(O0,o),i.config.globalProperties.$pinia=o,r.forEach(s=>n.push(s)),r=[]},use(i){return!this._a&&!nx?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const _0=()=>{};function ev(t,e,n,r=_0){t.push(e);const o=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&cr()&&md(o),o}function si(t,...e){t.slice().forEach(n=>{n(...e)})}function up(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=t[n];ap(o)&&ap(r)&&t.hasOwnProperty(n)&&!Le(r)&&!Cr(r)?t[n]=up(o,r):t[n]=r}return t}const ox=Symbol();function ix(t){return!ap(t)||!t.hasOwnProperty(ox)}const{assign:hr}=Object;function sx(t){return!!(Le(t)&&t.effect)}function ax(t,e,n,r){const{state:o,actions:i,getters:s}=e,a=n.state.value[t];let u;function l(){a||(n.state.value[t]=o?o():{});const c=XS(n.state.value[t]);return hr(c,i,Object.keys(s||{}).reduce((f,p)=>(f[p]=ir(ke(()=>{_a(n);const d=n._s.get(t);return s[p].call(d,d)})),f),{}))}return u=T0(t,l,e,n,r,!0),u.$reset=function(){const f=o?o():{};this.$patch(p=>{hr(p,f)})},u}function T0(t,e,n={},r,o,i){let s;const a=hr({actions:{}},n),u={deep:!0};let l,c,f=ir([]),p=ir([]),d;const h=r.state.value[t];!i&&!h&&(r.state.value[t]={}),tt({});let m;function g(k){let x;l=c=!1,typeof k=="function"?(k(r.state.value[t]),x={type:Bs.patchFunction,storeId:t,events:d}):(up(r.state.value[t],k),x={type:Bs.patchObject,payload:k,storeId:t,events:d});const _=m=Symbol();tr().then(()=>{m===_&&(l=!0)}),c=!0,si(f,x,r.state.value[t])}const b=_0;function v(){s.stop(),f=[],p=[],r._s.delete(t)}function w(k,x){return function(){_a(r);const _=Array.from(arguments),N=[],z=[];function M(ee){N.push(ee)}function H(ee){z.push(ee)}si(p,{args:_,name:k,store:S,after:M,onError:H});let te;try{te=x.apply(this&&this.$id===t?this:S,_)}catch(ee){throw si(z,ee),ee}return te instanceof Promise?te.then(ee=>(si(N,ee),ee)).catch(ee=>(si(z,ee),Promise.reject(ee))):(si(N,te),te)}}const y={_p:r,$id:t,$onAction:ev.bind(null,p),$patch:g,$reset:b,$subscribe(k,x={}){const _=ev(f,k,x.detached,()=>N()),N=s.run(()=>sn(()=>r.state.value[t],z=>{(x.flush==="sync"?c:l)&&k({storeId:t,type:Bs.direct,events:d},z)},hr({},u,x)));return _},$dispose:v},S=$t(hr({},y));r._s.set(t,S);const A=r._e.run(()=>(s=ey(),s.run(()=>e())));for(const k in A){const x=A[k];if(Le(x)&&!sx(x)||Cr(x))i||(h&&ix(x)&&(Le(x)?x.value=h[k]:up(x,h[k])),r.state.value[t][k]=x);else if(typeof x=="function"){const _=w(k,x);A[k]=_,a.actions[k]=x}}return hr(S,A),hr(Fe(S),A),Object.defineProperty(S,"$state",{get:()=>r.state.value[t],set:k=>{g(x=>{hr(x,k)})}}),r._p.forEach(k=>{hr(S,s.run(()=>k({store:S,app:r._a,pinia:r,options:a})))}),h&&i&&n.hydrate&&n.hydrate(S.$state,h),l=!0,c=!0,S}function Wn(t,e,n){let r,o;const i=typeof e=="function";typeof t=="string"?(r=t,o=i?n:e):(o=t,r=t.id);function s(a,u){const l=cr();return a=a||l&&Dn(O0),a&&_a(a),a=x0,a._s.has(r)||(i?T0(r,e,o,a):ax(r,o,a)),a._s.get(r)}return s.$id=r,s}function Sz(t){{t=Fe(t);const e={};for(const n in t){const r=t[n];(Le(r)||Cr(r))&&(e[n]=$n(t,n))}return e}}var ce=(t=>(t.LIST="LIST",t.CREATION="CREATION",t.EDITION="EDITION",t.DELETION="DELETION",t.SELECTION="SELECTION",t))(ce||{});const Nr={LIST:{isLoading:!1,allIds:[],byId:{},totalItems:0,error:"",resetList:!1,view:null},CREATION:{isLoading:!1,created:null,violations:null,error:""},EDITION:{isLoading:!1,edited:null,violations:null,error:"",activeSlug:null,retrieved:null},DELETION:{deleted:null,isLoading:!1,error:""},SELECTION:{selectItems:[],isLoading:!1,error:""}},Ez=Wn("page",{state:()=>O({resource:"/pages",activeSlug:null},Nr),actions:{findBySlug(t){var e;return(e=this.list.find(n=>n.url===t))!=null?e:null},setActiveSlug(t){this.activeSlug=t}},getters:{findByActiveSlug(t){return this.list.filter(e=>e.category&&e.category.slug===t.activeSlug)},menu(){const t=[];this.list.forEach(r=>{var o;if(!(!r||!r.showInMenu))if(r.category){if(!r.category.showInMenu)return;const i=t.find(s=>r.category.slug===s.slug);i?(o=i.children)==null||o.push({name:r.title,url:r.url,slug:null,children:[]}):t.push({name:r.category.name,slug:r.category.slug,url:null,children:[{name:r.title,url:r.url,slug:null}]})}else t.push({name:r.title,url:r.url,slug:null,children:[]})});const e=r=>{r.length!==0&&r.unshift({name:"Blog",url:"/blog",slug:null,children:[]})},n=r=>{r.length!==0&&(r.push({name:"Contacte-nous !",url:"/contact",slug:null,children:[]}),r.push({name:"Rejoindre le groupe fondateur",url:"/nous-rejoindre",slug:null,children:[]}))};return e(t),n(t),t}}});var Zo=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n};const eu=void 0;var Az=Ke({name:"ClientOnly",props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:e}){const n=tt(!1);return co(()=>{n.value=!0}),r=>{var a;if(n.value)return(a=e.default)==null?void 0:a.call(e);const o=e.fallback||e.placeholder;if(o)return o();const i=r.fallback||r.placeholder||"",s=r.fallbackTag||r.placeholderTag||"span";return rc(s,null,i)}}});/**
  * vee-validate v4.5.11
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function zo(t){return typeof t=="function"}function al(t){return t==null}const Ii=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function M0(t){return Number(t)>=0}function ux(t){const e=parseFloat(t);return isNaN(e)?t:e}const N0={};function lx(t,e){fx(t,e),N0[t]=e}function cx(t){return N0[t]}function fx(t,e){if(!zo(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const Go=Symbol("vee-validate-form"),px=Symbol("vee-validate-field-instance"),Vu=Symbol("Default empty value");function lp(t){return zo(t)&&!!t.__locatorRef}function dx(t){return["input","textarea","select"].includes(t)}function hx(t,e){return dx(t)&&e.type==="file"}function Ls(t){return!!t&&zo(t.validate)}function aa(t){return t==="checkbox"||t==="radio"}function mx(t){return Ii(t)||Array.isArray(t)}function vx(t){return Array.isArray(t)?t.length===0:Ii(t)&&Object.keys(t).length===0}function uc(t){return/^\[.+\]$/i.test(t)}function gx(t){return F0(t)&&t.multiple}function F0(t){return t.tagName==="SELECT"}function yx(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function bx(t,e){return yx(t,e)||hx(t,e)}function Cx(t){return xd(t)&&t.target&&"submit"in t.target}function xd(t){return t?!!(typeof Event!="undefined"&&zo(Event)&&t instanceof Event||t&&t.srcElement):!1}function cp(t,e){return e in t&&t[e]!==Vu}function Od(t){return uc(t)?t.replace(/\[|\]/gi,""):t}function At(t,e,n){return t?uc(e)?t[Od(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,i)=>mx(o)&&i in o?o[i]:n,t):n}function fi(t,e,n){if(uc(e)){t[Od(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let i=0;i<r.length;i++){if(i===r.length-1){o[r[i]]=n;return}(!(r[i]in o)||al(o[r[i]]))&&(o[r[i]]=M0(r[i+1])?[]:{}),o=o[r[i]]}}function ef(t,e){if(Array.isArray(t)&&M0(e)){t.splice(Number(e),1);return}Ii(t)&&delete t[e]}function tf(t,e){if(uc(e)){delete t[Od(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let i=0;i<n.length;i++){if(i===n.length-1){ef(r,n[i]);break}if(!(n[i]in r)||al(r[n[i]]))break;r=r[n[i]]}const o=n.map((i,s)=>At(t,n.slice(0,s).join(".")));for(let i=o.length-1;i>=0;i--)if(!!vx(o[i])){if(i===0){ef(t,n[0]);continue}ef(o[i-1],n[i-1])}}function Lt(t){return Object.keys(t)}function Ta(t,e=void 0){const n=cr();return(n==null?void 0:n.provides[t])||Dn(t,e)}function tv(t){my(`[vee-validate]: ${t}`)}function fp(t,e,n){if(Array.isArray(t)){const r=[...t],o=r.indexOf(e);return o>=0?r.splice(o,1):r.push(e),r}return t===e?n:e}function wx(t,e=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const i=t(...o);r.forEach(s=>s(i)),r=[]},e),new Promise(i=>r.push(i))}}const lc=(t,e,n)=>e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var r,o;return(o=(r=e.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:e.slots.default;function nf(t){if(R0(t))return t._value}function R0(t){return"_value"in t}function _d(t){if(!xd(t))return t;const e=t.target;if(aa(e.type)&&R0(e))return nf(e);if(e.type==="file"&&e.files)return Array.from(e.files);if(gx(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(nf);if(F0(e)){const n=Array.from(e.options).find(r=>r.selected);return n?nf(n):e.value}return e.value}function I0(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Ii(t)&&t._$$isNormalized?t:Ii(t)?Object.keys(t).reduce((n,r)=>{const o=Sx(t[r]);return t[r]!==!1&&(n[r]=nv(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const o=Ex(r);return o.name&&(n[o.name]=nv(o.params)),n},e):e}function Sx(t){return t===!0?[]:Array.isArray(t)||Ii(t)?t:[t]}function nv(t){const e=n=>typeof n=="string"&&n[0]==="@"?Ax(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const Ex=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function Ax(t){const e=n=>At(n,t)||n[t];return e.__locatorRef=t,e}function kx(t){return Array.isArray(t)?t.filter(lp):Lt(t).filter(e=>lp(t[e])).map(e=>t[e])}const Dx={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let pp=Object.assign({},Dx);const Td=()=>pp,xx=t=>{pp=Object.assign(Object.assign({},pp),t)},Ox=xx;async function P0(t,e,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,bails:r!=null?r:!0,formData:(n==null?void 0:n.values)||{}},s=(await _x(o,t)).errors;return{errors:s,valid:!s.length}}async function _x(t,e){if(Ls(t.rules))return Tx(e,t.rules,{bails:t.bails});if(zo(t.rules)||Array.isArray(t.rules)){const s={field:t.name,form:t.formData,value:e},a=Array.isArray(t.rules)?t.rules:[t.rules],u=a.length,l=[];for(let c=0;c<u;c++){const p=await a[c](e,s);if(typeof p!="string"&&p)continue;const h=typeof p=="string"?p:B0(s);if(l.push(h),t.bails)return{errors:l}}return{errors:l}}const n=Object.assign(Object.assign({},t),{rules:I0(t.rules)}),r=[],o=Object.keys(n.rules),i=o.length;for(let s=0;s<i;s++){const a=o[s],u=await Mx(n,e,{name:a,params:n.rules[a]});if(u.error&&(r.push(u.error),t.bails))return{errors:r}}return{errors:r}}async function Tx(t,e,n){var r;return{errors:await e.validate(t,{abortEarly:(r=n.bails)!==null&&r!==void 0?r:!0}).then(()=>[]).catch(i=>{if(i.name==="ValidationError")return i.errors;throw i})}}async function Mx(t,e,n){const r=cx(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=Nx(n.params,t.formData),i={field:t.name,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},s=await r(e,o,i);return typeof s=="string"?{error:s}:{error:s?void 0:B0(i)}}function B0(t){const e=Td().generateMessage;return e?e(t):"Field is invalid"}function Nx(t,e){const n=r=>lp(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,o)=>(r[o]=n(t[o]),r),{})}async function Fx(t,e){const n=await t.validate(e,{abortEarly:!1}).then(()=>[]).catch(i=>{if(i.name!=="ValidationError")throw i;return i.inner||[]}),r={},o={};for(const i of n){const s=i.errors;r[i.path]={valid:!s.length,errors:s},s.length&&(o[i.path]=s[0])}return{valid:!n.length,results:r,errors:o}}async function Rx(t,e,n){const o=Lt(t).map(async l=>{var c,f,p;const d=await P0(At(e,l),t[l],{name:((c=n==null?void 0:n.names)===null||c===void 0?void 0:c[l])||l,values:e,bails:(p=(f=n==null?void 0:n.bailsMap)===null||f===void 0?void 0:f[l])!==null&&p!==void 0?p:!0});return Object.assign(Object.assign({},d),{path:l})});let i=!0;const s=await Promise.all(o),a={},u={};for(const l of s)a[l.path]={valid:l.valid,errors:l.errors},l.valid||(i=!1,u[l.path]=l.errors[0]);return{valid:i,results:a,errors:u}}function rv(t,e,n){typeof n.value=="object"&&(n.value=bt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function bt(t){if(typeof t!="object")return t;var e=0,n,r,o,i=Object.prototype.toString.call(t);if(i==="[object Object]"?o=Object.create(t.__proto__||null):i==="[object Array]"?o=Array(t.length):i==="[object Set]"?(o=new Set,t.forEach(function(s){o.add(bt(s))})):i==="[object Map]"?(o=new Map,t.forEach(function(s,a){o.set(bt(a),bt(s))})):i==="[object Date]"?o=new Date(+t):i==="[object RegExp]"?o=new RegExp(t.source,t.flags):i==="[object DataView]"?o=new t.constructor(bt(t.buffer)):i==="[object ArrayBuffer]"?o=t.slice(0):i.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)rv(o,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(o,n=r[e])&&o[n]===t[n]||rv(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}var ul=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],n.get(o[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(e[o]!==n[o])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n};let ov=0;function Ix(t,e){const{value:n,initialValue:r,setInitialValue:o}=Px(t,e.modelValue,!e.standalone),{errorMessage:i,errors:s,setErrors:a}=Lx(t,!e.standalone),u=Bx(n,r,s),l=ov>=Number.MAX_SAFE_INTEGER?0:++ov;function c(f){var p;"value"in f&&(n.value=f.value),"errors"in f&&a(f.errors),"touched"in f&&(u.touched=(p=f.touched)!==null&&p!==void 0?p:u.touched),"initialValue"in f&&o(f.initialValue)}return{id:l,path:t,value:n,initialValue:r,meta:u,errors:s,errorMessage:i,setState:c}}function Px(t,e,n){const r=n?Ta(Go,void 0):void 0,o=tt(le(e));function i(){return r?At(r.meta.value.initialValues,le(t),le(o)):le(o)}function s(c){if(!r){o.value=c;return}r.setFieldInitialValue(le(t),c)}const a=ke(i);if(!r)return{value:tt(i()),initialValue:a,setInitialValue:s};const u=e?le(e):At(r.values,le(t),le(a));return r.stageInitialValue(le(t),u),{value:ke({get(){return At(r.values,le(t))},set(c){r.setFieldValue(le(t),c)}}),initialValue:a,setInitialValue:s}}function Bx(t,e,n){const r=$t({touched:!1,pending:!1,valid:!0,validated:!!le(n).length,initialValue:ke(()=>le(e)),dirty:ke(()=>!ul(le(t),le(e)))});return sn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function Lx(t,e){const n=e?Ta(Go,void 0):void 0;function r(i){return i?Array.isArray(i)?i:[i]:[]}if(!n){const i=tt([]);return{errors:i,errorMessage:ke(()=>i.value[0]),setErrors:s=>{i.value=r(s)}}}const o=ke(()=>n.errorBag.value[le(t)]||[]);return{errors:o,errorMessage:ke(()=>o.value[0]),setErrors:i=>{n.setFieldErrorBag(le(t),r(i))}}}function zx(t,e,n){return aa(n==null?void 0:n.type)?Vx(t,e,n):L0(t,e,n)}function L0(t,e,n){const{initialValue:r,validateOnMount:o,bails:i,type:s,checkedValue:a,label:u,validateOnValueUpdate:l,uncheckedValue:c,standalone:f}=$x(le(t),n),p=f?void 0:Ta(Go);let d=!1;const{id:h,value:m,initialValue:g,meta:b,setState:v,errors:w,errorMessage:y}=Ix(t,{modelValue:r,standalone:f}),S=()=>{b.touched=!0},A=ke(()=>{let q=le(e);const ge=le(p==null?void 0:p.schema);return ge&&!Ls(ge)&&(q=Hx(ge,le(t))||q),Ls(q)||zo(q)||Array.isArray(q)?q:I0(q)});async function k(q){var ge,De;return p!=null&&p.validateSchema?(ge=(await p.validateSchema(q)).results[le(t)])!==null&&ge!==void 0?ge:{valid:!0,errors:[]}:P0(m.value,A.value,{name:le(u)||le(t),values:(De=p==null?void 0:p.values)!==null&&De!==void 0?De:{},bails:i})}async function x(){b.pending=!0,b.validated=!0;const q=await k("validated-only");return d&&(q.valid=!0,q.errors=[]),v({errors:q.errors}),b.pending=!1,q}async function _(){const q=await k("silent");return d&&(q.valid=!0),b.valid=q.valid,q}function N(q){return!(q!=null&&q.mode)||(q==null?void 0:q.mode)==="force"||(q==null?void 0:q.mode)==="validated-only"?x():_()}const z=(q,ge=!0)=>{const De=_d(q);m.value=De,!l&&ge&&x()};co(()=>{if(o)return x();(!p||!p.validateSchema)&&_()});function M(q){b.touched=q}let H;function te(){H=sn(m,l?x:_,{deep:!0})}te();function ee(q){var ge;H==null||H();const De=q&&"value"in q?q.value:g.value;v({value:bt(De),initialValue:bt(De),touched:(ge=q==null?void 0:q.touched)!==null&&ge!==void 0?ge:!1,errors:(q==null?void 0:q.errors)||[]}),b.pending=!1,b.validated=!1,_(),tr(()=>{te()})}function Y(q){m.value=q}function pe(q){v({errors:Array.isArray(q)?q:[q]})}const oe={id:h,name:t,label:u,value:m,meta:b,errors:w,errorMessage:y,type:s,checkedValue:a,uncheckedValue:c,bails:i,resetField:ee,handleReset:()=>ee(),validate:N,handleChange:z,handleBlur:S,setState:v,setTouched:M,setErrors:pe,setValue:Y};if(Sr(px,oe),Le(e)&&typeof le(e)!="function"&&sn(e,(q,ge)=>{ul(q,ge)||(b.validated?x():_())},{deep:!0}),!p)return oe;p.register(oe),lr(()=>{d=!0,p.unregister(oe)});const we=ke(()=>{const q=A.value;return!q||zo(q)||Ls(q)||Array.isArray(q)?{}:Object.keys(q).reduce((ge,De)=>{const Ge=kx(q[De]).map(pt=>pt.__locatorRef).reduce((pt,P)=>{const X=At(p.values,P)||p.values[P];return X!==void 0&&(pt[P]=X),pt},{});return Object.assign(ge,Ge),ge},{})});return sn(we,(q,ge)=>{if(!Object.keys(q).length)return;!ul(q,ge)&&(b.validated?x():_())}),oe}function $x(t,e){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:t,validateOnValueUpdate:!0,standalone:!1});if(!e)return n();const r="valueProp"in e?e.valueProp:e.checkedValue;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{checkedValue:r})}function Hx(t,e){if(!!t)return t[e]}function Vx(t,e,n){const r=n!=null&&n.standalone?void 0:Ta(Go),o=n==null?void 0:n.checkedValue,i=n==null?void 0:n.uncheckedValue;function s(a){const u=a.handleChange,l=ke(()=>{const f=le(a.value),p=le(o);return Array.isArray(f)?f.includes(p):p===f});function c(f,p=!0){var d,h;if(l.value===((h=(d=f)===null||d===void 0?void 0:d.target)===null||h===void 0?void 0:h.checked))return;let m=_d(f);r||(m=fp(le(a.value),le(o),le(i))),u(m,p)}return lr(()=>{l.value&&c(le(o),!1)}),Object.assign(Object.assign({},a),{checked:l,checkedValue:o,uncheckedValue:i,handleChange:c})}return s(L0(t,e,n))}const jx=Ke({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Td().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Vu},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1}},setup(t,e){const n=$n(t,"rules"),r=$n(t,"name"),o=$n(t,"label"),i=$n(t,"uncheckedValue"),s=cp(t,"onUpdate:modelValue"),{errors:a,value:u,errorMessage:l,validate:c,handleChange:f,handleBlur:p,setTouched:d,resetField:h,handleReset:m,meta:g,checked:b,setErrors:v}=zx(r,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:Wx(t,e),checkedValue:e.attrs.value,uncheckedValue:i,label:o,validateOnValueUpdate:!1}),w=s?function(N,z=!0){f(N,z),e.emit("update:modelValue",u.value)}:f,y=_=>{aa(e.attrs.type)||(u.value=_d(_))},S=s?function(N){y(N),e.emit("update:modelValue",u.value)}:y,A=ke(()=>{const{validateOnInput:_,validateOnChange:N,validateOnBlur:z,validateOnModelUpdate:M}=qx(t),H=[p,e.attrs.onBlur,z?c:void 0].filter(Boolean),te=[oe=>w(oe,_),e.attrs.onInput].filter(Boolean),ee=[oe=>w(oe,N),e.attrs.onChange].filter(Boolean),Y={name:t.name,onBlur:H,onInput:te,onChange:ee};Y["onUpdate:modelValue"]=oe=>w(oe,M),aa(e.attrs.type)&&b?Y.checked=b.value:Y.value=u.value;const pe=iv(t,e);return bx(pe,e.attrs)&&delete Y.value,Y}),k=$n(t,"modelValue");sn(k,_=>{_===Vu&&u.value===void 0||_!==Ux(u.value,t.modelModifiers)&&(u.value=_===Vu?void 0:_,c())});function x(){return{field:A.value,value:u.value,meta:g,errors:a.value,errorMessage:l.value,validate:c,resetField:h,handleChange:w,handleInput:S,handleReset:m,handleBlur:p,setTouched:d,setErrors:v}}return e.expose({setErrors:v,setTouched:d,reset:h,validate:c,handleChange:f}),()=>{const _=Cd(iv(t,e)),N=lc(_,e,x);return _?it(_,Object.assign(Object.assign({},e.attrs),A.value),N):N}}});function iv(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function qx(t){var e,n,r,o;const{validateOnInput:i,validateOnChange:s,validateOnBlur:a,validateOnModelUpdate:u}=Td();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:i,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:s,validateOnBlur:(r=t.validateOnBlur)!==null&&r!==void 0?r:a,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:u}}function Ux(t,e){return e.number?ux(t):t}function Wx(t,e){return aa(e.attrs.type)?cp(t,"modelValue")?t.modelValue:void 0:cp(t,"modelValue")?t.modelValue:e.attrs.value}const kz=jx;let Jx=0;function Kx(t){const e=Jx++;let n=!1;const r=tt({}),o=tt(!1),i=tt(0),s={},a=$t(bt(le(t==null?void 0:t.initialValues)||{})),{errorBag:u,setErrorBag:l,setFieldErrorBag:c}=Yx(t==null?void 0:t.initialErrors),f=ke(()=>Lt(u.value).reduce((T,R)=>{const C=u.value[R];return C&&C.length&&(T[R]=C[0]),T},{}));function p(T){const R=r.value[T];return Array.isArray(R)?R[0]:R}function d(T){return!!r.value[T]}const h=ke(()=>Lt(r.value).reduce((T,R)=>{const C=p(R);return C&&(T[R]=le(C.label||C.name)||""),T},{})),m=ke(()=>Lt(r.value).reduce((T,R)=>{var C;const E=p(R);return E&&(T[R]=(C=E.bails)!==null&&C!==void 0?C:!0),T},{})),g=Object.assign({},(t==null?void 0:t.initialErrors)||{}),{initialValues:b,originalInitialValues:v,setInitialValues:w}=Gx(r,a,t==null?void 0:t.initialValues),y=Zx(r,a,b,f),S=t==null?void 0:t.validationSchema,A={formId:e,fieldsByPath:r,values:a,errorBag:u,errors:f,schema:S,submitCount:i,meta:y,isSubmitting:o,fieldArraysLookup:s,validateSchema:le(S)?Te:void 0,validate:ge,register:we,unregister:q,setFieldErrorBag:c,validateField:De,setFieldValue:M,setValues:H,setErrors:z,setFieldError:N,setFieldTouched:te,setTouched:ee,resetForm:Y,handleSubmit:Ge,stageInitialValue:X,unsetInitialValue:P,setFieldInitialValue:pt};function k(T){return Array.isArray(T)}function x(T,R){return Array.isArray(T)?T.forEach(R):R(T)}function _(T){Object.values(r.value).forEach(R=>{!R||x(R,T)})}function N(T,R){c(T,R)}function z(T){l(T)}function M(T,R,{force:C}={force:!1}){var E;const D=r.value[T],B=bt(R);if(!D){fi(a,T,B);return}if(k(D)&&((E=D[0])===null||E===void 0?void 0:E.type)==="checkbox"&&!Array.isArray(R)){const U=bt(fp(At(a,T)||[],R,void 0));fi(a,T,U);return}let L=R;!k(D)&&D.type==="checkbox"&&!C&&!n&&(L=bt(fp(At(a,T),R,le(D.uncheckedValue)))),fi(a,T,L)}function H(T){Lt(a).forEach(R=>{delete a[R]}),Lt(T).forEach(R=>{M(R,T[R])}),Object.values(s).forEach(R=>R&&R.reset())}function te(T,R){const C=r.value[T];C&&x(C,E=>E.setTouched(R))}function ee(T){Lt(T).forEach(R=>{te(R,!!T[R])})}function Y(T){n=!0,T!=null&&T.values?(w(T.values),H(T==null?void 0:T.values)):(w(v.value),H(v.value)),_(R=>R.resetField()),T!=null&&T.touched&&ee(T.touched),z((T==null?void 0:T.errors)||{}),i.value=(T==null?void 0:T.submitCount)||0,tr(()=>{n=!1})}function pe(T,R){const C=ir(T),E=R;if(!r.value[E]){r.value[E]=C;return}const D=r.value[E];D&&!Array.isArray(D)&&(r.value[E]=[D]),r.value[E]=[...r.value[E],C]}function oe(T,R){const C=R,E=r.value[C];if(!!E){if(!k(E)&&T.id===E.id){delete r.value[C];return}if(k(E)){const D=E.findIndex(B=>B.id===T.id);if(D===-1)return;if(E.splice(D,1),E.length===1){r.value[C]=E[0];return}E.length||delete r.value[C]}}}function we(T){const R=le(T.name);pe(T,R),Le(T.name)&&sn(T.name,async(E,D)=>{await tr(),oe(T,D),pe(T,E),(f.value[D]||f.value[E])&&(N(D,void 0),De(E)),await tr(),d(D)||tf(a,D)});const C=le(T.errorMessage);C&&(g==null?void 0:g[R])!==C&&De(R),delete g[R]}function q(T){const R=le(T.name);oe(T,R),tr(()=>{d(R)||(N(R,void 0),tf(a,R))})}async function ge(T){if(_(D=>D.meta.validated=!0),A.validateSchema)return A.validateSchema((T==null?void 0:T.mode)||"force");const R=await Promise.all(Object.values(r.value).map(D=>{const B=Array.isArray(D)?D[0]:D;return B?B.validate(T).then(L=>({key:le(B.name),valid:L.valid,errors:L.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),C={},E={};for(const D of R)C[D.key]={valid:D.valid,errors:D.errors},D.errors.length&&(E[D.key]=D.errors[0]);return{valid:R.every(D=>D.valid),results:C,errors:E}}async function De(T){const R=r.value[T];return R?Array.isArray(R)?R.map(C=>C.validate())[0]:R.validate():(my(`field with name ${T} was not found`),Promise.resolve({errors:[],valid:!0}))}function Ge(T,R){return function(E){return E instanceof Event&&(E.preventDefault(),E.stopPropagation()),ee(Lt(r.value).reduce((D,B)=>(D[B]=!0,D),{})),o.value=!0,i.value++,ge().then(D=>{if(D.valid&&typeof T=="function")return T(bt(a),{evt:E,setErrors:z,setFieldError:N,setTouched:ee,setFieldTouched:te,setValues:H,setFieldValue:M,resetForm:Y});!D.valid&&typeof R=="function"&&R({values:bt(a),evt:E,errors:D.errors,results:D.results})}).then(D=>(o.value=!1,D),D=>{throw o.value=!1,D})}}function pt(T,R){fi(b.value,T,bt(R))}function P(T){tf(b.value,T)}function X(T,R){fi(a,T,R),pt(T,R)}async function J(){const T=le(S);return T?Ls(T)?await Fx(T,a):await Rx(T,a,{names:h.value,bailsMap:m.value}):{valid:!0,results:{},errors:{}}}const ne=wx(J,5);async function Te(T){const R=await ne(),C=A.fieldsByPath.value||{},E=Lt(A.errorBag.value);return[...new Set([...Lt(R.results),...Lt(C),...E])].reduce((B,L)=>{const U=C[L],Q=(R.results[L]||{errors:[]}).errors,V={errors:Q,valid:!Q.length};if(B.results[L]=V,V.valid||(B.errors[L]=V.errors[0]),!U)return N(L,Q),B;if(x(U,$=>$.meta.valid=V.valid),T==="silent")return B;const W=Array.isArray(U)?U.some($=>$.meta.validated):U.meta.validated;return T==="validated-only"&&!W||x(U,$=>$.setState({errors:V.errors})),B},{valid:R.valid,results:{},errors:{}})}const Oe=Ge((T,{evt:R})=>{Cx(R)&&R.target.submit()});return co(()=>{if(t!=null&&t.initialErrors&&z(t.initialErrors),t!=null&&t.initialTouched&&ee(t.initialTouched),t!=null&&t.validateOnMount){ge();return}A.validateSchema&&A.validateSchema("silent")}),Le(S)&&sn(S,()=>{var T;(T=A.validateSchema)===null||T===void 0||T.call(A,"validated-only")}),Sr(Go,A),{errors:f,meta:y,values:a,isSubmitting:o,submitCount:i,validate:ge,validateField:De,handleReset:()=>Y(),resetForm:Y,handleSubmit:Ge,submitForm:Oe,setFieldError:N,setErrors:z,setFieldValue:M,setValues:H,setFieldTouched:te,setTouched:ee}}function Zx(t,e,n,r){const o={touched:"some",pending:"some",valid:"every"},i=ke(()=>!ul(e,le(n)));function s(){const u=Object.values(t.value).flat(1).filter(Boolean);return Lt(o).reduce((l,c)=>{const f=o[c];return l[c]=u[f](p=>p.meta[c]),l},{})}const a=$t(s());return Qu(()=>{const u=s();a.touched=u.touched,a.valid=u.valid,a.pending=u.pending}),ke(()=>Object.assign(Object.assign({initialValues:le(n)},a),{valid:a.valid&&!Lt(r.value).length,dirty:i.value}))}function Gx(t,e,n){const r=tt(bt(le(n))||{}),o=tt(bt(le(n))||{});function i(s,a=!1){r.value=bt(s),o.value=bt(s),a&&Lt(t.value).forEach(u=>{const l=t.value[u],c=Array.isArray(l)?l.some(p=>p.meta.touched):l==null?void 0:l.meta.touched;if(!l||c)return;const f=At(r.value,u);fi(e,u,bt(f))})}return Le(n)&&sn(n,s=>{i(s,!0)},{deep:!0}),{initialValues:r,originalInitialValues:o,setInitialValues:i}}function Yx(t){const e=tt({});function n(i){return Array.isArray(i)?i:i?[i]:[]}function r(i,s){if(!s){delete e.value[i];return}e.value[i]=n(s)}function o(i){e.value=Lt(i).reduce((s,a)=>{const u=i[a];return u&&(s[a]=n(u)),s},{})}return t&&o(t),{errorBag:e,setErrorBag:o,setFieldErrorBag:r}}const Qx=Ke({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0}},setup(t,e){const n=$n(t,"initialValues"),r=$n(t,"validationSchema"),{errors:o,values:i,meta:s,isSubmitting:a,submitCount:u,validate:l,validateField:c,handleReset:f,resetForm:p,handleSubmit:d,submitForm:h,setErrors:m,setFieldError:g,setFieldValue:b,setValues:v,setFieldTouched:w,setTouched:y}=Kx({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount}),S=t.onSubmit?d(t.onSubmit,t.onInvalidSubmit):h;function A(_){xd(_)&&_.preventDefault(),f(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function k(_,N){return d(typeof _=="function"&&!N?_:N,t.onInvalidSubmit)(_)}function x(){return{meta:s.value,errors:o.value,values:i,isSubmitting:a.value,submitCount:u.value,validate:l,validateField:c,handleSubmit:k,handleReset:f,submitForm:h,setErrors:m,setFieldError:g,setFieldValue:b,setValues:v,setFieldTouched:w,setTouched:y,resetForm:p}}return e.expose({setFieldError:g,setErrors:m,setFieldValue:b,setValues:v,setFieldTouched:w,setTouched:y,resetForm:p,validate:l,validateField:c}),function(){const N=t.as==="form"?t.as:Cd(t.as),z=lc(N,e,x);if(!t.as)return z;const M=t.as==="form"?{novalidate:!0}:{};return it(N,Object.assign(Object.assign(Object.assign({},M),e.attrs),{onSubmit:S,onReset:A}),z)}}}),Dz=Qx;let Xx=0;function eO(t){const e=Xx++,n=Ta(Go,void 0),r=tt([]),o=()=>{},i={fields:Ku(r),remove:o,push:o,swap:o,insert:o,update:o,replace:o,prepend:o};if(!n)return tv("FieldArray requires being a child of `<Form/>` or `useForm` being called before it. Array fields may not work correctly"),i;if(!le(t))return tv("FieldArray requires a field path to be provided, did you forget to pass the `name` prop?"),i;let s=0;function a(){const b=At(n==null?void 0:n.values,le(t),[]);r.value=b.map(l),u()}a();function u(){const b=r.value.length;for(let v=0;v<b;v++){const w=r.value[v];w.isFirst=v===0,w.isLast=v===b-1}}function l(b){const v=s++;return{key:v,value:ke(()=>{const y=At(n==null?void 0:n.values,le(t),[]),S=r.value.findIndex(A=>A.key===v);return S===-1?b:y[S]}),isFirst:!1,isLast:!1}}function c(b){const v=le(t),w=At(n==null?void 0:n.values,v);if(!w||!Array.isArray(w))return;const y=[...w];y.splice(b,1),n==null||n.unsetInitialValue(v+`[${b}]`),n==null||n.setFieldValue(v,y),r.value.splice(b,1),u()}function f(b){const v=le(t),w=At(n==null?void 0:n.values,v),y=al(w)?[]:w;if(!Array.isArray(y))return;const S=[...y];S.push(b),n==null||n.stageInitialValue(v+`[${S.length-1}]`,b),n==null||n.setFieldValue(v,S),r.value.push(l(b)),u()}function p(b,v){const w=le(t),y=At(n==null?void 0:n.values,w);if(!Array.isArray(y)||!(b in y)||!(v in y))return;const S=[...y],A=[...r.value],k=S[b];S[b]=S[v],S[v]=k;const x=A[b];A[b]=A[v],A[v]=x,n==null||n.setFieldValue(w,S),r.value=A,u()}function d(b,v){const w=le(t),y=At(n==null?void 0:n.values,w);if(!Array.isArray(y)||y.length<b)return;const S=[...y],A=[...r.value];S.splice(b,0,v),A.splice(b,0,l(v)),n==null||n.setFieldValue(w,S),r.value=A,u()}function h(b){const v=le(t);n==null||n.setFieldValue(v,b),a()}function m(b,v){const w=le(t),y=At(n==null?void 0:n.values,w);!Array.isArray(y)||y.length-1<b||n==null||n.setFieldValue(`${w}[${b}]`,v)}function g(b){const v=le(t),w=At(n==null?void 0:n.values,v),y=al(w)?[]:w;if(!Array.isArray(y))return;const S=[b,...y];n==null||n.stageInitialValue(v+`[${S.length-1}]`,b),n==null||n.setFieldValue(v,S),r.value.unshift(l(b)),u()}return n.fieldArraysLookup[e]={reset:a},lr(()=>{delete n.fieldArraysLookup[e]}),{fields:Ku(r),remove:c,push:f,swap:p,insert:d,update:m,replace:h,prepend:g}}Ke({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,e){const{push:n,remove:r,swap:o,insert:i,replace:s,update:a,prepend:u,fields:l}=eO($n(t,"name"));function c(){return{fields:l.value,push:n,remove:r,swap:o,insert:i,update:a,replace:s,prepend:u}}return e.expose({push:n,remove:r,swap:o,insert:i,update:a,replace:s,prepend:u}),()=>lc(void 0,e,c)}});Ke({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=Dn(Go,void 0),r=ke(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const i=t.as?Cd(t.as):t.as,s=lc(i,e,o),a=Object.assign({role:"alert"},e.attrs);return!i&&(Array.isArray(s)||!s)&&(s==null?void 0:s.length)?s:(Array.isArray(s)||!s)&&!(s!=null&&s.length)?it(i||"span",a,r.value):it(i,a,s)}}});const xz=Wn("blog_articles",{state:()=>O({resource:"/blog_articles",tags:[],activeTags:[]},Nr),actions:{findBySlug(t){return this.list.find(e=>e.url===t)},async fetchTags(){const t=await this.$nuxt.$apiFetch("/blog_articles/tags").catch(async e=>{});!t||(this.tags=t["hydra:member"])},getRandomImage(t){if(!t.mediaNode||t.mediaNode.length===0)return null;const e=t.mediaNode.mediaObjects.filter(n=>n.isImage);return e[Math.floor(Math.random()*e.length)]}},getters:{listWithActiveTags:t=>{const e=t[ce.LIST].allIds.map(n=>t[ce.LIST].byId[n]);return t.activeTags.length===0?e:e.filter(n=>n.tags.some(r=>t.activeTags.includes(r)))}}}),Oz=Wn("media_nodes",{state:()=>O({resource:"/media_nodes",allTreeIds:[],treeById:{},treeError:"",treeIsLoading:!1,resetTree:!1},Nr),actions:{toggleTreeLoading(){this.treeIsLoading=!this.treeIsLoading},resetTree(){Object.assign(this,{allTreeIds:[],treeById:{},treeError:"",treeIsLoading:!1,resetTree:!1})},addTreeItem(t){this.treeById[t["@id"]]=t,!this.allTreeIds.includes(t["@id"])&&this.allTreeIds.push(t["@id"])},handleTreeError(t){this.treeError=t.message},async fetchTree(){this.toggleTreeLoading();const t=await this.$nuxt.$apiFetch(`${this.resource}/tree`).catch(async e=>{await this.handleTreeError(e)}).finally(()=>{this.toggleTreeLoading()});!t||(this.resetTree&&this.resetTree(),t["hydra:member"].forEach(e=>{this.addTreeItem(e)}))}},getters:{findTree:t=>e=>t.treeById[e],tree(t){const e=[];return t.allTreeIds.forEach(n=>{const r=this.findTree(n);return e.push({"@id":r["@id"],id:r.id,children:r.children,name:r.name}),e}),e},rootNodes:t=>t.list.value.filter(e=>!e.parent)}});function Bt(t){this.content=t}Bt.prototype={constructor:Bt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new Bt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Bt(n)},addToStart:function(t,e){return new Bt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Bt(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new Bt(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Bt.from(t),t.size?new Bt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Bt.from(t),t.size?new Bt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Bt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}};Bt.from=function(t){if(t instanceof Bt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Bt(e)};var sv=Bt;function z0(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=z0(o.content,i.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function $0(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),u=s.nodeSize;if(s==a){n-=u,r-=u;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var l=0,c=Math.min(s.text.length,a.text.length);l<c&&s.text[s.text.length-l-1]==a.text[a.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var f=$0(s.content,a.content,n-1,r-1);if(f)return f}n-=u,r-=u}}var I=function(e,n){if(this.content=e,this.size=n||0,n==null)for(var r=0;r<e.length;r++)this.size+=e[r].nodeSize},cc={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};I.prototype.nodesBetween=function(e,n,r,o,i){o===void 0&&(o=0);for(var s=0,a=0;a<n;s++){var u=this.content[s],l=a+u.nodeSize;if(l>e&&r(u,o+a,i,s)!==!1&&u.content.size){var c=a+1;u.nodesBetween(Math.max(0,e-c),Math.min(u.content.size,n-c),r,o+c)}a=l}};I.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)};I.prototype.textBetween=function(e,n,r,o){var i="",s=!0;return this.nodesBetween(e,n,function(a,u){a.isText?(i+=a.text.slice(Math.max(e,u)-u,n-u),s=!r):a.isLeaf&&o?(i+=typeof o=="function"?o(a):o,s=!r):!s&&a.isBlock&&(i+=r,s=!0)},0),i};I.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new I(o,this.size+e.size)};I.prototype.cut=function(e,n){if(n==null&&(n=this.size),e==0&&n==this.size)return this;var r=[],o=0;if(n>e)for(var i=0,s=0;s<n;i++){var a=this.content[i],u=s+a.nodeSize;u>e&&((s<e||u>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=u}return new I(r,o)};I.prototype.cutByIndex=function(e,n){return e==n?I.empty:e==0&&n==this.content.length?this:new I(this.content.slice(e,n))};I.prototype.replaceChild=function(e,n){var r=this.content[e];if(r==n)return this;var o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new I(o,i)};I.prototype.addToStart=function(e){return new I([e].concat(this.content),this.size+e.nodeSize)};I.prototype.addToEnd=function(e){return new I(this.content.concat(e),this.size+e.nodeSize)};I.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0};cc.firstChild.get=function(){return this.content.length?this.content[0]:null};cc.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};cc.childCount.get=function(){return this.content.length};I.prototype.child=function(e){var n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n};I.prototype.maybeChild=function(e){return this.content[e]};I.prototype.forEach=function(e){for(var n=0,r=0;n<this.content.length;n++){var o=this.content[n];e(o,r,n),r+=o.nodeSize}};I.prototype.findDiffStart=function(e,n){return n===void 0&&(n=0),z0(this,e,n)};I.prototype.findDiffEnd=function(e,n,r){return n===void 0&&(n=this.size),r===void 0&&(r=e.size),$0(this,e,n,r)};I.prototype.findIndex=function(e,n){if(n===void 0&&(n=-1),e==0)return tu(0,e);if(e==this.size)return tu(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var r=0,o=0;;r++){var i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?tu(r+1,s):tu(r,o);o=s}};I.prototype.toString=function(){return"<"+this.toStringInner()+">"};I.prototype.toStringInner=function(){return this.content.join(", ")};I.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null};I.fromJSON=function(e,n){if(!n)return I.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new I(n.map(e.nodeFromJSON))};I.fromArray=function(e){if(!e.length)return I.empty;for(var n,r=0,o=0;o<e.length;o++){var i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new I(n||e,r)};I.from=function(e){if(!e)return I.empty;if(e instanceof I)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new I([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(I.prototype,cc);var rf={index:0,offset:0};function tu(t,e){return rf.index=t,rf.offset=e,rf}I.empty=new I([],0);function ll(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!ll(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!ll(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}var Ne=function(e,n){this.type=e,this.attrs=n};Ne.prototype.addToSet=function(e){for(var n,r=!1,o=0;o<e.length;o++){var i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n};Ne.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e};Ne.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1};Ne.prototype.eq=function(e){return this==e||this.type==e.type&&ll(this.attrs,e.attrs)};Ne.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return e};Ne.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");var r=e.marks[n.type];if(!r)throw new RangeError("There is no mark type "+n.type+" in this schema");return r.create(n.attrs)};Ne.sameSet=function(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0};Ne.setFrom=function(e){if(!e||e.length==0)return Ne.none;if(e instanceof Ne)return[e];var n=e.slice();return n.sort(function(r,o){return r.type.rank-o.type.rank}),n};Ne.none=[];function sr(t){var e=Error.call(this,t);return e.__proto__=sr.prototype,e}sr.prototype=Object.create(Error.prototype);sr.prototype.constructor=sr;sr.prototype.name="ReplaceError";var K=function(e,n,r){this.content=e,this.openStart=n,this.openEnd=r},H0={size:{configurable:!0}};H0.size.get=function(){return this.content.size-this.openStart-this.openEnd};K.prototype.insertAt=function(e,n){var r=j0(this.content,e+this.openStart,n,null);return r&&new K(r,this.openStart,this.openEnd)};K.prototype.removeBetween=function(e,n){return new K(V0(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)};K.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd};K.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};K.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e};K.fromJSON=function(e,n){if(!n)return K.empty;var r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new K(I.fromJSON(e,n.content),r,o)};K.maxOpen=function(e,n){n===void 0&&(n=!0);for(var r=0,o=0,i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(var s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new K(e,r,o)};Object.defineProperties(K.prototype,H0);function V0(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),u=a.index,l=a.offset;if(i==e||s.isText){if(l!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(V0(s.content,e-i-1,n-i-1)))}function j0(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var u=j0(a.content,e-s-1,n);return u&&t.replaceChild(i,a.copy(u))}K.empty=new K(I.empty,0,0);function tO(t,e,n){if(n.openStart>t.depth)throw new sr("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new sr("Inconsistent open depths");return q0(t,e,n,0)}function q0(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=q0(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){var a=t.parent,u=a.content;return Io(a,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{var l=nO(n,t),c=l.start,f=l.end;return Io(i,W0(t,c,f,e,r))}else return Io(i,cl(t,e,r))}function U0(t,e){if(!e.type.compatibleContent(t.type))throw new sr("Cannot join "+e.type.name+" onto "+t.type.name)}function dp(t,e,n){var r=t.node(n);return U0(r,e.node(n)),r}function Ro(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function zs(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Ro(t.nodeAfter,r),i++));for(var a=i;a<s;a++)Ro(o.child(a),r);e&&e.depth==n&&e.textOffset&&Ro(e.nodeBefore,r)}function Io(t,e){if(!t.type.validContent(e))throw new sr("Invalid content for node "+t.type.name);return t.copy(e)}function W0(t,e,n,r,o){var i=t.depth>o&&dp(t,e,o+1),s=r.depth>o&&dp(n,r,o+1),a=[];return zs(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(U0(i,s),Ro(Io(i,W0(t,e,n,r,o+1)),a)):(i&&Ro(Io(i,cl(t,e,o+1)),a),zs(e,n,o,a),s&&Ro(Io(s,cl(n,r,o+1)),a)),zs(r,null,o,a),new I(a)}function cl(t,e,n){var r=[];if(zs(null,t,n,r),t.depth>n){var o=dp(t,e,n+1);Ro(Io(o,cl(t,e,n+1)),r)}return zs(e,null,n,r),new I(r)}function nO(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(I.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}var nt=function(e,n,r){this.pos=e,this.path=n,this.depth=n.length/3-1,this.parentOffset=r},Xi={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};nt.prototype.resolveDepth=function(e){return e==null?this.depth:e<0?this.depth+e:e};Xi.parent.get=function(){return this.node(this.depth)};Xi.doc.get=function(){return this.node(0)};nt.prototype.node=function(e){return this.path[this.resolveDepth(e)*3]};nt.prototype.index=function(e){return this.path[this.resolveDepth(e)*3+1]};nt.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)};nt.prototype.start=function(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1};nt.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size};nt.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]};nt.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize};Xi.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};Xi.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r};Xi.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)};nt.prototype.posAtIndex=function(e,n){n=this.resolveDepth(n);for(var r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1,i=0;i<e;i++)o+=r.child(i).nodeSize;return o};nt.prototype.marks=function(){var e=this.parent,n=this.index();if(e.content.size==0)return Ne.none;if(this.textOffset)return e.child(n).marks;var r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){var i=r;r=o,o=i}for(var s=r.marks,a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s};nt.prototype.marksAcross=function(e){var n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;for(var r=n.marks,o=e.parent.maybeChild(e.index()),i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r};nt.prototype.sharedDepth=function(e){for(var n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0};nt.prototype.blockRange=function(e,n){if(e===void 0&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new ua(this,e,r)};nt.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset};nt.prototype.max=function(e){return e.pos>this.pos?e:this};nt.prototype.min=function(e){return e.pos<this.pos?e:this};nt.prototype.toString=function(){for(var e="",n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset};nt.resolve=function(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],o=0,i=n,s=e;;){var a=s.content.findIndex(i),u=a.index,l=a.offset,c=i-l;if(r.push(s,u,o+l),!c||(s=s.child(u),s.isText))break;i=c-1,o+=l+1}return new nt(n,r,i)};nt.resolveCached=function(e,n){for(var r=0;r<of.length;r++){var o=of[r];if(o.pos==n&&o.doc==e)return o}var i=of[sf]=nt.resolve(e,n);return sf=(sf+1)%rO,i};Object.defineProperties(nt.prototype,Xi);var of=[],sf=0,rO=12,ua=function(e,n,r){this.$from=e,this.$to=n,this.depth=r},es={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};es.start.get=function(){return this.$from.before(this.depth+1)};es.end.get=function(){return this.$to.after(this.depth+1)};es.parent.get=function(){return this.$from.node(this.depth)};es.startIndex.get=function(){return this.$from.index(this.depth)};es.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(ua.prototype,es);var oO=Object.create(null),Re=function(e,n,r,o){this.type=e,this.attrs=n,this.content=r||I.empty,this.marks=o||Ne.none},gn={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};gn.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};gn.childCount.get=function(){return this.content.childCount};Re.prototype.child=function(e){return this.content.child(e)};Re.prototype.maybeChild=function(e){return this.content.maybeChild(e)};Re.prototype.forEach=function(e){this.content.forEach(e)};Re.prototype.nodesBetween=function(e,n,r,o){o===void 0&&(o=0),this.content.nodesBetween(e,n,r,o,this)};Re.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)};gn.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Re.prototype.textBetween=function(e,n,r,o){return this.content.textBetween(e,n,r,o)};gn.firstChild.get=function(){return this.content.firstChild};gn.lastChild.get=function(){return this.content.lastChild};Re.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)};Re.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)};Re.prototype.hasMarkup=function(e,n,r){return this.type==e&&ll(this.attrs,n||e.defaultAttrs||oO)&&Ne.sameSet(this.marks,r||Ne.none)};Re.prototype.copy=function(e){return e===void 0&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)};Re.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)};Re.prototype.cut=function(e,n){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))};Re.prototype.slice=function(e,n,r){if(n===void 0&&(n=this.content.size),r===void 0&&(r=!1),e==n)return K.empty;var o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),u=o.node(s),l=u.content.cut(o.pos-a,i.pos-a);return new K(l,o.depth-s,i.depth-s)};Re.prototype.replace=function(e,n,r){return tO(this.resolve(e),this.resolve(n),r)};Re.prototype.nodeAt=function(e){for(var n=this;;){var r=n.content.findIndex(e),o=r.index,i=r.offset;if(n=n.maybeChild(o),!n)return null;if(i==e||n.isText)return n;e-=i+1}};Re.prototype.childAfter=function(e){var n=this.content.findIndex(e),r=n.index,o=n.offset;return{node:this.content.maybeChild(r),index:r,offset:o}};Re.prototype.childBefore=function(e){if(e==0)return{node:null,index:0,offset:0};var n=this.content.findIndex(e),r=n.index,o=n.offset;if(o<e)return{node:this.content.child(r),index:r,offset:o};var i=this.content.child(r-1);return{node:i,index:r-1,offset:o-i.nodeSize}};Re.prototype.resolve=function(e){return nt.resolveCached(this,e)};Re.prototype.resolveNoCache=function(e){return nt.resolve(this,e)};Re.prototype.rangeHasMark=function(e,n,r){var o=!1;return n>e&&this.nodesBetween(e,n,function(i){return r.isInSet(i.marks)&&(o=!0),!o}),o};gn.isBlock.get=function(){return this.type.isBlock};gn.isTextblock.get=function(){return this.type.isTextblock};gn.inlineContent.get=function(){return this.type.inlineContent};gn.isInline.get=function(){return this.type.isInline};gn.isText.get=function(){return this.type.isText};gn.isLeaf.get=function(){return this.type.isLeaf};gn.isAtom.get=function(){return this.type.isAtom};Re.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),J0(this.marks,e)};Re.prototype.contentMatchAt=function(e){var n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n};Re.prototype.canReplace=function(e,n,r,o,i){r===void 0&&(r=I.empty),o===void 0&&(o=0),i===void 0&&(i=r.childCount);var s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(var u=o;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0};Re.prototype.canReplaceWith=function(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;var i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1};Re.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)};Re.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=Ne.none,n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Ne.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(r){return r.type.name}));this.content.forEach(function(r){return r.check()})};Re.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(r){return r.toJSON()})),e};Re.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}var o=I.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,o,r)};Object.defineProperties(Re.prototype,gn);var iO=function(t){function e(r,o,i,s){if(t.call(this,r,o,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):J0(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(o,i){return this.text.slice(o,i)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(o){return o==this.marks?this:new e(this.type,this.attrs,this.text,o)},e.prototype.withText=function(o){return o==this.text?this:new e(this.type,this.attrs,o,this.marks)},e.prototype.cut=function(o,i){return o===void 0&&(o=0),i===void 0&&(i=this.text.length),o==0&&i==this.text.length?this:this.withText(this.text.slice(o,i))},e.prototype.eq=function(o){return this.sameMarkup(o)&&this.text==o.text},e.prototype.toJSON=function(){var o=t.prototype.toJSON.call(this);return o.text=this.text,o},Object.defineProperties(e.prototype,n),e}(Re);function J0(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var Ht=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},fc={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Ht.parse=function(e,n){var r=new pc(e,n);if(r.next==null)return Ht.empty;var o=Z0(r);r.next&&r.err("Unexpected trailing text");var i=pO(fO(o));return dO(i,r),i};Ht.prototype.matchType=function(e){for(var n=0;n<this.next.length;n+=2)if(this.next[n]==e)return this.next[n+1];return null};Ht.prototype.matchFragment=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=e.childCount);for(var o=this,i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o};fc.inlineContent.get=function(){var t=this.next[0];return t?t.isInline:!1};fc.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}};Ht.prototype.compatible=function(e){for(var n=0;n<this.next.length;n+=2)for(var r=0;r<e.next.length;r+=2)if(this.next[n]==e.next[r])return!0;return!1};Ht.prototype.fillBefore=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=0);var o=[this];function i(s,a){var u=s.matchFragment(e,r);if(u&&(!n||u.validEnd))return I.from(a.map(function(d){return d.createAndFill()}));for(var l=0;l<s.next.length;l+=2){var c=s.next[l],f=s.next[l+1];if(!(c.isText||c.hasRequiredAttrs())&&o.indexOf(f)==-1){o.push(f);var p=i(f,a.concat(c));if(p)return p}}}return i(this,[])};Ht.prototype.findWrapping=function(e){for(var n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];var r=this.computeWrapping(e);return this.wrapCache.push(e,r),r};Ht.prototype.computeWrapping=function(e){for(var n=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var o=r.shift(),i=o.match;if(i.matchType(e)){for(var s=[],a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(var u=0;u<i.next.length;u+=2){var l=i.next[u];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||i.next[u+1].validEnd)&&(r.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}};fc.edgeCount.get=function(){return this.next.length>>1};Ht.prototype.edge=function(e){var n=e<<1;if(n>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[n],next:this.next[n+1]}};Ht.prototype.toString=function(){var e=[];function n(r){e.push(r);for(var o=1;o<r.next.length;o+=2)e.indexOf(r.next[o])==-1&&n(r.next[o])}return n(this),e.map(function(r,o){for(var i=o+(r.validEnd?"*":" ")+" ",s=0;s<r.next.length;s+=2)i+=(s?", ":"")+r.next[s].name+"->"+e.indexOf(r.next[s+1]);return i}).join(`
`)};Object.defineProperties(Ht.prototype,fc);Ht.empty=new Ht(!0);var pc=function(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},K0={next:{configurable:!0}};K0.next.get=function(){return this.tokens[this.pos]};pc.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)};pc.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")};Object.defineProperties(pc.prototype,K0);function Z0(t){var e=[];do e.push(sO(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function sO(t){var e=[];do e.push(aO(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function aO(t){for(var e=cO(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=uO(t,e);else break;return e}function av(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function uO(t,e){var n=av(t),r=n;return t.eat(",")&&(t.next!="}"?r=av(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function lO(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function cO(t){if(t.eat("(")){var e=Z0(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{var n=lO(t,t.next).map(function(r){return t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}});return t.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function fO(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,u){var l={term:u,to:a};return e[s].push(l),l}function o(s,a){s.forEach(function(u){return u.to=a})}function i(s,a){if(s.type=="choice")return s.exprs.reduce(function(b,v){return b.concat(i(v,a))},[]);if(s.type=="seq")for(var u=0;;u++){var l=i(s.exprs[u],a);if(u==s.exprs.length-1)return l;o(l,a=n())}else if(s.type=="star"){var c=n();return r(a,c),o(i(s.expr,c),c),[r(c)]}else if(s.type=="plus"){var f=n();return o(i(s.expr,a),f),o(i(s.expr,f),f),[r(f)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){for(var p=a,d=0;d<s.min;d++){var h=n();o(i(s.expr,p),h),p=h}if(s.max==-1)o(i(s.expr,p),p);else for(var m=s.min;m<s.max;m++){var g=n();r(p,g),o(i(s.expr,p),g),p=g}return[r(p)]}else if(s.type=="name")return[r(a,null,s.value)]}}}function G0(t,e){return e-t}function uv(t,e){var n=[];return r(e),n.sort(G0);function r(o){var i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(var s=0;s<i.length;s++){var a=i[s],u=a.term,l=a.to;!u&&n.indexOf(l)==-1&&r(l)}}}function pO(t){var e=Object.create(null);return n(uv(t,0));function n(r){var o=[];r.forEach(function(u){t[u].forEach(function(l){var c=l.term,f=l.to;if(!!c){var p=o.indexOf(c),d=p>-1&&o[p+1];uv(t,f).forEach(function(h){d||o.push(c,d=[]),d.indexOf(h)==-1&&d.push(h)})}})});for(var i=e[r.join(",")]=new Ht(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(G0);i.next.push(o[s],e[a.join(",")]||n(a))}return i}}function dO(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var u=o.next[a],l=o.next[a+1];s.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(l)==-1&&r.push(l)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Y0(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Q0(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(o===void 0){var i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function X0(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new eb(t[n]);return e}var Qt=function(e,n,r){this.name=e,this.schema=n,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=X0(r.attrs),this.defaultAttrs=Y0(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"},ts={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};ts.isInline.get=function(){return!this.isBlock};ts.isTextblock.get=function(){return this.isBlock&&this.inlineContent};ts.isLeaf.get=function(){return this.contentMatch==Ht.empty};ts.isAtom.get=function(){return this.isLeaf||this.spec.atom};ts.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};Qt.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1};Qt.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)};Qt.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:Q0(this.attrs,e)};Qt.prototype.create=function(e,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Re(this,this.computeAttrs(e),I.from(n),Ne.setFrom(r))};Qt.prototype.createChecked=function(e,n,r){if(n=I.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Re(this,this.computeAttrs(e),n,Ne.setFrom(r))};Qt.prototype.createAndFill=function(e,n,r){if(e=this.computeAttrs(e),n=I.from(n),n.size){var o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}var i=this.contentMatch.matchFragment(n).fillBefore(I.empty,!0);return i?new Re(this,e,n.append(i),Ne.setFrom(r)):null};Qt.prototype.validContent=function(e){var n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(var r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0};Qt.prototype.allowsMarkType=function(e){return this.markSet==null||this.markSet.indexOf(e)>-1};Qt.prototype.allowsMarks=function(e){if(this.markSet==null)return!0;for(var n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0};Qt.prototype.allowedMarks=function(e){if(this.markSet==null)return e;for(var n,r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ne.empty:e};Qt.compile=function(e,n){var r=Object.create(null);e.forEach(function(s,a){return r[s]=new Qt(s,n,a)});var o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r};Object.defineProperties(Qt.prototype,ts);var eb=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},tb={isRequired:{configurable:!0}};tb.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(eb.prototype,tb);var ao=function(e,n,r,o){this.name=e,this.schema=r,this.spec=o,this.attrs=X0(o.attrs),this.rank=n,this.excluded=null;var i=Y0(this.attrs);this.instance=i&&new Ne(this,i)};ao.prototype.create=function(e){return!e&&this.instance?this.instance:new Ne(this,Q0(this.attrs,e))};ao.compile=function(e,n){var r=Object.create(null),o=0;return e.forEach(function(i,s){return r[i]=new ao(i,o++,n,s)}),r};ao.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e};ao.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(e[n].type==this)return e[n]};ao.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Yo=function(e){this.spec={};for(var n in e)this.spec[n]=e[n];this.spec.nodes=sv.from(e.nodes),this.spec.marks=sv.from(e.marks),this.nodes=Qt.compile(this.spec.nodes,this),this.marks=ao.compile(this.spec.marks,this);var r=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=r[s]||(r[s]=Ht.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=a=="_"?null:a?lv(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(var u in this.marks){var l=this.marks[u],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:lv(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};Yo.prototype.node=function(e,n,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Qt){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)};Yo.prototype.text=function(e,n){var r=this.nodes.text;return new iO(r,r.defaultAttrs,e,Ne.setFrom(n))};Yo.prototype.mark=function(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)};Yo.prototype.nodeFromJSON=function(e){return Re.fromJSON(this,e)};Yo.prototype.markFromJSON=function(e){return Ne.fromJSON(this,e)};Yo.prototype.nodeType=function(e){var n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n};function lv(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var u=t.marks[a];(o=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}var jn=function(e,n){var r=this;this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(function(o){o.tag?r.tags.push(o):o.style&&r.styles.push(o)}),this.normalizeLists=!this.tags.some(function(o){if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;var i=e.nodes[o.node];return i.contentMatch.matchType(i)})};jn.prototype.parse=function(e,n){n===void 0&&(n={});var r=new Xe(this,n,!1);return r.addAll(e,null,n.from,n.to),r.finish()};jn.prototype.parseSlice=function(e,n){n===void 0&&(n={});var r=new Xe(this,n,!0);return r.addAll(e,null,n.from,n.to),K.maxOpen(r.finish())};jn.prototype.matchTag=function(e,n,r){for(var o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){var i=this.tags[o];if(vO(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){var s=i.getAttrs(e);if(s===!1)continue;i.attrs=s}return i}}};jn.prototype.matchStyle=function(e,n,r,o){for(var i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){var s=this.styles[i];if(!(s.style.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||s.style.length>e.length&&(s.style.charCodeAt(e.length)!=61||s.style.slice(e.length+1)!=n))){if(s.getAttrs){var a=s.getAttrs(n);if(a===!1)continue;s.attrs=a}return s}}};jn.schemaRules=function(e){var n=[];function r(u){for(var l=u.priority==null?50:u.priority,c=0;c<n.length;c++){var f=n[c],p=f.priority==null?50:f.priority;if(p<l)break}n.splice(c,0,u)}var o=function(u){var l=e.marks[u].spec.parseDOM;l&&l.forEach(function(c){r(c=cv(c)),c.mark=u})};for(var i in e.marks)o(i);var s=function(u){var l=e.nodes[a].spec.parseDOM;l&&l.forEach(function(c){r(c=cv(c)),c.node=a})};for(var a in e.nodes)s();return n};jn.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new jn(e,jn.schemaRules(e)))};var Md={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},nb={ol:!0,ul:!0},fl=1,pl=2,la=4;function rb(t,e,n){return e!=null?(e?fl:0)|(e==="full"?pl:0):t&&t.whitespace=="pre"?fl|pl:n&~la}var Er=function(e,n,r,o,i,s,a){this.type=e,this.attrs=n,this.solid=i,this.match=s||(a&la?null:e.contentMatch),this.options=a,this.content=[],this.marks=r,this.activeMarks=Ne.none,this.pendingMarks=o,this.stashMarks=[]};Er.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var n=this.type.contentMatch.fillBefore(I.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{var r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)};Er.prototype.finish=function(e){if(!(this.options&fl)){var n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}var o=I.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(I.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o};Er.prototype.popFromStashMark=function(e){for(var n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]};Er.prototype.applyPending=function(e){for(var n=0,r=this.pendingMarks;n<r.length;n++){var o=r[n];(this.type?this.type.allowsMarkType(o.type):yO(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};Er.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Md.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var Xe=function(e,n,r){this.parser=e,this.options=n,this.isOpen=r;var o=n.topNode,i,s=rb(null,n.preserveWhitespace,0)|(r?la:0);o?i=new Er(o.type,o.attrs,Ne.none,Ne.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new Er(null,null,Ne.none,Ne.none,!0,null,s):i=new Er(e.schema.topNodeType,null,Ne.none,Ne.none,!0,null,s),this.nodes=[i],this.open=0,this.find=n.findPositions,this.needsBlock=!1},Nd={top:{configurable:!0},currentPos:{configurable:!0}};Nd.top.get=function(){return this.nodes[this.open]};Xe.prototype.addDOM=function(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){var n=e.getAttribute("style"),r=n?this.readStyles(gO(n)):null,o=this.top;if(r!=null)for(var i=0;i<r.length;i++)this.addPendingMark(r[i]);if(this.addElement(e),r!=null)for(var s=0;s<r.length;s++)this.removePendingMark(r[s],o)}};Xe.prototype.addTextNode=function(e){var n=e.nodeValue,r=this.top;if(r.options&pl||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&fl)r.options&pl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){var o=r.content[r.content.length-1],i=e.previousSibling;(!o||i&&i.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)};Xe.prototype.addElement=function(e,n){var r=e.nodeName.toLowerCase(),o;nb.hasOwnProperty(r)&&this.parser.normalizeLists&&mO(e);var i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));if(i?i.ignore:hO.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);var s,a=this.top,u=this.needsBlock;if(Md.hasOwnProperty(r))s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=u}else this.addElementByRule(e,i,i.consuming===!1?o:null)};Xe.prototype.leafFallback=function(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))};Xe.prototype.ignoreFallback=function(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};Xe.prototype.readStyles=function(e){var n=Ne.none;e:for(var r=0;r<e.length;r+=2)for(var o=null;;){var i=this.parser.matchStyle(e[r],e[r+1],this,o);if(!i)continue e;if(i.ignore)return null;if(n=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(n),i.consuming===!1)o=i;else break}return n};Xe.prototype.addElementByRule=function(e,n,r){var o=this,i,s,a,u;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs,n.preserveWhitespace)):(a=this.parser.schema.marks[n.mark],u=a.create(n.attrs),this.addPendingMark(u));var l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(function(f){return o.insertNode(f)});else{var c=n.contentElement;typeof c=="string"?c=e.querySelector(c):typeof c=="function"&&(c=c(e)),c||(c=e),this.findAround(e,c,!0),this.addAll(c,i)}i&&(this.sync(l),this.open--),u&&this.removePendingMark(u,l)};Xe.prototype.addAll=function(e,n,r,o){for(var i=r||0,s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s),n&&Md.hasOwnProperty(s.nodeName.toLowerCase())&&this.sync(n);this.findAtPoint(e,i)};Xe.prototype.findPlace=function(e){for(var n,r,o=this.open;o>=0;o--){var i=this.nodes[o],s=i.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=i,!s.length)||i.solid)break}if(!n)return!1;this.sync(r);for(var a=0;a<n.length;a++)this.enterInner(n[a],null,!1);return!0};Xe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();var r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));for(var o=r.activeMarks,i=0;i<e.marks.length;i++)(!r.type||r.type.allowsMarkType(e.marks[i].type))&&(o=e.marks[i].addToSet(o));return r.content.push(e.mark(o)),!0}return!1};Xe.prototype.enter=function(e,n,r){var o=this.findPlace(e.create(n));return o&&this.enterInner(e,n,!0,r),o};Xe.prototype.enterInner=function(e,n,r,o){this.closeExtra();var i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e,n);var s=rb(e,o,i.options);i.options&la&&i.content.length==0&&(s|=la),this.nodes.push(new Er(e,n,i.activeMarks,i.pendingMarks,r,null,s)),this.open++};Xe.prototype.closeExtra=function(e){var n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}};Xe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};Xe.prototype.sync=function(e){for(var n=this.open;n>=0;n--)if(this.nodes[n]==e){this.open=n;return}};Nd.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t};Xe.prototype.findAtPoint=function(e,n){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)};Xe.prototype.findInside=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)};Xe.prototype.findAround=function(e,n,r){if(e!=n&&this.find){for(var o=0;o<this.find.length;o++)if(this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)){var i=n.compareDocumentPosition(this.find[o].node);i&(r?2:4)&&(this.find[o].pos=this.currentPos)}}};Xe.prototype.findInText=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))};Xe.prototype.matchesContext=function(e){var n=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var r=e.split("/"),o=this.options.context,i=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(i?0:1),a=function(u,l){for(;u>=0;u--){var c=r[u];if(c==""){if(u==r.length-1||u==0)continue;for(;l>=s;l--)if(a(u-1,l))return!0;return!1}else{var f=l>0||l==0&&i?n.nodes[l].type:o&&l>=s?o.node(l-s).type:null;if(!f||f.name!=c&&f.groups.indexOf(c)==-1)return!1;l--}}return!0};return a(r.length-1,this.open)};Xe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var n=e.depth;n>=0;n--){var r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var o in this.parser.schema.nodes){var i=this.parser.schema.nodes[o];if(i.isTextblock&&i.defaultAttrs)return i}};Xe.prototype.addPendingMark=function(e){var n=bO(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)};Xe.prototype.removePendingMark=function(e,n){for(var r=this.open;r>=0;r--){var o=this.nodes[r],i=o.pendingMarks.lastIndexOf(e);if(i>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);var s=o.popFromStashMark(e);s&&o.type&&o.type.allowsMarkType(s.type)&&(o.activeMarks=s.addToSet(o.activeMarks))}if(o==n)break}};Object.defineProperties(Xe.prototype,Nd);function mO(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&nb.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function vO(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gO(t){for(var e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];n=e.exec(t);)r.push(n[1],n[2].trim());return r}function cv(t){var e={};for(var n in t)e[n]=t[n];return e}function yO(t,e){var n=e.schema.nodes,r=function(s){var a=n[s];if(!!a.allowsMarkType(t)){var u=[],l=function(c){u.push(c);for(var f=0;f<c.edgeCount;f++){var p=c.edge(f),d=p.type,h=p.next;if(d==e||u.indexOf(h)<0&&l(h))return!0}};if(l(a.contentMatch))return{v:!0}}};for(var o in n){var i=r(o);if(i)return i.v}}function bO(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}var Rt=function(e,n){this.nodes=e||{},this.marks=n||{}};Rt.prototype.serializeFragment=function(e,n,r){var o=this;n===void 0&&(n={}),r||(r=Fd(n).createDocumentFragment());var i=r,s=null;return e.forEach(function(a){if(s||a.marks.length){s||(s=[]);for(var u=0,l=0;u<s.length&&l<a.marks.length;){var c=a.marks[l];if(!o.marks[c.type.name]){l++;continue}if(!c.eq(s[u])||c.type.spec.spanning===!1)break;u+=2,l++}for(;u<s.length;)i=s.pop(),s.pop();for(;l<a.marks.length;){var f=a.marks[l++],p=o.serializeMark(f,a.isInline,n);p&&(s.push(f,i),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(o.serializeNodeInner(a,n))}),r};Rt.prototype.serializeNodeInner=function(e,n){n===void 0&&(n={});var r=Rt.renderSpec(Fd(n),this.nodes[e.type.name](e)),o=r.dom,i=r.contentDOM;if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");n.onContent?n.onContent(e,i,n):this.serializeFragment(e.content,n,i)}return o};Rt.prototype.serializeNode=function(e,n){n===void 0&&(n={});for(var r=this.serializeNodeInner(e,n),o=e.marks.length-1;o>=0;o--){var i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r};Rt.prototype.serializeMark=function(e,n,r){r===void 0&&(r={});var o=this.marks[e.type.name];return o&&Rt.renderSpec(Fd(r),o(e,n))};Rt.renderSpec=function(e,n,r){if(r===void 0&&(r=null),typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;var o=n[0],i=o.indexOf(" ");i>0&&(r=o.slice(0,i),o=o.slice(i+1));var s=null,a=r?e.createElementNS(r,o):e.createElement(o),u=n[1],l=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){l=2;for(var c in u)if(u[c]!=null){var f=c.indexOf(" ");f>0?a.setAttributeNS(c.slice(0,f),c.slice(f+1),u[c]):a.setAttribute(c,u[c])}}for(var p=l;p<n.length;p++){var d=n[p];if(d===0){if(p<n.length-1||p>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{var h=Rt.renderSpec(e,d,r),m=h.dom,g=h.contentDOM;if(a.appendChild(m),g){if(s)throw new RangeError("Multiple content holes");s=g}}}return{dom:a,contentDOM:s}};Rt.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Rt(this.nodesFromSchema(e),this.marksFromSchema(e)))};Rt.nodesFromSchema=function(e){var n=ob(e.nodes);return n.text||(n.text=function(r){return r.text}),n};Rt.marksFromSchema=function(e){return ob(e.marks)};function ob(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Fd(t){return t.document||window.document}var ib=65535,sb=Math.pow(2,16);function CO(t,e){return t+e*sb}function ab(t){return t&ib}function wO(t){return(t-(t&ib))/sb}var hp=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=null),this.pos=e,this.deleted=n,this.recover=r},Tt=function t(e,n){if(n===void 0&&(n=!1),!e.length&&t.empty)return t.empty;this.ranges=e,this.inverted=n};Tt.prototype.recover=function(e){var n=0,r=ab(e);if(!this.inverted)for(var o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+wO(e)};Tt.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};Tt.prototype.map=function(e,n){return n===void 0&&(n=1),this._map(e,n,!0)};Tt.prototype._map=function(e,n,r){for(var o=0,i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var u=this.ranges[a]-(this.inverted?o:0);if(u>e)break;var l=this.ranges[a+i],c=this.ranges[a+s],f=u+l;if(e<=f){var p=l?e==u?-1:e==f?1:n:n,d=u+o+(p<0?0:c);if(r)return d;var h=e==(n<0?u:f)?null:CO(a/3,e-u);return new hp(d,n<0?e!=u:e!=f,h)}o+=c-l}return r?e+o:new hp(e+o)};Tt.prototype.touches=function(e,n){for(var r=0,o=ab(n),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var u=this.ranges[a]-(this.inverted?r:0);if(u>e)break;var l=this.ranges[a+i],c=u+l;if(e<=c&&a==o*3)return!0;r+=this.ranges[a+s]-l}return!1};Tt.prototype.forEach=function(e){for(var n=this.inverted?2:1,r=this.inverted?1:2,o=0,i=0;o<this.ranges.length;o+=3){var s=this.ranges[o],a=s-(this.inverted?i:0),u=s+(this.inverted?0:i),l=this.ranges[o+n],c=this.ranges[o+r];e(a,a+l,u,u+c),i+=c-l}};Tt.prototype.invert=function(){return new Tt(this.ranges,!this.inverted)};Tt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};Tt.offset=function(e){return e==0?Tt.empty:new Tt(e<0?[0,-e,0]:[0,0,e])};Tt.empty=new Tt([]);var Vt=function(e,n,r,o){this.maps=e||[],this.from=r||0,this.to=o==null?this.maps.length:o,this.mirror=n};Vt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.maps.length),new Vt(this.maps,this.mirror,e,n)};Vt.prototype.copy=function(){return new Vt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};Vt.prototype.appendMap=function(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)};Vt.prototype.appendMapping=function(e){for(var n=0,r=this.maps.length;n<e.maps.length;n++){var o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:null)}};Vt.prototype.getMirror=function(e){if(this.mirror){for(var n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}};Vt.prototype.setMirror=function(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)};Vt.prototype.appendMappingInverted=function(e){for(var n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){var o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:null)}};Vt.prototype.invert=function(){var e=new Vt;return e.appendMappingInverted(this),e};Vt.prototype.map=function(e,n){if(n===void 0&&(n=1),this.mirror)return this._map(e,n,!0);for(var r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e};Vt.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};Vt.prototype._map=function(e,n,r){for(var o=!1,i=this.from;i<this.to;i++){var s=this.maps[i],a=s.mapResult(e,n);if(a.recover!=null){var u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,e=this.maps[u].recover(a.recover);continue}}a.deleted&&(o=!0),e=a.pos}return r?e:new hp(e,o)};function Pi(t){var e=Error.call(this,t);return e.__proto__=Pi.prototype,e}Pi.prototype=Object.create(Error.prototype);Pi.prototype.constructor=Pi;Pi.prototype.name="TransformError";var at=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Vt},Rd={before:{configurable:!0},docChanged:{configurable:!0}};Rd.before.get=function(){return this.docs.length?this.docs[0]:this.doc};at.prototype.step=function(e){var n=this.maybeStep(e);if(n.failed)throw new Pi(n.failed);return this};at.prototype.maybeStep=function(e){var n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n};Rd.docChanged.get=function(){return this.steps.length>0};at.prototype.addStep=function(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n};Object.defineProperties(at.prototype,Rd);function dc(){throw new Error("Override me")}var mp=Object.create(null),Ut=function(){};Ut.prototype.apply=function(e){return dc()};Ut.prototype.getMap=function(){return Tt.empty};Ut.prototype.invert=function(e){return dc()};Ut.prototype.map=function(e){return dc()};Ut.prototype.merge=function(e){return null};Ut.prototype.toJSON=function(){return dc()};Ut.fromJSON=function(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=mp[n.stepType];if(!r)throw new RangeError("No step type "+n.stepType+" defined");return r.fromJSON(e,n)};Ut.jsonID=function(e,n){if(e in mp)throw new RangeError("Duplicate use of step JSON ID "+e);return mp[e]=n,n.prototype.jsonID=e,n};var Zt=function(e,n){this.doc=e,this.failed=n};Zt.ok=function(e){return new Zt(e,null)};Zt.fail=function(e){return new Zt(null,e)};Zt.fromReplace=function(e,n,r,o){try{return Zt.ok(e.replace(n,r,o))}catch(i){if(i instanceof sr)return Zt.fail(i.message);throw i}};var Fr=function(t){function e(n,r,o,i){t.call(this),this.from=n,this.to=r,this.slice=o,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){return this.structure&&vp(r,this.from,this.to)?Zt.fail("Structure replace would overwrite content"):Zt.fromReplace(r,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new Tt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(r){return new e(this.from,this.from+this.slice.size,r.slice(this.from,this.to))},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted?null:new e(o.pos,Math.max(o.pos,i.pos),this.slice)},e.prototype.merge=function(r){if(!(r instanceof e)||r.structure||this.structure)return null;if(this.from+this.slice.size==r.from&&!this.slice.openEnd&&!r.slice.openStart){var o=this.slice.size+r.slice.size==0?K.empty:new K(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new e(this.from,this.to+(r.to-r.from),o,this.structure)}else if(r.to==this.from&&!this.slice.openStart&&!r.slice.openEnd){var i=this.slice.size+r.slice.size==0?K.empty:new K(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new e(r.from,this.to,i,this.structure)}else return null},e.prototype.toJSON=function(){var r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(o.from,o.to,K.fromJSON(r,o.slice),!!o.structure)},e}(Ut);Ut.jsonID("replace",Fr);var ln=function(t){function e(n,r,o,i,s,a,u){t.call(this),this.from=n,this.to=r,this.gapFrom=o,this.gapTo=i,this.slice=s,this.insert=a,this.structure=!!u}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){if(this.structure&&(vp(r,this.from,this.gapFrom)||vp(r,this.gapTo,this.to)))return Zt.fail("Structure gap-replace would overwrite content");var o=r.slice(this.gapFrom,this.gapTo);if(o.openStart||o.openEnd)return Zt.fail("Gap is not a flat range");var i=this.slice.insertAt(this.insert,o.content);return i?Zt.fromReplace(r,this.from,this.to,i):Zt.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new Tt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(r){var o=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1),s=r.map(this.gapFrom,-1),a=r.map(this.gapTo,1);return o.deleted&&i.deleted||s<o.pos||a>i.pos?null:new e(o.pos,i.pos,s,a,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number"||typeof o.gapFrom!="number"||typeof o.gapTo!="number"||typeof o.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(o.from,o.to,o.gapFrom,o.gapTo,K.fromJSON(r,o.slice),o.insert,!!o.structure)},e}(Ut);Ut.jsonID("replaceAround",ln);function vp(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function SO(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ns(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!SO(o,i,s))break}}at.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,u=s,l=I.empty,c=0,f=o,p=!1;f>e;f--)p||n.index(f)>0?(p=!0,l=I.from(n.node(f).copy(l)),c++):a--;for(var d=I.empty,h=0,m=o,g=!1;m>e;m--)g||r.after(m+1)<r.end(m)?(g=!0,d=I.from(r.node(m).copy(d)),h++):u++;return this.step(new ln(a,u,i,s,new K(l.append(d),c,h),l.size-c,!0))};function Id(t,e,n,r){r===void 0&&(r=t);var o=EO(t,e),i=o&&AO(r,e);return i?o.map(fv).concat({type:e,attrs:n}).concat(i.map(fv)):null}function fv(t){return{type:t,attrs:null}}function EO(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function AO(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=s.length?s[s.length-1]:e,u=a.contentMatch,l=r;u&&l<o;l++)u=u.matchType(n.child(l).type);return!u||!u.validEnd?null:s}at.prototype.wrap=function(t,e){for(var n=I.empty,r=e.length-1;r>=0;r--){if(n.size){var o=e[r].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=I.from(e[r].type.create(e[r].attrs,n))}var i=t.start,s=t.end;return this.step(new ln(i,s,i,s,new K(n,0,0),e.length,!0))};at.prototype.setBlockType=function(t,e,n,r){var o=this;if(e===void 0&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(s,a){if(s.isTextblock&&!s.hasMarkup(n,r)&&kO(o.doc,o.mapping.slice(i).map(a),n)){o.clearIncompatible(o.mapping.slice(i).map(a,1),n);var u=o.mapping.slice(i),l=u.map(a,1),c=u.map(a+s.nodeSize,1);return o.step(new ln(l,c,l+1,c-1,new K(I.from(n.create(r,null,s.marks)),0,0),1,!0)),!1}}),this};function kO(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}at.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new ln(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new K(I.from(i),0,0),1,!0))};function Ar(t,e,n,r){n===void 0&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,u=n-2;a>i;a--,u--){var l=o.node(a),c=o.index(a);if(l.type.spec.isolating)return!1;var f=l.content.cutByIndex(c,l.childCount),p=r&&r[u]||l;if(p!=l&&(f=f.replaceChild(0,p.type.create(p.attrs))),!l.canReplace(c+1,l.childCount)||!p.type.validContent(f))return!1}var d=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(d,d,h?h.type:o.node(i+1).type)}at.prototype.split=function(t,e,n){e===void 0&&(e=1);for(var r=this.doc.resolve(t),o=I.empty,i=I.empty,s=r.depth,a=r.depth-e,u=e-1;s>a;s--,u--){o=I.from(r.node(s).copy(o));var l=n&&n[u];i=I.from(l?l.type.create(l.attrs,i):r.node(s).copy(i))}return this.step(new Fr(t,t,new K(o.append(i),e,e),!0))};function Ma(t,e){var n=t.resolve(e),r=n.index();return DO(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function DO(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}at.prototype.join=function(t,e){e===void 0&&(e=1);var n=new Fr(t-e,t+e,K.empty,!0);return this.step(n)};function xO(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function ub(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(u>0?1:0),c=r.node(a),f=!1;if(s==1)f=c.canReplace(l,l,o);else{var p=c.contentMatchAt(l).findWrapping(o.firstChild.type);f=p&&c.canReplaceWith(l,l,p[0])}if(f)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function Pd(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(Pd(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return I.fromArray(r)}var Bd=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=r.resolve(this.from),a=s.node(s.sharedDepth(this.to)),u=new K(Pd(i.content,function(l,c){return!l.isAtom||!c.type.allowsMarkType(o.mark.type)?l:l.mark(o.mark.addToSet(l.marks))},a),i.openStart,i.openEnd);return Zt.fromReplace(r,this.from,this.to,u)},e.prototype.invert=function(){return new Na(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Ut);Ut.jsonID("addMark",Bd);var Na=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=new K(Pd(i.content,function(a){return a.mark(o.mark.removeFromSet(a.marks))}),i.openStart,i.openEnd);return Zt.fromReplace(r,this.from,this.to,s)},e.prototype.invert=function(){return new Bd(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Ut);Ut.jsonID("removeMark",Na);at.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(u,l,c){if(!!u.isInline){var f=u.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(l,t),d=Math.min(l+u.nodeSize,e),h=n.addToSet(f),m=0;m<f.length;m++)f[m].isInSet(h)||(s&&s.to==p&&s.mark.eq(f[m])?s.to=d:o.push(s=new Na(p,d,f[m])));a&&a.to==p?a.to=d:i.push(a=new Bd(p,d,n))}}}),o.forEach(function(u){return r.step(u)}),i.forEach(function(u){return r.step(u)}),this};at.prototype.removeMark=function(t,e,n){var r=this;n===void 0&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(s,a){if(!!s.isInline){i++;var u=null;if(n instanceof ao)for(var l=s.marks,c;c=n.isInSet(l);)(u||(u=[])).push(c),l=c.removeFromSet(l);else n?n.isInSet(s.marks)&&(u=[n]):u=s.marks;if(u&&u.length)for(var f=Math.min(a+s.nodeSize,e),p=0;p<u.length;p++){for(var d=u[p],h=void 0,m=0;m<o.length;m++){var g=o[m];g.step==i-1&&d.eq(o[m].style)&&(h=g)}h?(h.to=f,h.step=i):o.push({style:d,from:Math.max(a,t),to:f,step:i})}}}),o.forEach(function(s){return r.step(new Na(s.from,s.to,s.style))}),this};at.prototype.clearIncompatible=function(t,e,n){n===void 0&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),u=i+a.nodeSize,l=n.matchType(a.type,a.attrs);if(!l)o.push(new Fr(i,u,K.empty));else{n=l;for(var c=0;c<a.marks.length;c++)e.allowsMarkType(a.marks[c].type)||this.step(new Na(i,u,a.marks[c]))}i=u}if(!n.validEnd){var f=n.fillBefore(I.empty,!0);this.replace(i,i,new K(f,0,0))}for(var p=o.length-1;p>=0;p--)this.step(o[p]);return this};function Ld(t,e,n,r){if(n===void 0&&(n=e),r===void 0&&(r=K.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return lb(o,i,r)?new Fr(e,n,r):new Fn(o,i,r).fit()}at.prototype.replace=function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=K.empty);var r=Ld(this.doc,t,e,n);return r&&this.step(r),this};at.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new K(I.from(n),0,0))};at.prototype.delete=function(t,e){return this.replace(t,e,K.empty)};at.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};function lb(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}var Fn=function(e,n,r){this.$to=n,this.$from=e,this.unplaced=r,this.frontier=[];for(var o=0;o<=e.depth;o++){var i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}this.placed=I.empty;for(var s=e.depth;s>0;s--)this.placed=I.from(e.node(s).copy(this.placed))},cb={depth:{configurable:!0}};cb.depth.get=function(){return this.frontier.length-1};Fn.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(n<0?this.$to:o.doc.resolve(n));if(!i)return null;for(var s=this.placed,a=o.depth,u=i.depth;a&&u&&s.childCount==1;)s=s.firstChild.content,a--,u--;var l=new K(s,a,u);if(n>-1)return new ln(o.pos,n,this.$to.pos,this.$to.end(),l,r);if(l.size||o.pos!=this.$to.pos)return new Fr(o.pos,i.pos,l)};Fn.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var n=this.unplaced.openStart;n>=0;n--){var r=void 0,o=void 0;n?(o=zd(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;for(var i=r.firstChild,s=this.depth;s>=0;s--){var a=this.frontier[s],u=a.type,l=a.match,c=void 0,f=void 0;if(e==1&&(i?l.matchType(i.type)||(f=l.fillBefore(I.from(i),!1)):u.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(e==2&&i&&(c=l.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:c};if(o&&l.matchType(o.type))break}}};Fn.prototype.openMore=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=zd(n,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new K(n,r+1,Math.max(o,i.size+r>=n.size-o?r+1:0)),!0)};Fn.prototype.dropNode=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=zd(n,r);if(i.childCount<=1&&r>0){var s=n.size-r<=r+i.size;this.unplaced=new K(ca(n,r-1,1),r-1,s?r-1:o)}else this.unplaced=new K(ca(n,r,1),r,o)};Fn.prototype.placeNodes=function(e){for(var n=e.sliceDepth,r=e.frontierDepth,o=e.parent,i=e.inject,s=e.wrap;this.depth>r;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var u=this.unplaced,l=o?o.content:u.content,c=u.openStart-n,f=0,p=[],d=this.frontier[r],h=d.match,m=d.type;if(i){for(var g=0;g<i.childCount;g++)p.push(i.child(g));h=h.matchFragment(i)}for(var b=l.size+n-(u.content.size-u.openEnd);f<l.childCount;){var v=l.child(f),w=h.matchType(v.type);if(!w)break;f++,(f>1||c==0||v.content.size)&&(h=w,p.push(fb(v.mark(m.allowedMarks(v.marks)),f==1?c:0,f==l.childCount?b:-1)))}var y=f==l.childCount;y||(b=-1),this.placed=Fa(this.placed,r,I.from(p)),this.frontier[r].match=h,y&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var S=0,A=l;S<b;S++){var k=A.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),A=k.content}this.unplaced=y?n==0?K.empty:new K(ca(u.content,n-1,1),n-1,b<0?u.openEnd:n-1):new K(ca(u.content,n,f),u.openStart,u.openEnd)};Fn.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var e=this.frontier[this.depth],n;if(!e.type.isTextblock||!gp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;for(var r=this.$to,o=r.depth,i=this.$to.after(o);o>1&&i==this.$to.end(--o);)++i;return i};Fn.prototype.findCloseLevel=function(e){e:for(var n=Math.min(this.depth,e.depth);n>=0;n--){var r=this.frontier[n],o=r.match,i=r.type,s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=gp(e,n,i,o,s);if(!!a){for(var u=n-1;u>=0;u--){var l=this.frontier[u],c=l.match,f=l.type,p=gp(e,u,f,c,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}};Fn.prototype.close=function(e){var n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Fa(this.placed,n.depth,n.fit)),e=n.move;for(var r=n.depth+1;r<=e.depth;r++){var o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e};Fn.prototype.openFrontierNode=function(e,n,r){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Fa(this.placed,this.depth,I.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})};Fn.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),n=e.match.fillBefore(I.empty,!0);n.childCount&&(this.placed=Fa(this.placed,this.frontier.length,n))};Object.defineProperties(Fn.prototype,cb);function ca(t,e,n){return e==0?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(ca(t.firstChild.content,e-1,n)))}function Fa(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Fa(t.lastChild.content,e-1,n)))}function zd(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function fb(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,fb(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(I.empty,!0)))),t.copy(r)}function gp(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!OO(n,i.content,s)?a:null}function OO(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function _O(t){return t.spec.defining||t.spec.definingForContent}at.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(lb(r,o,n))return this.step(new Fr(t,e,n));var i=db(r,this.doc.resolve(e));i[i.length-1]==0&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,u=r.pos-1;a>0;a--,u--){var l=r.node(a).type.spec;if(l.defining||l.definingAsContext||l.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==u&&i.splice(1,0,-a)}for(var c=i.indexOf(s),f=[],p=n.openStart,d=n.content,h=0;;h++){var m=d.firstChild;if(f.push(m),h==n.openStart)break;d=m.content}for(var g=p-1;g>=0;g--){var b=f[g].type,v=_O(b);if(v&&r.node(c).type!=b)p=g;else if(v||!b.isTextblock)break}for(var w=n.openStart;w>=0;w--){var y=(w+p+1)%(n.openStart+1),S=f[y];if(!!S)for(var A=0;A<i.length;A++){var k=i[(A+c)%i.length],x=!0;k<0&&(x=!1,k=-k);var _=r.node(k-1),N=r.index(k-1);if(_.canReplaceWith(N,N,S.type,S.marks))return this.replace(r.before(k),x?o.after(k):e,new K(pb(n.content,0,n.openStart,y),y,n.openEnd))}}for(var z=this.steps.length,M=i.length-1;M>=0&&(this.replace(t,e,n),!(this.steps.length>z));M--){var H=i[M];H<0||(t=r.before(H),e=o.after(H))}return this};function pb(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(pb(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(I.empty,!0))}return t}at.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=xO(this.doc,t,n.type);r!=null&&(t=e=r)}return this.replaceRange(t,e,new K(I.from(n),0,0))};at.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=db(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&s==0||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var u=1;u<=n.depth&&u<=r.depth;u++)if(t-n.start(u)==n.depth-u&&e>n.end(u)&&r.end(u)-e!=r.depth-u)return this.delete(n.before(u),e);return this.delete(t,e)};function db(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}var yp=Object.create(null),ve=function(e,n,r){this.ranges=r||[new hb(e.min(n),e.max(n))],this.$anchor=e,this.$head=n},po={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};po.anchor.get=function(){return this.$anchor.pos};po.head.get=function(){return this.$head.pos};po.from.get=function(){return this.$from.pos};po.to.get=function(){return this.$to.pos};po.$from.get=function(){return this.ranges[0].$from};po.$to.get=function(){return this.ranges[0].$to};po.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0};ve.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};ve.prototype.replace=function(e,n){n===void 0&&(n=K.empty);for(var r=n.content.lastChild,o=null,i=0;i<n.openEnd;i++)o=r,r=r.lastChild;for(var s=e.steps.length,a=this.ranges,u=0;u<a.length;u++){var l=a[u],c=l.$from,f=l.$to,p=e.mapping.slice(s);e.replaceRange(p.map(c.pos),p.map(f.pos),u?K.empty:n),u==0&&mb(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}};ve.prototype.replaceWith=function(e,n){for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],a=s.$from,u=s.$to,l=e.mapping.slice(r),c=l.map(a.pos),f=l.map(u.pos);i?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),mb(e,r,n.isInline?-1:1))}};ve.findFrom=function(e,n,r){var o=e.parent.inlineContent?new Se(e):Ai(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(var i=e.depth-1;i>=0;i--){var s=n<0?Ai(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Ai(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}};ve.near=function(e,n){return n===void 0&&(n=1),this.findFrom(e,n)||this.findFrom(e,-n)||new Rr(e.node(0))};ve.atStart=function(e){return Ai(e,e,0,0,1)||new Rr(e)};ve.atEnd=function(e){return Ai(e,e,e.content.size,e.childCount,-1)||new Rr(e)};ve.fromJSON=function(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=yp[n.type];if(!r)throw new RangeError("No selection type "+n.type+" defined");return r.fromJSON(e,n)};ve.jsonID=function(e,n){if(e in yp)throw new RangeError("Duplicate use of selection JSON ID "+e);return yp[e]=n,n.prototype.jsonID=e,n};ve.prototype.getBookmark=function(){return Se.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(ve.prototype,po);ve.prototype.visible=!0;var hb=function(e,n){this.$from=e,this.$to=n},Se=function(t){function e(r,o){o===void 0&&(o=r),t.call(this,r,o)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(o,i){var s=o.resolve(i.map(this.head));if(!s.parent.inlineContent)return t.near(s);var a=o.resolve(i.map(this.anchor));return new e(a.parent.inlineContent?a:s,s)},e.prototype.replace=function(o,i){if(i===void 0&&(i=K.empty),t.prototype.replace.call(this,o,i),i==K.empty){var s=this.$from.marksAcross(this.$to);s&&o.ensureMarks(s)}},e.prototype.eq=function(o){return o instanceof e&&o.anchor==this.anchor&&o.head==this.head},e.prototype.getBookmark=function(){return new fa(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(o,i){if(typeof i.anchor!="number"||typeof i.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(o.resolve(i.anchor),o.resolve(i.head))},e.create=function(o,i,s){s===void 0&&(s=i);var a=o.resolve(i);return new this(a,s==i?a:o.resolve(s))},e.between=function(o,i,s){var a=o.pos-i.pos;if((!s||a)&&(s=a>=0?1:-1),!i.parent.inlineContent){var u=t.findFrom(i,s,!0)||t.findFrom(i,-s,!0);if(u)i=u.$head;else return t.near(i,s)}return o.parent.inlineContent||(a==0?o=i:(o=(t.findFrom(o,-s,!0)||t.findFrom(o,s,!0)).$anchor,o.pos<i.pos!=a<0&&(o=i))),new e(o,i)},Object.defineProperties(e.prototype,n),e}(ve);ve.jsonID("text",Se);var fa=function(e,n){this.anchor=e,this.head=n};fa.prototype.map=function(e){return new fa(e.map(this.anchor),e.map(this.head))};fa.prototype.resolve=function(e){return Se.between(e.resolve(this.anchor),e.resolve(this.head))};var Ce=function(t){function e(n){var r=n.nodeAfter,o=n.node(0).resolve(n.pos+r.nodeSize);t.call(this,n,o),this.node=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,o){var i=o.mapResult(this.anchor),s=i.deleted,a=i.pos,u=r.resolve(a);return s?t.near(u):new e(u)},e.prototype.content=function(){return new K(I.from(this.node),0,0)},e.prototype.eq=function(r){return r instanceof e&&r.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new dl(this.anchor)},e.fromJSON=function(r,o){if(typeof o.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(r.resolve(o.anchor))},e.create=function(r,o){return new this(r.resolve(o))},e.isSelectable=function(r){return!r.isText&&r.type.spec.selectable!==!1},e}(ve);Ce.prototype.visible=!1;ve.jsonID("node",Ce);var dl=function(e){this.anchor=e};dl.prototype.map=function(e){var n=e.mapResult(this.anchor),r=n.deleted,o=n.pos;return r?new fa(o,o):new dl(o)};dl.prototype.resolve=function(e){var n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ce.isSelectable(r)?new Ce(n):ve.near(n)};var Rr=function(t){function e(n){t.call(this,n.resolve(0),n.resolve(n.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(r,o){if(o===void 0&&(o=K.empty),o==K.empty){r.delete(0,r.doc.content.size);var i=t.atStart(r.doc);i.eq(r.selection)||r.setSelection(i)}else t.prototype.replace.call(this,r,o)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(r){return new e(r)},e.prototype.map=function(r){return new e(r)},e.prototype.eq=function(r){return r instanceof e},e.prototype.getBookmark=function(){return TO},e}(ve);ve.jsonID("all",Rr);var TO={map:function(){return this},resolve:function(e){return new Rr(e)}};function Ai(t,e,n,r,o,i){if(e.inlineContent)return Se.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&Ce.isSelectable(a))return Ce.create(t,n-(o<0?a.nodeSize:0))}else{var u=Ai(t,a,n+o,o<0?a.childCount:0,o,i);if(u)return u}n+=a.nodeSize*o}}function mb(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof Fr||o instanceof ln){var i=t.mapping.maps[r],s;i.forEach(function(a,u,l,c){s==null&&(s=c)}),t.setSelection(ve.near(t.doc.resolve(s),n))}}}var pv=1,nu=2,dv=4,MO=function(t){function e(r){t.call(this,r.doc),this.time=Date.now(),this.curSelection=r.selection,this.curSelectionFor=0,this.storedMarks=r.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(o){if(o.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=o,this.curSelectionFor=this.steps.length,this.updated=(this.updated|pv)&~nu,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&pv)>0},e.prototype.setStoredMarks=function(o){return this.storedMarks=o,this.updated|=nu,this},e.prototype.ensureMarks=function(o){return Ne.sameSet(this.storedMarks||this.selection.$from.marks(),o)||this.setStoredMarks(o),this},e.prototype.addStoredMark=function(o){return this.ensureMarks(o.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(o){return this.ensureMarks(o.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&nu)>0},e.prototype.addStep=function(o,i){t.prototype.addStep.call(this,o,i),this.updated=this.updated&~nu,this.storedMarks=null},e.prototype.setTime=function(o){return this.time=o,this},e.prototype.replaceSelection=function(o){return this.selection.replace(this,o),this},e.prototype.replaceSelectionWith=function(o,i){var s=this.selection;return i!==!1&&(o=o.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Ne.none))),s.replaceWith(this,o),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(o,i,s){s===void 0&&(s=i);var a=this.doc.type.schema;if(i==null)return o?this.replaceSelectionWith(a.text(o),!0):this.deleteSelection();if(!o)return this.deleteRange(i,s);var u=this.storedMarks;if(!u){var l=this.doc.resolve(i);u=s==i?l.marks():l.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(i,s,a.text(o,u)),this.selection.empty||this.setSelection(ve.near(this.selection.$to)),this},e.prototype.setMeta=function(o,i){return this.meta[typeof o=="string"?o:o.key]=i,this},e.prototype.getMeta=function(o){return this.meta[typeof o=="string"?o:o.key]},n.isGeneric.get=function(){for(var r in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=dv,this},n.scrolledIntoView.get=function(){return(this.updated&dv)>0},Object.defineProperties(e.prototype,n),e}(at);function hv(t,e){return!e||!t?t:t.bind(e)}var As=function(e,n,r){this.name=e,this.init=hv(n.init,r),this.apply=hv(n.apply,r)},NO=[new As("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new As("selection",{init:function(e,n){return e.selection||ve.atStart(n.doc)},apply:function(e){return e.selection}}),new As("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,n,r,o){return o.selection.$cursor?e.storedMarks:null}}),new As("scrollToSelection",{init:function(){return 0},apply:function(e,n){return e.scrolledIntoView?n+1:n}})],$d=function(e,n){var r=this;this.schema=e,this.fields=NO.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),n&&n.forEach(function(o){if(r.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");r.plugins.push(o),r.pluginsByKey[o.key]=o,o.spec.state&&r.fields.push(new As(o.key,o.spec.state,o))})},jt=function(e){this.config=e},hc={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};hc.schema.get=function(){return this.config.schema};hc.plugins.get=function(){return this.config.plugins};jt.prototype.apply=function(e){return this.applyTransaction(e).state};jt.prototype.filterTransaction=function(e,n){n===void 0&&(n=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=n){var o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0};jt.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var n=[e],r=this.applyInner(e),o=null;;){for(var i=!1,s=0;s<this.config.plugins.length;s++){var a=this.config.plugins[s];if(a.spec.appendTransaction){var u=o?o[s].n:0,l=o?o[s].state:this,c=u<n.length&&a.spec.appendTransaction.call(a,u?n.slice(u):n,l,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!o){o=[];for(var f=0;f<this.config.plugins.length;f++)o.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}};jt.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new jt(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}for(var s=0;s<pa.length;s++)pa[s](this,e,n);return n};hc.tr.get=function(){return new MO(this)};jt.create=function(e){for(var n=new $d(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new jt(n),o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r};jt.prototype.reconfigure=function(e){for(var n=new $d(this.schema,e.plugins),r=n.fields,o=new jt(n),i=0;i<r.length;i++){var s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o};jt.prototype.toJSON=function(e){var n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(s){return s.toJSON()})),e&&typeof e=="object")for(var r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n};jt.fromJSON=function(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new $d(e.schema,e.plugins),i=new jt(o);return o.fields.forEach(function(s){if(s.name=="doc")i.doc=Re.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=ve.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(var a in r){var u=r[a],l=u.spec.state;if(u.key==s.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=l.fromJSON.call(u,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i};jt.addApplyListener=function(e){pa.push(e)};jt.removeApplyListener=function(e){var n=pa.indexOf(e);n>-1&&pa.splice(n,1)};Object.defineProperties(jt.prototype,hc);var pa=[];function vb(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=vb(o,e,{})),n[r]=o}return n}var gt=function(e){this.props={},e.props&&vb(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:gb("plugin")};gt.prototype.getState=function(e){return e[this.key]};var af=Object.create(null);function gb(t){return t in af?t+"$"+ ++af[t]:(af[t]=0,t+"$")}var xt=function(e){e===void 0&&(e="key"),this.key=gb(e)};xt.prototype.get=function(e){return e.config.pluginsByKey[this.key]};xt.prototype.getState=function(e){return e[this.key]};function Hd(t,e){return t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function yb(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var i=Cb(o);if(!i){var s=o.blockRange(),a=s&&ns(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}var u=i.nodeBefore;if(!u.type.spec.isolating&&Ob(t,i,e))return!0;if(o.parent.content.size==0&&(Bi(u,"end")||Ce.isSelectable(u))){var l=Ld(t.doc,o.before(),o.after(),K.empty);if(l.slice.size<l.to-l.from){if(e){var c=t.tr.step(l);c.setSelection(Bi(u,"end")?ve.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):Ce.create(c.doc,i.pos-u.nodeSize)),e(c.scrollIntoView())}return!0}}return u.isAtom&&i.depth==o.depth-1?(e&&e(t.tr.delete(i.pos-u.nodeSize,i.pos).scrollIntoView()),!0):!1}function Bi(t,e,n){for(;t;t=e=="start"?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&t.childCount!=1)return!1}return!1}function bb(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=Cb(o)}var a=s&&s.nodeBefore;return!a||!Ce.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ce.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function Cb(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function wb(t,e,n){var r=t.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size))return!1;var i=Eb(o);if(!i)return!1;var s=i.nodeAfter;if(Ob(t,i,e))return!0;if(o.parent.content.size==0&&(Bi(s,"start")||Ce.isSelectable(s))){var a=Ld(t.doc,o.before(),o.after(),K.empty);if(a.slice.size<a.to-a.from){if(e){var u=t.tr.step(a);u.setSelection(Bi(s,"start")?ve.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Ce.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&i.depth==o.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1}function Sb(t,e,n){var r=t.selection,o=r.$head,i=r.empty,s=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=Eb(o)}var a=s&&s.nodeAfter;return!a||!Ce.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ce.create(t.doc,s.pos)).scrollIntoView()),!0)}function Eb(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function FO(t,e){var n=t.selection,r=n.$from,o=n.$to,i=r.blockRange(o),s=i&&ns(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function Ab(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!r.parent.type.spec.code||!r.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)}function Vd(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function kb(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=Vd(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var u=r.after(),l=t.tr.replaceWith(u,u,a.createAndFill());l.setSelection(ve.near(l.doc.resolve(u),1)),e(l.scrollIntoView())}return!0}function Db(t,e){var n=t.selection,r=n.$from,o=n.$to;if(n instanceof Rr||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=Vd(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(Se.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function xb(t,e){var n=t.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var o=r.before();if(Ar(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var i=r.blockRange(),s=i&&ns(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function RO(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof Ce&&t.selection.node.isBlock)return!r.parentOffset||!Ar(t.doc,r.pos)?!1:(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;(t.selection instanceof Se||t.selection instanceof Rr)&&s.deleteSelection();var a=r.depth==0?null:Vd(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=i&&a?[{type:a}]:null,l=Ar(s.doc,s.mapping.map(r.pos),1,u);if(!u&&!l&&Ar(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])&&(u=[{type:a}],l=!0),l&&(s.split(s.mapping.map(r.pos),1,u),!i&&!r.parentOffset&&r.parent.type!=a)){var c=s.mapping.map(r.before()),f=s.doc.resolve(c);r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}e(s.scrollIntoView())}return!0}function IO(t,e){var n=t.selection,r=n.$from,o=n.to,i,s=r.sharedDepth(o);return s==0?!1:(i=r.before(s),e&&e(t.tr.setSelection(Ce.create(t.doc,i))),!0)}function PO(t,e){return e&&e(t.tr.setSelection(new Rr(t.doc))),!0}function BO(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||Ma(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function Ob(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i,s;if(r.type.spec.isolating||o.type.spec.isolating)return!1;if(BO(t,e,n))return!0;var a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(i=(s=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&s.matchType(i[0]||o.type).validEnd){if(n){for(var u=e.pos+o.nodeSize,l=I.empty,c=i.length-1;c>=0;c--)l=I.from(i[c].create(null,l));l=I.from(r.copy(l));var f=t.tr.step(new ln(e.pos-1,u,e.pos,u,new K(l,1,0),i.length,!0)),p=u+2*i.length;Ma(f.doc,p)&&f.join(p),n(f.scrollIntoView())}return!0}var d=ve.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),m=h&&ns(h);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(h,m).scrollIntoView()),!0;if(a&&Bi(o,"start",!0)&&Bi(r,"end")){for(var g=r,b=[];b.push(g),!g.isTextblock;)g=g.lastChild;for(var v=o,w=1;!v.isTextblock;v=v.firstChild)w++;if(g.canReplace(g.childCount,g.childCount,v.content)){if(n){for(var y=I.empty,S=b.length-1;S>=0;S--)y=I.from(b[S].copy(y));var A=t.tr.step(new ln(e.pos-b.length,e.pos+o.nodeSize,e.pos+w,e.pos+o.nodeSize-w,new K(y,b.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function _b(t){return function(e,n){for(var r=e.selection,o=t<0?r.$from:r.$to,i=o.depth;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(Se.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}var Tb=_b(-1),Mb=_b(1);function LO(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),u=a&&Id(a,t,e);return u?(r&&r(n.tr.wrap(a,u).scrollIntoView()),!0):!1}}function mv(t,e){return function(n,r){var o=n.selection,i=o.from,s=o.to,a=!1;return n.doc.nodesBetween(i,s,function(u,l){if(a)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)a=!0;else{var c=n.doc.resolve(l),f=c.index();a=c.parent.canReplaceWith(f,f+1,t)}}),a?(r&&r(n.tr.setBlockType(i,s,t,e).scrollIntoView()),!0):!1}}function jd(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n,r,o){for(var i=0;i<t.length;i++)if(t[i](n,r,o))return!0;return!1}}var uf=jd(Hd,yb,bb),vv=jd(Hd,wb,Sb),Kr={Enter:jd(Ab,Db,xb,RO),"Mod-Enter":kb,Backspace:uf,"Mod-Backspace":uf,"Shift-Backspace":uf,Delete:vv,"Mod-Delete":vv,"Mod-a":PO},zO={"Ctrl-h":Kr.Backspace,"Alt-Backspace":Kr["Mod-Backspace"],"Ctrl-d":Kr.Delete,"Ctrl-Alt-Backspace":Kr["Mod-Delete"],"Alt-Delete":Kr["Mod-Delete"],"Alt-d":Kr["Mod-Delete"],"Ctrl-a":Tb,"Ctrl-e":Mb};for(var gv in Kr)zO[gv]=Kr[gv];typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform()=="darwin";function $O(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),u=!1,l=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(t)&&a.startIndex==0){if(i.index(a.depth-1)==0)return!1;var c=n.doc.resolve(a.start-2);l=new ua(c,c,a.depth),a.endIndex<a.parent.childCount&&(a=new ua(i,n.doc.resolve(s.end(a.depth)),a.depth)),u=!0}var f=Id(l,t,e,a);return f?(r&&r(HO(n.tr,a,f,u,t).scrollIntoView()),!0):!1}}function HO(t,e,n,r,o){for(var i=I.empty,s=n.length-1;s>=0;s--)i=I.from(n[s].type.create(n[s].attrs,i));t.step(new ln(e.start-(r?2:0),e.end,e.start,e.end,new K(i,0,0),n.length,!0));for(var a=0,u=0;u<n.length;u++)n[u].type==o&&(a=u+1);for(var l=n.length-a,c=e.start+n.length-(r?2:0),f=e.parent,p=e.startIndex,d=e.endIndex,h=!0;p<d;p++,h=!1)!h&&Ar(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=f.child(p).nodeSize;return t}function VO(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(a){return a.childCount&&a.firstChild.type==t});return s?n?o.node(s.depth-1).type==t?jO(e,n,t,s):qO(e,n,s):!0:!1}}function jO(t,e,n,r){var o=t.tr,i=r.end,s=r.$to.end(r.depth);return i<s&&(o.step(new ln(i-1,s,i,s,new K(I.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ua(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth)),e(o.lift(r,ns(r)).scrollIntoView()),!0}function qO(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)i-=o.child(s).nodeSize,r.delete(i-1,i+1);var u=r.doc.resolve(n.start),l=u.nodeAfter;if(r.mapping.map(n.end)!=n.start+u.nodeAfter.nodeSize)return!1;var c=n.startIndex==0,f=n.endIndex==o.childCount,p=u.node(-1),d=u.index(-1);if(!p.canReplace(d+(c?0:1),d+1,l.content.append(f?I.empty:I.from(o))))return!1;var h=u.pos,m=h+l.nodeSize;return r.step(new ln(h-(c?1:0),m+(f?1:0),h+1,m-1,new K((c?I.empty:I.from(o.copy(I.empty))).append(f?I.empty:I.from(o.copy(I.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function UO(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,function(m){return m.childCount&&m.firstChild.type==t});if(!s)return!1;var a=s.startIndex;if(a==0)return!1;var u=s.parent,l=u.child(a-1);if(l.type!=t)return!1;if(n){var c=l.lastChild&&l.lastChild.type==u.type,f=I.from(c?t.create():null),p=new K(I.from(t.create(null,I.from(u.type.create(null,f)))),c?3:1,0),d=s.start,h=s.end;n(e.tr.step(new ln(d-(c?3:1),h,d,h,p,1,!0)).scrollIntoView())}return!0}}var j={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var lf=/Edge\/(\d+)/.exec(navigator.userAgent),yv=/MSIE \d/.test(navigator.userAgent),cf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ff=j.ie=!!(yv||cf||lf);j.ie_version=yv?document.documentMode||6:cf?+cf[1]:lf?+lf[1]:null,j.gecko=!ff&&/gecko\/(\d+)/i.test(navigator.userAgent),j.gecko_version=j.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var pf=!ff&&/Chrome\/(\d+)/.exec(navigator.userAgent);j.chrome=!!pf,j.chrome_version=pf&&+pf[1],j.safari=!ff&&/Apple Computer/.test(navigator.vendor),j.ios=j.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),j.mac=j.ios||/Mac/.test(navigator.platform),j.android=/Android \d/.test(navigator.userAgent),j.webkit="webkitFontSmoothing"in document.documentElement.style,j.webkit_version=j.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var mn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},qd=function(t){var e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},bv=null,mr=function(t,e,n){var r=bv||(bv=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},da=function(t,e,n,r){return n&&(Cv(t,e,n,r,-1)||Cv(t,e,n,r,1))},WO=/^(img|br|input|textarea|hr)$/i;function Cv(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:er(t))){var i=t.parentNode;if(!i||i.nodeType!=1||KO(t)||WO.test(t.nodeName)||t.contentEditable=="false")return!1;e=mn(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?er(t):0}else return!1}}function er(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function JO(t,e,n){for(var r=e==0,o=e==er(t);r||o;){if(t==n)return!0;var i=mn(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,o=o&&i==er(t)}}function KO(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Ud=function(t){var e=t.isCollapsed;return e&&j.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function di(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function ZO(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Vr(t,e){return typeof t=="number"?t:t[e]}function GO(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function wv(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=n||t.dom;s;s=qd(s))if(s.nodeType==1){var a=s==i.body||s.nodeType!=1,u=a?ZO(i):GO(s),l=0,c=0;if(e.top<u.top+Vr(r,"top")?c=-(u.top-e.top+Vr(o,"top")):e.bottom>u.bottom-Vr(r,"bottom")&&(c=e.bottom-u.bottom+Vr(o,"bottom")),e.left<u.left+Vr(r,"left")?l=-(u.left-e.left+Vr(o,"left")):e.right>u.right-Vr(r,"right")&&(l=e.right-u.right+Vr(o,"right")),l||c)if(a)i.defaultView.scrollBy(l,c);else{var f=s.scrollLeft,p=s.scrollTop;c&&(s.scrollTop+=c),l&&(s.scrollLeft+=l);var d=s.scrollLeft-f,h=s.scrollTop-p;e={left:e.left-d,top:e.top-h,right:e.right-d,bottom:e.bottom-h}}if(a)break}}function YO(t){for(var e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o,i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(!(a==t.dom||!t.dom.contains(a))){var u=a.getBoundingClientRect();if(u.top>=n-20){r=a,o=u.top;break}}}return{refDOM:r,refTop:o,stack:Nb(t.dom)}}function Nb(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=qd(t));return e}function QO(t){var e=t.refDOM,n=t.refTop,r=t.stack,o=e?e.getBoundingClientRect().top:0;Fb(r,o==0?0:o-n)}function Fb(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var ai=null;function XO(t){if(t.setActive)return t.setActive();if(ai)return t.focus(ai);var e=Nb(t);t.focus(ai==null?{get preventScroll(){return ai={preventScroll:!0},!0}}:void 0),ai||(ai=!1,Fb(e,0))}function Rb(t,e){for(var n,r=2e8,o,i=0,s=e.top,a=e.top,u=t.firstChild,l=0;u;u=u.nextSibling,l++){var c=void 0;if(u.nodeType==1)c=u.getClientRects();else if(u.nodeType==3)c=mr(u).getClientRects();else continue;for(var f=0;f<c.length;f++){var p=c[f];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var d=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(d<r){n=u,r=d,o=d&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&d&&(i=l+(e.left>=(p.left+p.right)/2?1:0));continue}}!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=l+1)}}return n&&n.nodeType==3?e_(n,o):!n||r&&n.nodeType==1?{node:t,offset:i}:Rb(n,o)}function e_(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=qr(r,1);if(i.top!=i.bottom&&Wd(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Wd(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function t_(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function n_(t,e,n){var r=Rb(e,n),o=r.node,i=r.offset,s=-1;if(o.nodeType==1&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}function r_(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else if(a.right<r.left||a.bottom<r.top)o=s.posAfter;else break}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}function Ib(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var s=t.childNodes[i];if(s.nodeType==1)for(var a=s.getClientRects(),u=0;u<a.length;u++){var l=a[u];if(Wd(e,l))return Ib(s,e,l)}if((i=(i+1)%r)==o)break}return t}function o_(t,e){var n,r,o=t.dom.ownerDocument,i,s;if(o.caretPositionFromPoint)try{var a=o.caretPositionFromPoint(e.left,e.top);a&&(n=a,i=n.offsetNode,s=n.offset)}catch{}if(!i&&o.caretRangeFromPoint){var u=o.caretRangeFromPoint(e.left,e.top);u&&(r=u,i=r.startContainer,s=r.startOffset)}var l=(t.root.elementFromPoint?t.root:o).elementFromPoint(e.left,e.top+1),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){var f=t.dom.getBoundingClientRect();if(!Wd(e,f)||(l=Ib(t.dom,e,f),!l))return null}if(j.safari)for(var p=l;i&&p;p=qd(p))p.draggable&&(i=s=null);if(l=t_(l,e),i){if(j.gecko&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){var d=i.childNodes[s],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&s++}i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(c=r_(t,i,s,e))}c==null&&(c=n_(t,l,e));var m=t.docView.nearestDesc(l,!0);return{pos:c,inside:m?m.posAtStart-m.border:-1}}function qr(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var i_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Pb(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),o=r.node,i=r.offset,s=j.webkit||j.gecko;if(o.nodeType==3)if(s&&(i_.test(o.nodeValue)||(n<0?!i:i==o.nodeValue.length))){var a=qr(mr(o,i,i),n);if(j.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var u=qr(mr(o,i-1,i-1),-1);if(u.top==a.top){var l=qr(mr(o,i,i+1),-1);if(l.top!=a.top)return ds(l,l.left<u.left)}}return a}else{var c=i,f=i,p=n<0?1:-1;return n<0&&!i?(f++,p=-1):n>=0&&i==o.nodeValue.length?(c--,p=1):n<0?c--:f++,ds(qr(mr(o,c,f),p),p<0)}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==er(o))){var d=o.childNodes[i-1];if(d.nodeType==1)return df(d.getBoundingClientRect(),!1)}if(i<er(o)){var h=o.childNodes[i];if(h.nodeType==1)return df(h.getBoundingClientRect(),!0)}return df(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==er(o))){var m=o.childNodes[i-1],g=m.nodeType==3?mr(m,er(m)-(s?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(g)return ds(qr(g,1),!1)}if(i<er(o)){for(var b=o.childNodes[i];b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;var v=b?b.nodeType==3?mr(b,0,s?0:1):b.nodeType==1?b:null:null;if(v)return ds(qr(v,-1),!0)}return ds(qr(o.nodeType==3?mr(o):o,-n),n>=0)}function ds(t,e){if(t.width==0)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function df(t,e){if(t.height==0)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Bb(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function s_(t,e,n){var r=e.selection,o=n=="up"?r.$from:r.$to;return Bb(t,e,function(){for(var i=t.docView.domFromPos(o.pos,n=="up"?-1:1),s=i.node;;){var a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.dom;break}s=a.dom.parentNode}for(var u=Pb(t,o.pos,1),l=s.firstChild;l;l=l.nextSibling){var c=void 0;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=mr(l,0,l.nodeValue.length).getClientRects();else continue;for(var f=0;f<c.length;f++){var p=c[f];if(p.bottom>p.top+1&&(n=="up"?u.top-p.top>(p.bottom-u.top)*2:p.bottom-u.bottom>(u.bottom-p.top)*2))return!1}}return!0})}var a_=/[\u0590-\u08ac]/;function u_(t,e,n){var r=e.selection,o=r.$head;if(!o.parent.isTextblock)return!1;var i=o.parentOffset,s=!i,a=i==o.parent.content.size,u=t.root.getSelection();return!a_.test(o.parent.textContent)||!u.modify?n=="left"||n=="backward"?s:a:Bb(t,e,function(){var l=u.getRangeAt(0),c=u.focusNode,f=u.focusOffset,p=u.caretBidiLevel;u.modify("move",n,"character");var d=o.depth?t.docView.domAfterPos(o.before()):t.dom,h=!d.contains(u.focusNode.nodeType==1?u.focusNode:u.focusNode.parentNode)||c==u.focusNode&&f==u.focusOffset;return u.removeAllRanges(),u.addRange(l),p!=null&&(u.caretBidiLevel=p),h})}var Sv=null,Ev=null,Av=!1;function l_(t,e,n){return Sv==e&&Ev==n?Av:(Sv=e,Ev=n,Av=n=="up"||n=="down"?s_(t,e,n):u_(t,e,n))}var qn=0,Lb=1,$s=2,Or=3,Ze=function(e,n,r,o){this.parent=e,this.children=n,this.dom=r,r.pmViewDesc=this,this.contentDOM=o,this.dirty=qn},fr={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Ze.prototype.matchesWidget=function(){return!1};Ze.prototype.matchesMark=function(){return!1};Ze.prototype.matchesNode=function(){return!1};Ze.prototype.matchesHack=function(e){return!1};Ze.prototype.parseRule=function(){return null};Ze.prototype.stopEvent=function(){return!1};fr.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t};fr.border.get=function(){return 0};Ze.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()};Ze.prototype.posBeforeChild=function(e){for(var n=0,r=this.posAtStart;n<this.children.length;n++){var o=this.children[n];if(o==e)return r;r+=o.size}};fr.posBefore.get=function(){return this.parent.posBeforeChild(this)};fr.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};fr.posAfter.get=function(){return this.posBefore+this.size};fr.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};Ze.prototype.localPosFromDOM=function(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){var o,i;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((i=o.pmViewDesc)&&i.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(i)+i.size:this.posAtStart}else{var s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}var u;if(e==this.dom&&this.contentDOM)u=n>mn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))u=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(var l=e;;l=l.parentNode){if(l==this.dom){u=!1;break}if(l.parentNode.firstChild!=l)break}if(u==null&&n==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){u=!0;break}if(c.parentNode.lastChild!=c)break}}return(u==null?r>0:u)?this.posAtEnd:this.posAtStart};Ze.prototype.nearestDesc=function(e,n){for(var r=!0,o=e;o;o=o.parentNode){var i=this.getDesc(o);if(i&&(!n||i.node))if(r&&i.nodeDOM&&!(i.nodeDOM.nodeType==1?i.nodeDOM.contains(e.nodeType==1?e:e.parentNode):i.nodeDOM==e))r=!1;else return i}};Ze.prototype.getDesc=function(e){for(var n=e.pmViewDesc,r=n;r;r=r.parent)if(r==this)return n};Ze.prototype.posFromDOM=function(e,n,r){for(var o=e;o;o=o.parentNode){var i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,r)}return-1};Ze.prototype.descAt=function(e){for(var n=0,r=0;n<this.children.length;n++){var o=this.children[n],i=r+o.size;if(r==e&&i!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<i)return o.descAt(e-r-o.border);r=i}};Ze.prototype.domFromPos=function(e,n){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,o=0,i=0;r<this.children.length;r++){var s=this.children[r],a=i+s.size;if(a>e||s instanceof Vb){o=e-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(var u=void 0;r&&!(u=this.children[r-1]).size&&u instanceof zb&&u.widget.type.side>=0;r--);if(n<=0){for(var l,c=!0;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,c=!1);return l&&n&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?mn(l.dom)+1:0}}else{for(var f,p=!0;f=r<this.children.length?this.children[r]:null,!(!f||f.dom.parentNode==this.contentDOM);r++,p=!1);return f&&p&&!f.border&&!f.domAtom?f.domFromPos(0,n):{node:this.contentDOM,offset:f?mn(f.dom):this.contentDOM.childNodes.length}}};Ze.prototype.parseRange=function(e,n,r){if(r===void 0&&(r=0),this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,i=-1,s=r,a=0;;a++){var u=this.children[a],l=s+u.size;if(o==-1&&e<=l){var c=s+u.border;if(e>=c&&n<=l-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,c);e=s;for(var f=a;f>0;f--){var p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){o=mn(p.dom)+1;break}e-=p.size}o==-1&&(o=0)}if(o>-1&&(l>n||a==this.children.length-1)){n=l;for(var d=a+1;d<this.children.length;d++){var h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=mn(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=l}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}};Ze.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)};Ze.prototype.domAfterPos=function(e){var n=this.domFromPos(e,0),r=n.node,o=n.offset;if(r.nodeType!=1||o==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[o]};Ze.prototype.setSelection=function(e,n,r,o){for(var i=Math.min(e,n),s=Math.max(e,n),a=0,u=0;a<this.children.length;a++){var l=this.children[a],c=u+l.size;if(i>u&&s<c)return l.setSelection(e-u-l.border,n-u-l.border,r,o);u=c}var f=this.domFromPos(e,e?-1:1),p=n==e?f:this.domFromPos(n,n?-1:1),d=r.getSelection(),h=!1;if((j.gecko||j.safari)&&e==n){var m=f.node,g=f.offset;if(m.nodeType==3){if(h=g&&m.nodeValue[g-1]==`
`,h&&g==m.nodeValue.length)for(var b=m,v=void 0;b;b=b.parentNode){if(v=b.nextSibling){v.nodeName=="BR"&&(f=p={node:v.parentNode,offset:mn(v)+1});break}var w=b.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{var y=m.childNodes[g-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(j.gecko&&d.focusNode&&d.focusNode!=p.node&&d.focusNode.nodeType==1){var S=d.focusNode.childNodes[d.focusOffset];S&&S.contentEditable=="false"&&(o=!0)}if(!(!(o||h&&j.safari)&&da(f.node,f.offset,d.anchorNode,d.anchorOffset)&&da(p.node,p.offset,d.focusNode,d.focusOffset))){var A=!1;if((d.extend||e==n)&&!h){d.collapse(f.node,f.offset);try{e!=n&&d.extend(p.node,p.offset),A=!0}catch(_){if(!(_ instanceof DOMException))throw _}}if(!A){if(e>n){var k=f;f=p,p=k}var x=document.createRange();x.setEnd(p.node,p.offset),x.setStart(f.node,f.offset),d.removeAllRanges(),d.addRange(x)}}};Ze.prototype.ignoreMutation=function(e){return!this.contentDOM&&e.type!="selection"};fr.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};Ze.prototype.markDirty=function(e,n){for(var r=0,o=0;o<this.children.length;o++){var i=this.children[o],s=r+i.size;if(r==s?e<=s&&n>=r:e<s&&n>r){var a=r+i.border,u=s-i.border;if(e>=a&&n<=u){this.dirty=e==r||n==s?$s:Lb,e==a&&n==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Or:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?$s:Or}r=s}this.dirty=$s};Ze.prototype.markParentsDirty=function(){for(var e=1,n=this.parent;n;n=n.parent,e++){var r=e==1?$s:Lb;n.dirty<r&&(n.dirty=r)}};fr.domAtom.get=function(){return!1};fr.ignoreForCoords.get=function(){return!1};Object.defineProperties(Ze.prototype,fr);var uo=[],zb=function(t){function e(r,o,i,s){var a,u=o.type.toDOM;if(typeof u=="function"&&(u=u(i,function(){if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!o.type.spec.raw){if(u.nodeType!=1){var l=document.createElement("span");l.appendChild(u),u=l}u.contentEditable=!1,u.classList.add("ProseMirror-widget")}t.call(this,r,uo,u,null),this.widget=o,a=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(o){return this.dirty==qn&&o.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(o){var i=this.widget.spec.stopEvent;return i?i(o):!1},e.prototype.ignoreMutation=function(o){return o.type!="selection"||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),t.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(Ze),c_=function(t){function e(r,o,i,s){t.call(this,r,uo,o,null),this.textDOM=i,this.text=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(o,i){return o!=this.textDOM?this.posAtStart+(i?this.size:0):this.posAtStart+i},e.prototype.domFromPos=function(o){return{node:this.textDOM,offset:o}},e.prototype.ignoreMutation=function(o){return o.type==="characterData"&&o.target.nodeValue==o.oldValue},Object.defineProperties(e.prototype,n),e}(Ze),mc=function(t){function e(n,r,o,i){t.call(this,n,[],o,i),this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(r,o,i,s){var a=s.nodeViews[o.type.name],u=a&&a(o,s,i);return(!u||!u.dom)&&(u=Rt.renderSpec(document,o.type.spec.toDOM(o,i))),new e(r,o,u.dom,u.contentDOM||u.dom)},e.prototype.parseRule=function(){return this.dirty&Or||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(r){return this.dirty!=Or&&this.mark.eq(r)},e.prototype.markDirty=function(r,o){if(t.prototype.markDirty.call(this,r,o),this.dirty!=qn){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=qn}},e.prototype.slice=function(r,o,i){var s=e.create(this.parent,this.mark,!0,i),a=this.children,u=this.size;o<u&&(a=wp(a,o,u,i)),r>0&&(a=wp(a,0,r,i));for(var l=0;l<a.length;l++)a[l].parent=s;return s.children=a,s},e}(Ze),Ra=function(t){function e(r,o,i,s,a,u,l,c,f){t.call(this,r,o.isLeaf?uo:[],a,u),this.nodeDOM=l,this.node=o,this.outerDeco=i,this.innerDeco=s,u&&this.updateChildren(c,f)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(o,i,s,a,u,l){var c,f=u.nodeViews[i.type.name],p,d=f&&f(i,u,function(){if(!p)return l;if(p.parent)return p.parent.posBeforeChild(p)},s,a),h=d&&d.dom,m=d&&d.contentDOM;if(i.isText){if(!h)h=document.createTextNode(i.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||(c=Rt.renderSpec(document,i.type.spec.toDOM(i)),h=c.dom,m=c.contentDOM);!m&&!i.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable=!1),i.type.spec.draggable&&(h.draggable=!0));var g=h;return h=Ub(h,s,i),d?p=new f_(o,i,s,a,h,m,g,d,u,l+1):i.isText?new Hb(o,i,s,a,h,g,u):new e(o,i,s,a,h,m,g,u,l+1)},e.prototype.parseRule=function(){var o=this;if(this.node.type.spec.reparseInView)return null;var i={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(i.preserveWhitespace="full"),!this.contentDOM)i.getContent=function(){return o.node.content};else if(!this.contentLost)i.contentElement=this.contentDOM;else{for(var s=this.children.length-1;s>=0;s--){var a=this.children[s];if(this.dom.contains(a.dom.parentNode)){i.contentElement=a.dom.parentNode;break}}i.contentElement||(i.getContent=function(){return I.empty})}return i},e.prototype.matchesNode=function(o,i,s){return this.dirty==qn&&o.eq(this.node)&&Cp(i,this.outerDeco)&&s.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(o,i){var s=this,a=this.node.inlineContent,u=i,l=o.composing&&this.localCompositionInfo(o,i),c=l&&l.pos>-1?l:null,f=l&&l.pos<0,p=new Rn(this,c&&c.node);m_(this.node,this.innerDeco,function(d,h,m){d.spec.marks?p.syncToMarks(d.spec.marks,a,o):d.type.side>=0&&!m&&p.syncToMarks(h==s.node.childCount?Ne.none:s.node.child(h).marks,a,o),p.placeWidget(d,o,u)},function(d,h,m,g){p.syncToMarks(d.marks,a,o);var b;p.findNodeMatch(d,h,m,g)||f&&o.state.selection.from>u&&o.state.selection.to<u+d.nodeSize&&(b=p.findIndexWithChild(l.node))>-1&&p.updateNodeAt(d,h,m,b,o)||p.updateNextNode(d,h,m,o,g)||p.addNode(d,h,m,o,u),u+=d.nodeSize}),p.syncToMarks(uo,a,o),this.node.isTextblock&&p.addTextblockHacks(),p.destroyRest(),(p.changed||this.dirty==$s)&&(c&&this.protectLocalComposition(o,c),jb(this.contentDOM,this.children,o),j.ios&&v_(this.dom))},e.prototype.localCompositionInfo=function(o,i){var s=o.state.selection,a=s.from,u=s.to;if(!(!(o.state.selection instanceof Se)||a<i||u>i+this.node.content.size)){var l=o.root.getSelection(),c=g_(l.focusNode,l.focusOffset);if(!(!c||!this.dom.contains(c.parentNode)))if(this.node.inlineContent){var f=c.nodeValue,p=y_(this.node.content,f,a-i,u-i);return p<0?null:{node:c,pos:p,text:f}}else return{node:c,pos:-1}}},e.prototype.protectLocalComposition=function(o,i){var s=i.node,a=i.pos,u=i.text;if(!this.getDesc(s)){for(var l=s;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=null)}var c=new c_(this,l,s,u);o.compositionNodes.push(c),this.children=wp(this.children,a,a+u.length,o,c)}},e.prototype.update=function(o,i,s,a){return this.dirty==Or||!o.sameMarkup(this.node)?!1:(this.updateInner(o,i,s,a),!0)},e.prototype.updateInner=function(o,i,s,a){this.updateOuterDeco(i),this.node=o,this.innerDeco=s,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=qn},e.prototype.updateOuterDeco=function(o){if(!Cp(o,this.outerDeco)){var i=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=qb(this.dom,this.nodeDOM,bp(this.outerDeco,this.node,i),bp(o,this.node,i)),this.dom!=s&&(s.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=o}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(Ze);function $b(t,e,n,r,o){return Ub(r,e,t),new Ra(null,t,e,n,r,r,r,o,0)}var Hb=function(t){function e(r,o,i,s,a,u,l){t.call(this,r,o,i,s,a,null,u,l)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var o=this.nodeDOM.parentNode;o&&o!=this.dom&&!o.pmIsDeco;)o=o.parentNode;return{skip:o||!0}},e.prototype.update=function(o,i,s,a){return this.dirty==Or||this.dirty!=qn&&!this.inParent()||!o.sameMarkup(this.node)?!1:(this.updateOuterDeco(i),(this.dirty!=qn||o.text!=this.node.text)&&o.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=o.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=o,this.dirty=qn,!0)},e.prototype.inParent=function(){for(var o=this.parent.contentDOM,i=this.nodeDOM;i;i=i.parentNode)if(i==o)return!0;return!1},e.prototype.domFromPos=function(o){return{node:this.nodeDOM,offset:o}},e.prototype.localPosFromDOM=function(o,i,s){return o==this.nodeDOM?this.posAtStart+Math.min(i,this.node.text.length):t.prototype.localPosFromDOM.call(this,o,i,s)},e.prototype.ignoreMutation=function(o){return o.type!="characterData"&&o.type!="selection"},e.prototype.slice=function(o,i,s){var a=this.node.cut(o,i),u=document.createTextNode(a.text);return new e(this.parent,a,this.outerDeco,this.innerDeco,u,u,s)},e.prototype.markDirty=function(o,i){t.prototype.markDirty.call(this,o,i),this.dom!=this.nodeDOM&&(o==0||i==this.nodeDOM.nodeValue.length)&&(this.dirty=Or)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(Ra),Vb=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(o){return this.dirty==qn&&this.dom.nodeName==o},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(e.prototype,n),e}(Ze),f_=function(t){function e(n,r,o,i,s,a,u,l,c,f){t.call(this,n,r,o,i,s,a,u,c,f),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(r,o,i,s){if(this.dirty==Or)return!1;if(this.spec.update){var a=this.spec.update(r,o,i);return a&&this.updateInner(r,o,i,s),a}else return!this.contentDOM&&!r.isLeaf?!1:t.prototype.update.call(this,r,o,i,s)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(r,o,i,s){this.spec.setSelection?this.spec.setSelection(r,o,i):t.prototype.setSelection.call(this,r,o,i,s)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(r){return this.spec.stopEvent?this.spec.stopEvent(r):!1},e.prototype.ignoreMutation=function(r){return this.spec.ignoreMutation?this.spec.ignoreMutation(r):t.prototype.ignoreMutation.call(this,r)},e}(Ra);function jb(t,e,n){for(var r=t.firstChild,o=!1,i=0;i<e.length;i++){var s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=kv(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof mc){var u=r?r.previousSibling:t.lastChild;jb(s.contentDOM,s.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=kv(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}function Hs(t){t&&(this.nodeName=t)}Hs.prototype=Object.create(null);var Mo=[new Hs];function bp(t,e,n){if(t.length==0)return Mo;for(var r=n?Mo[0]:new Hs,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs;if(!!s){s.nodeName&&o.push(r=new Hs(s.nodeName));for(var a in s){var u=s[a];u!=null&&(n&&o.length==1&&o.push(r=new Hs(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+u:a=="style"?r.style=(r.style?r.style+";":"")+u:a!="nodeName"&&(r[a]=u))}}}return o}function qb(t,e,n,r){if(n==Mo&&r==Mo)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var u=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(u=o.parentNode)&&u.tagName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(o),a=Mo[0]),o=u}p_(o,a||Mo[0],s)}return o}function p_(t,e,n){for(var r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(var o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" ").filter(Boolean):uo,s=n.class?n.class.split(" ").filter(Boolean):uo,a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(var u=0;u<s.length;u++)i.indexOf(s[u])==-1&&t.classList.add(s[u]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style)for(var l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,c;c=l.exec(e.style);)t.style.removeProperty(c[1]);n.style&&(t.style.cssText+=n.style)}}function Ub(t,e,n){return qb(t,t,Mo,bp(e,n,t.nodeType!=1))}function Cp(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function kv(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var Rn=function(e,n){this.top=e,this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.preMatch=d_(e.node.content,e)};Rn.prototype.destroyBetween=function(e,n){if(e!=n){for(var r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}};Rn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};Rn.prototype.syncToMarks=function(e,n,r){for(var o=0,i=this.stack.length>>1,s=Math.min(i,e.length);o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=qn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,u=this.index;u<Math.min(this.index+3,this.top.children.length);u++)if(this.top.children[u].matchesMark(e[i])){a=u;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=mc.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}};Rn.prototype.findNodeMatch=function(e,n,r,o){var i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))i=this.top.children.indexOf(s,this.index);else for(var a=this.index,u=Math.min(this.top.children.length,a+5);a<u;a++){var l=this.top.children[a];if(l.matchesNode(e,n,r)&&!this.preMatch.matched.has(l)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)};Rn.prototype.updateNodeAt=function(e,n,r,o,i){var s=this.top.children[o];return s.update(e,n,r,i)?(this.destroyBetween(this.index,o),this.index=o+1,!0):!1};Rn.prototype.findIndexWithChild=function(e){for(;;){var n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){var r=e.pmViewDesc;if(r){for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}};Rn.prototype.updateNextNode=function(e,n,r,o,i){for(var s=this.index;s<this.top.children.length;s++){var a=this.top.children[s];if(a instanceof Ra){var u=this.preMatch.matched.get(a);if(u!=null&&u!=i)return!1;var l=a.dom,c=this.lock&&(l==this.lock||l.nodeType==1&&l.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Or&&Cp(n,a.outerDeco));if(!c&&a.update(e,n,r,o))return this.destroyBetween(this.index,s),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1};Rn.prototype.addNode=function(e,n,r,o,i){this.top.children.splice(this.index++,0,Ra.create(this.top,e,n,r,o,i)),this.changed=!0};Rn.prototype.placeWidget=function(e,n,r){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{var i=new zb(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}};Rn.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1],n=this.top;e instanceof mc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Hb)||/\n$/.test(e.node.text))&&((j.safari||j.chrome)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))};Rn.prototype.addHackNode=function(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{var r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");var o=new Vb(this.top,uo,r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}};function d_(t,e){var n=e,r=n.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){for(var a=void 0;;)if(r){var u=n.children[r-1];if(u instanceof mc)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}var l=a.node;if(!!l){if(l!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function h_(t,e){return t.type.side-e.type.side}function m_(t,e,n,r){var o=e.locals(t),i=0;if(o.length==0){for(var s=0;s<t.childCount;s++){var a=t.child(s);r(a,o,e.forChild(i,a),s),i+=a.nodeSize}return}for(var u=0,l=[],c=null,f=0;;){if(u<o.length&&o[u].to==i){for(var p=o[u++],d=void 0;u<o.length&&o[u].to==i;)(d||(d=[p])).push(o[u++]);if(d){d.sort(h_);for(var h=0;h<d.length;h++)n(d[h],f,!!c)}else n(p,f,!!c)}var m=void 0,g=void 0;if(c)g=-1,m=c,c=null;else if(f<t.childCount)g=f,m=t.child(f++);else break;for(var b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;u<o.length&&o[u].from<=i&&o[u].to>i;)l.push(o[u++]);var v=i+m.nodeSize;if(m.isText){var w=v;u<o.length&&o[u].from<w&&(w=o[u].from);for(var y=0;y<l.length;y++)l[y].to<w&&(w=l[y].to);w<v&&(c=m.cut(w-i),m=m.cut(0,w-i),v=w,g=-1)}var S=l.length?m.isInline&&!m.isLeaf?l.filter(function(A){return!A.inline}):l.slice():uo;r(m,S,e.forChild(i,m),g),i=v}}function v_(t){if(t.nodeName=="UL"||t.nodeName=="OL"){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function g_(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=er(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function y_(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,!!s.isText){for(var u=s.text;o<t.childCount;){var l=t.child(o++);if(i+=l.nodeSize,!l.isText)break;u+=l.text}if(i>=n){var c=a<r?u.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&u.length>=r+e.length-a&&u.slice(r-a,r-a+e.length)==e)return r}}}return-1}function wp(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var u=t[s],l=a,c=a+=u.size;l>=n||c<=e?i.push(u):(l<e&&i.push(u.slice(0,e-l,r)),o&&(i.push(o),o=null),c>n&&i.push(u.slice(n-l,u.size,r)))}return i}function Wb(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a=r.resolve(s),u,l;if(Ud(n)){for(u=a;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&Ce.isSelectable(o.node)&&o.parent&&!(o.node.isInline&&JO(n.focusNode,n.focusOffset,o.dom))){var c=o.posBefore;l=new Ce(s==c?a:r.resolve(c))}}else{var f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;u=r.resolve(f)}if(!l){var p=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;l=Jd(t,u,a,p)}return l}function Jb(t){return t.editable?t.hasFocus():Gb(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ho(t,e){var n=t.state.selection;if(Kb(t,n),!!Jb(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault&&j.chrome){var r=t.root.getSelection(),o=t.domObserver.currentSelection;if(r.anchorNode&&da(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)C_(t);else{var i=n.anchor,s=n.head,a,u;Dv&&!(n instanceof Se)&&(n.$from.parent.inlineContent||(a=xv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(u=xv(t,n.to))),t.docView.setSelection(i,s,t.root,e),Dv&&(a&&Ov(a),u&&Ov(u)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&b_(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var Dv=j.safari||j.chrome&&j.chrome_version<63;function xv(t,e){var n=t.docView.domFromPos(e,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(j.safari&&i&&i.contentEditable=="false")return hf(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return hf(i);if(s)return hf(s)}}function hf(t){return t.contentEditable="true",j.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Ov(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function b_(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout(function(){(!Jb(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function C_(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setEnd(r.parentNode,mn(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&j.ie&&j.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function Kb(t,e){if(e instanceof Ce){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(_v(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else _v(t)}function _v(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Jd(t,e,n,r){return t.someProp("createSelectionBetween",function(o){return o(t,e,n)})||Se.between(e,n,r)}function Zb(t){return t.editable&&t.root.activeElement!=t.dom?!1:Gb(t)}function Gb(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function w_(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.root.getSelection();return da(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Sp(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ve.findFrom(s,e)}function Oo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Tv(t,e,n){var r=t.state.selection;if(r instanceof Se){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=Sp(t.state,e);return o&&o instanceof Ce?Oo(t,o):!1}else if(!(j.mac&&n.indexOf("m")>-1)){var i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;var u=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(u))&&!a.contentDOM?Ce.isSelectable(s)?Oo(t,new Ce(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):j.webkit?Oo(t,new Se(t.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else{if(r instanceof Ce&&r.node.isInline)return Oo(t,new Se(e>0?r.$to:r.$from));var l=Sp(t.state,e);return l?Oo(t,l):!1}}function hl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Vs(t){var e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function mf(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(!!n){var o,i,s=!1;for(j.gecko&&n.nodeType==1&&r<hl(n)&&Vs(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;var a=n.childNodes[r-1];if(Vs(a))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}else{if(Yb(n))break;for(var u=n.previousSibling;u&&Vs(u);)o=n.parentNode,i=mn(u),u=u.previousSibling;if(u)n=u,r=hl(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}s?Ep(t,e,n,r):o&&Ep(t,e,o,i)}}function vf(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(!!n){for(var o=hl(n),i,s;;)if(r<o){if(n.nodeType!=1)break;var a=n.childNodes[r];if(Vs(a))i=n,s=++r;else break}else{if(Yb(n))break;for(var u=n.nextSibling;u&&Vs(u);)i=u.parentNode,s=mn(u)+1,u=u.nextSibling;if(u)n=u,r=0,o=hl(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}i&&Ep(t,e,i,s)}}function Yb(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Ep(t,e,n,r){if(Ud(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var i=t.state;setTimeout(function(){t.state==i&&ho(t)},50)}function Mv(t,e,n){var r=t.state.selection;if(r instanceof Se&&!r.empty||n.indexOf("s")>-1||j.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=Sp(t.state,e);if(s&&s instanceof Ce)return Oo(t,s)}if(!o.parent.inlineContent){var a=e<0?o:i,u=r instanceof Rr?ve.near(a,e):ve.findFrom(a,e);return u?Oo(t,u):!1}return!1}function Nv(t,e){if(!(t.state.selection instanceof Se))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Fv(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function S_(t){if(!(!j.safari||t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&n.nodeType==1&&r==0&&n.firstChild&&n.firstChild.contentEditable=="false"){var o=n.firstChild;Fv(t,o,!0),setTimeout(function(){return Fv(t,o,!1)},20)}}}function E_(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function A_(t,e){var n=e.keyCode,r=E_(e);return n==8||j.mac&&n==72&&r=="c"?Nv(t,-1)||mf(t):n==46||j.mac&&n==68&&r=="c"?Nv(t,1)||vf(t):n==13||n==27?!0:n==37?Tv(t,-1,r)||mf(t):n==39?Tv(t,1,r)||vf(t):n==38?Mv(t,-1,r)||mf(t):n==40?S_(t)||Mv(t,1,r)||vf(t):r==(j.mac?"m":"c")&&(n==66||n==73||n==89||n==90)}function k_(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,u=r.to,l=t.root.getSelection(),c=null,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],Ud(l)||c.push({node:l.focusNode,offset:l.focusOffset})),j.chrome&&t.lastKeyCode===8)for(var p=s;p>i;p--){var d=o.childNodes[p-1],h=d.pmViewDesc;if(d.nodeName=="BR"&&!h){s=p;break}if(!h||h.size)break}var m=t.state.doc,g=t.someProp("domParser")||jn.fromSchema(t.state.schema),b=m.resolve(a),v=null,w=g.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:s,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,editableContent:!0,findPositions:c,ruleFromNode:D_,context:b});if(c&&c[0].pos!=null){var y=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=y),v={anchor:y+a,head:S+a}}return{doc:w,sel:v,from:a,to:u}}function D_(t){var e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(j.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||j.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function x_(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=Wb(t,i);if(s&&!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);i=="pointer"?a.setMeta("pointer",!0):i=="key"&&a.scrollIntoView(),t.dispatch(a)}return}var u=t.state.doc.resolve(e),l=u.sharedDepth(n);e=u.before(l+1),n=t.state.doc.resolve(n).after(l+1);var c=t.state.selection,f=k_(t,e,n);if(j.chrome&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from){var p=t.cursorWrapper.deco.type.toDOM.nextSibling,d=p&&p.nodeValue?p.nodeValue.length:1;f.sel={anchor:f.sel.anchor+d,head:f.sel.anchor+d}}var h=t.state.doc,m=h.slice(f.from,f.to),g,b;t.lastKeyCode===8&&Date.now()-100<t.lastKeyCodeTime?(g=t.state.selection.to,b="end"):(g=t.state.selection.from,b="start"),t.lastKeyCode=null;var v=T_(m.content,f.doc.content,f.from,g,b);if((j.ios&&t.lastIOSEnter>Date.now()-225||j.android)&&o.some(function(Y){return Y.nodeName=="DIV"||Y.nodeName=="P"})&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",function(Y){return Y(t,di(13,"Enter"))})){t.lastIOSEnter=0;return}if(!v)if(r&&c instanceof Se&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){var w=Rv(t,t.state.doc,f.sel);w&&!w.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(w))}return}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof Se&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),j.ie&&j.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)==" \xA0"&&(v.start--,v.endA--,v.endB--);var y=f.doc.resolveNoCache(v.start-f.from),S=f.doc.resolveNoCache(v.endB-f.from),A=y.sameParent(S)&&y.parent.inlineContent,k;if((j.ios&&t.lastIOSEnter>Date.now()-225&&(!A||o.some(function(Y){return Y.nodeName=="DIV"||Y.nodeName=="P"}))||!A&&y.pos<f.doc.content.size&&(k=ve.findFrom(f.doc.resolve(y.pos+1),1,!0))&&k.head==S.pos)&&t.someProp("handleKeyDown",function(Y){return Y(t,di(13,"Enter"))})){t.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&__(h,v.start,v.endA,y,S)&&t.someProp("handleKeyDown",function(Y){return Y(t,di(8,"Backspace"))})){j.android&&j.chrome&&t.domObserver.suppressSelectionUpdates();return}j.chrome&&j.android&&v.toB==v.from&&(t.lastAndroidDelete=Date.now()),j.android&&!A&&y.start()!=S.start()&&S.parentOffset==0&&y.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==v.endA&&(v.endB-=2,S=f.doc.resolveNoCache(v.endB-f.from),setTimeout(function(){t.someProp("handleKeyDown",function(Y){return Y(t,di(13,"Enter"))})},20));var x=v.start,_=v.endA,N,z,M,H;if(A){if(y.pos==S.pos)j.ie&&j.ie_version<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return ho(t)},20)),N=t.state.tr.delete(x,_),z=h.resolve(v.start).marksAcross(h.resolve(v.endA));else if(v.endA==v.endB&&(H=h.resolve(v.start))&&(M=O_(y.parent.content.cut(y.parentOffset,S.parentOffset),H.parent.content.cut(H.parentOffset,v.endA-H.start()))))N=t.state.tr,M.type=="add"?N.addMark(x,_,M.mark):N.removeMark(x,_,M.mark);else if(y.parent.child(y.index()).isText&&y.index()==S.index()-(S.textOffset?0:1)){var te=y.parent.textBetween(y.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",function(Y){return Y(t,x,_,te)}))return;N=t.state.tr.insertText(te,x,_)}}if(N||(N=t.state.tr.replace(x,_,f.doc.slice(v.start-f.from,v.endB-f.from))),f.sel){var ee=Rv(t,N.doc,f.sel);ee&&!(j.chrome&&j.android&&t.composing&&ee.empty&&(v.start!=v.endB||t.lastAndroidDelete<Date.now()-100)&&(ee.head==x||ee.head==N.mapping.map(_)-1)||j.ie&&ee.empty&&ee.head==x)&&N.setSelection(ee)}z&&N.ensureMarks(z),t.dispatch(N.scrollIntoView())}function Rv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Jd(t,e.resolve(n.anchor),e.resolve(n.head))}function O_(t,e){for(var n=t.firstChild.marks,r=e.firstChild.marks,o=n,i=r,s,a,u,l=0;l<r.length;l++)o=r[l].removeFromSet(o);for(var c=0;c<n.length;c++)i=n[c].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",u=function(d){return d.mark(a.addToSet(d.marks))};else if(o.length==0&&i.length==1)a=i[0],s="remove",u=function(d){return d.mark(a.removeFromSet(d.marks))};else return null;for(var f=[],p=0;p<e.childCount;p++)f.push(u(e.child(p)));if(I.from(f).eq(t))return{mark:a,type:s}}function __(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||gf(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(gf(i,!0,!0));return!s.parent.isTextblock||s.pos>n||gf(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function gf(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function T_(t,e,n,r,o){var i=t.findDiffStart(e,n);if(i==null)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,u=s.b;if(o=="end"){var l=Math.max(0,i-Math.min(a,u));r-=a+l-i}if(a<i&&t.size<e.size){var c=r<=i&&r>=a?i-r:0;i-=c,u=i+(u-a),a=i}else if(u<i){var f=r<=i&&r>=u?i-r:0;i-=f,a=i+(a-u),u=i}return{start:i,endA:a,endB:u}}function Qb(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||Rt.fromSchema(t.state.schema),u=oC(),l=u.createElement("div");l.appendChild(a.serializeFragment(r,{document:u}));for(var c=l.firstChild,f;c&&c.nodeType==1&&(f=rC[c.nodeName.toLowerCase()]);){for(var p=f.length-1;p>=0;p--){for(var d=u.createElement(f[p]);l.firstChild;)d.appendChild(l.firstChild);l.appendChild(d),f[p]!="tbody"&&(o++,i++)}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n));var h=t.someProp("clipboardTextSerializer",function(m){return m(e)})||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h}}function Xb(t,e,n,r,o){var i,s=o.parent.type.spec.code,a;if(!n&&!e)return null;var u=e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",function(S){e=S(e,s||r)}),s)return e?new K(I.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):K.empty;var l=t.someProp("clipboardTextParser",function(S){return S(e,o,r)});if(l)a=l;else{var c=o.marks(),f=t.state,p=f.schema,d=Rt.fromSchema(p);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(S){var A=i.appendChild(document.createElement("p"));S&&A.appendChild(d.serializeNode(p.text(S,c)))})}}else t.someProp("transformPastedHTML",function(S){n=S(n)}),i=F_(n),j.webkit&&R_(i);var h=i&&i.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+) (.*)/.exec(h.getAttribute("data-pm-slice"));if(!a){var g=t.someProp("clipboardParser")||t.someProp("domParser")||jn.fromSchema(t.state.schema);a=g.parseSlice(i,{preserveWhitespace:!!(u||m),context:o,ruleFromNode:function(A){if(A.nodeName=="BR"&&!A.nextSibling&&A.parentNode&&!M_.test(A.parentNode.nodeName))return{ignore:!0}}})}if(m)a=I_(Iv(a,+m[1],+m[2]),m[3]);else if(a=K.maxOpen(N_(a.content,o),!0),a.openStart||a.openEnd){for(var b=0,v=0,w=a.content.firstChild;b<a.openStart&&!w.type.spec.isolating;b++,w=w.firstChild);for(var y=a.content.lastChild;v<a.openEnd&&!y.type.spec.isolating;v++,y=y.lastChild);a=Iv(a,b,v)}return t.someProp("transformPasted",function(S){a=S(a)}),a}var M_=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function N_(t,e){if(t.childCount<2)return t;for(var n=function(i){var s=e.node(i),a=s.contentMatchAt(e.index(i)),u=void 0,l=[];if(t.forEach(function(c){if(!!l){var f=a.findWrapping(c.type),p;if(!f)return l=null;if(p=l.length&&u.length&&tC(f,u,c,l[l.length-1],0))l[l.length-1]=p;else{l.length&&(l[l.length-1]=nC(l[l.length-1],u.length));var d=eC(c,f);l.push(d),a=a.matchType(d.type,d.attrs),u=f}}}),l)return{v:I.from(l)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}function eC(t,e,n){n===void 0&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,I.from(t));return t}function tC(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var i=tC(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));var s=r.contentMatchAt(r.childCount);if(s.matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(I.from(eC(n,t,o+1))))}}function nC(t,e){if(e==0)return t;var n=t.content.replaceChild(t.childCount-1,nC(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(I.empty,!0);return t.copy(n.append(r))}function Ap(t,e,n,r,o,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return o<r-1&&(a=Ap(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(I.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Iv(t,e,n){return e<t.openStart&&(t=new K(Ap(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new K(Ap(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var rC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Pv=null;function oC(){return Pv||(Pv=document.implementation.createHTMLDocument("title"))}function F_(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n=oC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&rC[r[1].toLowerCase()])&&(t=o.map(function(s){return"<"+s+">"}).join("")+t+o.map(function(s){return"</"+s+">"}).reverse().join("")),n.innerHTML=t,o)for(var i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function R_(t){for(var e=t.querySelectorAll(j.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function I_(t,e){if(!t.size)return t;var n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}for(var o=t.content,i=t.openStart,s=t.openEnd,a=r.length-2;a>=0;a-=2){var u=n.nodes[r[a]];if(!u||u.hasRequiredAttrs())break;o=I.from(u.create(r[a+1],o)),i++,s++}return new K(o,i,s)}var P_={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Kd=j.ie&&j.ie_version<=11,Zd=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Zd.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset};Zd.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var yn=function(e,n){var r=this;this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(o){for(var i=0;i<o.length;i++)r.queue.push(o[i]);j.ie&&j.ie_version<=11&&o.some(function(s){return s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length})?r.flushSoon():r.flush()}),this.currentSelection=new Zd,Kd&&(this.onCharData=function(o){r.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};yn.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){e.flushingSoon=-1,e.flush()},20))};yn.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};yn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,P_),Kd&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};yn.prototype.stop=function(){var e=this;if(this.observer){var n=this.observer.takeRecords();if(n.length){for(var r=0;r<n.length;r++)this.queue.push(n[r]);window.setTimeout(function(){return e.flush()},20)}this.observer.disconnect()}Kd&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};yn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};yn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};yn.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return e.suppressingSelectionUpdates=!1},50)};yn.prototype.onSelectionChange=function(){if(!!Zb(this.view)){if(this.suppressingSelectionUpdates)return ho(this.view);if(j.ie&&j.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&da(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}};yn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};yn.prototype.ignoreSelectionChange=function(e){if(e.rangeCount==0)return!0;var n=e.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0};yn.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var n=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Zb(this.view)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,a=[];if(this.view.editable)for(var u=0;u<e.length;u++){var l=this.registerMutation(e[u],a);l&&(o=o<0?l.from:Math.min(l.from,o),i=i<0?l.to:Math.max(l.to,i),l.typeOver&&(s=!0))}if(j.gecko&&a.length>1){var c=a.filter(function(d){return d.nodeName=="BR"});if(c.length==2){var f=c[0],p=c[1];f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}}(o>-1||r)&&(o>-1&&(this.view.docView.markDirty(o,i),B_(this.view)),this.handleDOMChange(o,i,s,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||ho(this.view),this.currentSelection.set(n))}};yn.prototype.registerMutation=function(e,n){if(n.indexOf(e.target)>-1)return null;var r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(var o=0;o<e.addedNodes.length;o++)n.push(e.addedNodes[o]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};var i=e.previousSibling,s=e.nextSibling;if(j.ie&&j.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var u=e.addedNodes[a],l=u.previousSibling,c=u.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(s=c)}var f=i&&i.parentNode==e.target?mn(i)+1:0,p=r.localPosFromDOM(e.target,f,-1),d=s&&s.parentNode==e.target?mn(s):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:p,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Bv=!1;function B_(t){Bv||(Bv=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var cn={},Xt={};function L_(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new yn(t,function(r,o,i,s){return x_(t,r,o,i,s)}),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(r){var o=cn[r];t.dom.addEventListener(r,t.eventHandlers[r]=function(i){$_(t,i)&&!Yd(t,i)&&(t.editable||!(i.type in Xt))&&o(t,i)})};for(var n in cn)e(n);j.safari&&t.dom.addEventListener("input",function(){return null}),Gd(t)}function $o(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function z_(t){t.domObserver.stop();for(var e in t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function Gd(t){t.someProp("handleDOMEvents",function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(r){return Yd(t,r)})})}function Yd(t,e){return t.someProp("handleDOMEvents",function(n){var r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function $_(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function H_(t,e){!Yd(t,e)&&cn[e.type]&&(t.editable||!(e.type in Xt))&&cn[e.type](t,e)}Xt.keydown=function(t,e){if(t.shiftKey=e.keyCode==16||e.shiftKey,!sC(t,e)&&(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!(j.android&&j.chrome&&e.keyCode==13)))if(e.keyCode!=229&&t.domObserver.forceFlush(),j.ios&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout(function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",function(r){return r(t,di(13,"Enter"))}),t.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",function(r){return r(t,e)})||A_(t,e)?e.preventDefault():$o(t,"key")};Xt.keyup=function(t,e){e.keyCode==16&&(t.shiftKey=!1)};Xt.keypress=function(t,e){if(!(sC(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||j.mac&&e.metaKey)){if(t.someProp("handleKeyPress",function(o){return o(t,e)})){e.preventDefault();return}var n=t.state.selection;if(!(n instanceof Se)||!n.$from.sameParent(n.$to)){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(o){return o(t,n.$from.pos,n.$to.pos,r)})||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};function vc(t){return{left:t.clientX,top:t.clientY}}function V_(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Qd(t,e,n,r,o){if(r==-1)return!1;for(var i=t.state.doc.resolve(r),s=function(l){if(t.someProp(e,function(c){return l>i.depth?c(t,n,i.nodeAfter,i.before(l),o,!0):c(t,n,i.node(l),i.before(l),o,!1)}))return{v:!0}},a=i.depth+1;a>0;a--){var u=s(a);if(u)return u.v}return!1}function ki(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function j_(t,e){if(e==-1)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ce.isSelectable(r)?(ki(t,new Ce(n),"pointer"),!0):!1}function q_(t,e){if(e==-1)return!1;var n=t.state.selection,r,o;n instanceof Ce&&(r=n.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(Ce.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(ki(t,Ce.create(t.state.doc,o),"pointer"),!0):!1}function U_(t,e,n,r,o){return Qd(t,"handleClickOn",e,n,r)||t.someProp("handleClick",function(i){return i(t,e,r)})||(o?q_(t,n):j_(t,n))}function W_(t,e,n,r){return Qd(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",function(o){return o(t,e,r)})}function J_(t,e,n,r){return Qd(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",function(o){return o(t,e,r)})||K_(t,n,r)}function K_(t,e,n){if(n.button!=0)return!1;var r=t.state.doc;if(e==-1)return r.inlineContent?(ki(t,Se.create(r,0,r.content.size),"pointer"),!0):!1;for(var o=r.resolve(e),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)ki(t,Se.create(r,a+1,a+1+s.content.size),"pointer");else if(Ce.isSelectable(s))ki(t,Ce.create(r,a),"pointer");else continue;return!0}}function Xd(t){return ml(t)}var iC=j.mac?"metaKey":"ctrlKey";cn.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Xd(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&V_(e,t.lastClick)&&!e[iC]&&(t.lastClick.type=="singleClick"?o="doubleClick":t.lastClick.type=="doubleClick"&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(vc(e));!i||(o=="singleClick"?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new gc(t,i,e,n)):(o=="doubleClick"?W_:J_)(t,i.pos,i.inside,e)?e.preventDefault():$o(t,"pointer"))};var gc=function(e,n,r,o){var i=this;this.view=e,this.startDoc=e.state.doc,this.pos=n,this.event=r,this.flushed=o,this.selectNode=r[iC],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1;var s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{var u=e.state.doc.resolve(n.pos);s=u.parent,a=u.depth?u.before():0}this.mightDrag=null;var l=o?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var f=e.state,p=f.selection;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||p instanceof Ce&&p.from<=a&&p.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&j.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){i.view.mouseDown==i&&i.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),$o(e,"pointer")};gc.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return ho(e.view)}),this.view.mouseDown=null};gc.prototype.up=function(e){if(this.done(),!!this.view.dom.contains(e.target.nodeType==3?e.target.parentNode:e.target)){var n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(vc(e))),this.allowDefault||!n?$o(this.view,"pointer"):U_(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||j.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||j.chrome&&!(this.view.state.selection instanceof Se)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ki(this.view,ve.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):$o(this.view,"pointer")}};gc.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),$o(this.view,"pointer"),e.buttons==0&&this.done()};cn.touchdown=function(t){Xd(t),$o(t,"pointer")};cn.contextmenu=function(t){return Xd(t)};function sC(t,e){return t.composing?!0:j.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500?(t.compositionEndedAt=-2e8,!0):!1}var Z_=j.android?5e3:-1;Xt.compositionstart=Xt.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(function(a){return a.type.spec.inclusive===!1})))t.markCursor=t.state.storedMarks||n.marks(),ml(t,!0),t.markCursor=null;else if(ml(t),j.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else o=s,i=-1}t.composing=!0}aC(t,Z_)};Xt.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,aC(t,20))};function aC(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout(function(){return ml(t)},e))}function uC(t){for(t.composing&&(t.composing=!1,t.compositionEndedAt=G_());t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function G_(){var t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ml(t,e){if(!(j.android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),uC(t),e||t.docView&&t.docView.dirty){var n=Wb(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Y_(t,e){if(!!t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}}var Li=j.ie&&j.ie_version<15||j.ios&&j.webkit_version<604;cn.copy=Xt.cut=function(t,e){var n=t.state.selection,r=e.type=="cut";if(!n.empty){var o=Li?null:e.clipboardData,i=n.content(),s=Qb(t,i),a=s.dom,u=s.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",u)):Y_(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function Q_(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function X_(t,e){if(!!t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?kp(t,r.value,null,e):kp(t,r.textContent,r.innerHTML,e)},50)}}function kp(t,e,n,r){var o=Xb(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",function(a){return a(t,r,o||K.empty)}))return!0;if(!o)return!1;var i=Q_(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Xt.paste=function(t,e){if(!(t.composing&&!j.android)){var n=Li?null:e.clipboardData;n&&kp(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():X_(t,e)}};var eT=function(e,n){this.slice=e,this.move=n},lC=j.mac?"altKey":"ctrlKey";cn.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),!!e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(vc(e));if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof Ce?r.to-1:r.to))){if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(Ce.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){var i=t.docView.nearestDesc(e.target,!0);i&&i.node.type.spec.draggable&&i!=t.docView&&t.dispatch(t.state.tr.setSelection(Ce.create(t.state.doc,i.posBefore)))}}var s=t.state.selection.content(),a=Qb(t,s),u=a.dom,l=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Li?"Text":"text/html",u.innerHTML),e.dataTransfer.effectAllowed="copyMove",Li||e.dataTransfer.setData("text/plain",l),t.dragging=new eT(s,!e[lC])}};cn.dragend=function(t){var e=t.dragging;window.setTimeout(function(){t.dragging==e&&(t.dragging=null)},50)};Xt.dragover=Xt.dragenter=function(t,e){return e.preventDefault()};Xt.drop=function(t,e){var n=t.dragging;if(t.dragging=null,!!e.dataTransfer){var r=t.posAtCoords(vc(e));if(!!r){var o=t.state.doc.resolve(r.pos);if(!!o){var i=n&&n.slice;i?t.someProp("transformPasted",function(h){i=h(i)}):i=Xb(t,e.dataTransfer.getData(Li?"Text":"text/plain"),Li?null:e.dataTransfer.getData("text/html"),!1,o);var s=n&&!e[lC];if(t.someProp("handleDrop",function(h){return h(t,e,i||K.empty,s)})){e.preventDefault();return}if(!!i){e.preventDefault();var a=i?ub(t.state.doc,o.pos,i):o.pos;a==null&&(a=o.pos);var u=t.state.tr;s&&u.deleteSelection();var l=u.mapping.map(a),c=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=u.doc;if(c?u.replaceRangeWith(l,l,i.content.firstChild):u.replaceRange(l,l,i),!u.doc.eq(f)){var p=u.doc.resolve(l);if(c&&Ce.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new Ce(p));else{var d=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach(function(h,m,g,b){return d=b}),u.setSelection(Jd(t,p,u.doc.resolve(d)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))}}}}}};cn.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&ho(t)},20))};cn.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)};cn.beforeinput=function(t,e){if(j.chrome&&j.android&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();var n=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(i){return i(t,di(8,"Backspace"))}))){var r=t.state.selection,o=r.$cursor;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())}},50)}};for(var Lv in Xt)cn[Lv]=Xt[Lv];function ha(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var zi=function(e,n){this.spec=n||Qo,this.side=this.spec.side||0,this.toDOM=e};zi.prototype.map=function(e,n,r,o){var i=e.mapResult(n.from+o,this.side<0?-1:1),s=i.pos,a=i.deleted;return a?null:new mt(s-r,s-r,this)};zi.prototype.valid=function(){return!0};zi.prototype.eq=function(e){return this==e||e instanceof zi&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ha(this.spec,e.spec))};zi.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var Un=function(e,n){this.spec=n||Qo,this.attrs=e};Un.prototype.map=function(e,n,r,o){var i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new mt(i,s,this)};Un.prototype.valid=function(e,n){return n.from<n.to};Un.prototype.eq=function(e){return this==e||e instanceof Un&&ha(this.attrs,e.attrs)&&ha(this.spec,e.spec)};Un.is=function(e){return e.type instanceof Un};var ma=function(e,n){this.spec=n||Qo,this.attrs=e};ma.prototype.map=function(e,n,r,o){var i=e.mapResult(n.from+o,1);if(i.deleted)return null;var s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new mt(i.pos-r,s.pos-r,this)};ma.prototype.valid=function(e,n){var r=e.content.findIndex(n.from),o=r.index,i=r.offset,s;return i==n.from&&!(s=e.child(o)).isText&&i+s.nodeSize==n.to};ma.prototype.eq=function(e){return this==e||e instanceof ma&&ha(this.attrs,e.attrs)&&ha(this.spec,e.spec)};var mt=function(e,n,r){this.from=e,this.to=n,this.type=r},eh={spec:{configurable:!0},inline:{configurable:!0}};mt.prototype.copy=function(e,n){return new mt(e,n,this.type)};mt.prototype.eq=function(e,n){return n===void 0&&(n=0),this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to};mt.prototype.map=function(e,n,r){return this.type.map(e,this,n,r)};mt.widget=function(e,n,r){return new mt(e,e,new zi(n,r))};mt.inline=function(e,n,r,o){return new mt(e,n,new Un(r,o))};mt.node=function(e,n,r,o){return new mt(e,n,new ma(r,o))};eh.spec.get=function(){return this.type.spec};eh.inline.get=function(){return this.type instanceof Un};Object.defineProperties(mt.prototype,eh);var vl=[],Qo={},ze=function(e,n){this.local=e&&e.length?e:vl,this.children=n&&n.length?n:vl};ze.create=function(e,n){return n.length?yc(n,e,0,Qo):It};ze.prototype.find=function(e,n,r){var o=[];return this.findInner(e==null?0:e,n==null?1e9:n,o,0,r),o};ze.prototype.findInner=function(e,n,r,o,i){for(var s=0;s<this.local.length;s++){var a=this.local[s];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(var u=0;u<this.children.length;u+=3)if(this.children[u]<n&&this.children[u+1]>e){var l=this.children[u]+1;this.children[u+2].findInner(e-l,n-l,r,o+l,i)}};ze.prototype.map=function(e,n,r){return this==It||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Qo)};ze.prototype.mapInner=function(e,n,r,o,i){for(var s,a=0;a<this.local.length;a++){var u=this.local[a].map(e,r,o);u&&u.type.valid(n,u)?(s||(s=[])).push(u):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?tT(this.children,s,e,n,r,o,i):s?new ze(s.sort(Xo)):It};ze.prototype.add=function(e,n){return n.length?this==It?ze.create(e,n):this.addInner(e,n,0):this};ze.prototype.addInner=function(e,n,r){var o=this,i,s=0;e.forEach(function(l,c){var f=c+r,p;if(!!(p=fC(n,l,f))){for(i||(i=o.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(l,p,f+1):i.splice(s,0,c,c+l.nodeSize,yc(p,l,f+1,Qo)),s+=3}});for(var a=cC(s?pC(n):n,-r),u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new ze(a.length?this.local.concat(a).sort(Xo):this.local,i||this.children)};ze.prototype.remove=function(e){return e.length==0||this==It?this:this.removeInner(e,0)};ze.prototype.removeInner=function(e,n){for(var r=this.children,o=this.local,i=0;i<r.length;i+=3){for(var s=void 0,a=r[i]+n,u=r[i+1]+n,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>a&&c.to<u&&(e[l]=null,(s||(s=[])).push(c));if(!!s){r==this.children&&(r=this.children.slice());var f=r[i+2].removeInner(s,a+1);f!=It?r[i+2]=f:(r.splice(i,3),i-=3)}}if(o.length){for(var p=0,d=void 0;p<e.length;p++)if(d=e[p])for(var h=0;h<o.length;h++)o[h].eq(d,n)&&(o==this.local&&(o=this.local.slice()),o.splice(h--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new ze(o,r):It};ze.prototype.forChild=function(e,n){if(this==It)return this;if(n.isLeaf)return ze.empty;for(var r,o,i=0;i<this.children.length;i+=3)if(this.children[i]>=e){this.children[i]==e&&(r=this.children[i+2]);break}for(var s=e+1,a=s+n.content.size,u=0;u<this.local.length;u++){var l=this.local[u];if(l.from<a&&l.to>s&&l.type instanceof Un){var c=Math.max(s,l.from)-s,f=Math.min(a,l.to)-s;c<f&&(o||(o=[])).push(l.copy(c,f))}}if(o){var p=new ze(o.sort(Xo));return r?new On([p,r]):p}return r||It};ze.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof ze)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0};ze.prototype.locals=function(e){return th(this.localsInner(e))};ze.prototype.localsInner=function(e){if(this==It)return vl;if(e.inlineContent||!this.local.some(Un.is))return this.local;for(var n=[],r=0;r<this.local.length;r++)this.local[r].type instanceof Un||n.push(this.local[r]);return n};var It=new ze;ze.empty=It;ze.removeOverlap=th;var On=function(e){this.members=e};On.prototype.map=function(e,n){var r=this.members.map(function(o){return o.map(e,n,Qo)});return On.from(r)};On.prototype.forChild=function(e,n){if(n.isLeaf)return ze.empty;for(var r=[],o=0;o<this.members.length;o++){var i=this.members[o].forChild(e,n);i!=It&&(i instanceof On?r=r.concat(i.members):r.push(i))}return On.from(r)};On.prototype.eq=function(e){if(!(e instanceof On)||e.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0};On.prototype.locals=function(e){for(var n,r=!0,o=0;o<this.members.length;o++){var i=this.members[o].localsInner(e);if(!!i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(var s=0;s<i.length;s++)n.push(i[s])}}return n?th(r?n:n.sort(Xo)):vl};On.from=function(e){switch(e.length){case 0:return It;case 1:return e[0];default:return new On(e)}};function tT(t,e,n,r,o,i,s){for(var a=t.slice(),u=function(z,M,H,te){for(var ee=0;ee<a.length;ee+=3){var Y=a[ee+1],pe=void 0;if(!(Y<0||z>Y+i)){var oe=a[ee]+i;M>=oe?a[ee+1]=z<=oe?-2:-1:H>=o&&(pe=te-H-(M-z))&&(a[ee]+=pe,a[ee+1]+=pe)}}},l=0;l<n.maps.length;l++)n.maps[l].forEach(u);for(var c=!1,f=0;f<a.length;f+=3)if(a[f+1]<0){if(a[f+1]==-2){c=!0,a[f+1]=-1;continue}var p=n.map(t[f]+i),d=p-o;if(d<0||d>=r.content.size){c=!0;continue}var h=n.map(t[f+1]+i,-1),m=h-o,g=r.content.findIndex(d),b=g.index,v=g.offset,w=r.maybeChild(b);if(w&&v==d&&v+w.nodeSize==m){var y=a[f+2].mapInner(n,w,p+1,t[f]+i+1,s);y!=It?(a[f]=d,a[f+1]=m,a[f+2]=y):(a[f+1]=-2,c=!0)}else c=!0}if(c){var S=nT(a,t,e||[],n,o,i,s),A=yc(S,r,0,s);e=A.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var x=0,_=0;x<A.children.length;x+=3){for(var N=A.children[x];_<a.length&&a[_]<N;)_+=3;a.splice(_,0,A.children[x],A.children[x+1],A.children[x+2])}}return new ze(e&&e.sort(Xo),a)}function cC(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new mt(o.from+e,o.to+e,o.type))}return n}function nT(t,e,n,r,o,i,s){function a(l,c){for(var f=0;f<l.local.length;f++){var p=l.local[f].map(r,o,c);p?n.push(p):s.onRemove&&s.onRemove(l.local[f].spec)}for(var d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(var u=0;u<t.length;u+=3)t[u+1]==-1&&a(t[u+2],e[u]+i+1);return n}function fC(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function pC(t){for(var e=[],n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function yc(t,e,n,r){var o=[],i=!1;e.forEach(function(u,l){var c=fC(t,u,l+n);if(c){i=!0;var f=yc(c,u,n+l+1,r);f!=It&&o.push(l,l+u.nodeSize,f)}});for(var s=cC(i?pC(t):t,-n).sort(Xo),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new ze(s,o):It}function Xo(t,e){return t.from-e.from||t.to-e.to}function th(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),zv(e,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),zv(e,o,r.copy(i.from,r.to)));break}}}return e}function zv(t,e,n){for(;e<t.length&&Xo(n,t[e])>0;)e++;t.splice(e,0,n)}function nh(t){var e=[];return t.someProp("decorations",function(n){var r=n(t.state);r&&r!=It&&e.push(r)}),t.cursorWrapper&&e.push(ze.create(t.state.doc,[t.cursorWrapper.deco])),On.from(e)}var yt=function(e,n){this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(gC),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=mC(this),this.markCursor=null,this.cursorWrapper=null,hC(this),this.nodeViews=vC(this),this.docView=$b(this.state.doc,dC(this),nh(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,L_(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},bc={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};bc.props.get=function(){if(this._props.state!=this.state){var t=this._props;this._props={};for(var e in t)this._props[e]=t[e];this._props.state=this.state}return this._props};yt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Gd(this),this._props=e,e.plugins&&(e.plugins.forEach(gC),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)};yt.prototype.setProps=function(e){var n={};for(var r in this._props)n[r]=this._props[r];n.state=this.state;for(var o in e)n[o]=e[o];this.update(n)};yt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)};yt.prototype.updateStateInner=function(e,n){var r=this,o=this.state,i=!1,s=!1;if(e.storedMarks&&this.composing&&(uC(this),s=!0),this.state=e,n){var a=vC(this);oT(a,this.nodeViews)&&(this.nodeViews=a,i=!0),Gd(this)}this.editable=mC(this),hC(this);var u=nh(this),l=dC(this),c=n?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,l,u);(f||!e.selection.eq(o.selection))&&(s=!0);var p=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&YO(this);if(s){this.domObserver.stop();var d=f&&(j.ie||j.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&rT(o.selection,e.selection);if(f){var h=j.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(i||!this.docView.update(e.doc,l,u,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=$b(e.doc,l,u,this.dom,this)),h&&!this.trackWrites&&(d=!0)}d||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&w_(this))?ho(this,d):(Kb(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),c=="reset")this.dom.scrollTop=0;else if(c=="to selection"){var m=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(g){return g(r)})||(e.selection instanceof Ce?wv(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),m):wv(this,this.coordsAtPos(e.selection.head,1),m))}else p&&QO(p)};yt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()};yt.prototype.updatePluginViews=function(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var i=this.state.plugins[o];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(var s=0;s<this.pluginViews.length;s++){var a=this.pluginViews[s];a.update&&a.update(this,e)}};yt.prototype.someProp=function(e,n){var r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(var i=0;i<this.directPlugins.length;i++){var s=this.directPlugins[i].props[e];if(s!=null&&(o=n?n(s):s))return o}var a=this.state.plugins;if(a)for(var u=0;u<a.length;u++){var l=a[u].props[e];if(l!=null&&(o=n?n(l):l))return o}};yt.prototype.hasFocus=function(){return this.root.activeElement==this.dom};yt.prototype.focus=function(){this.domObserver.stop(),this.editable&&XO(this.dom),ho(this),this.domObserver.start()};bc.root.get=function(){var t=this._root;if(t==null){for(var e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e}return t||document};yt.prototype.posAtCoords=function(e){return o_(this,e)};yt.prototype.coordsAtPos=function(e,n){return n===void 0&&(n=1),Pb(this,e,n)};yt.prototype.domAtPos=function(e,n){return n===void 0&&(n=0),this.docView.domFromPos(e,n)};yt.prototype.nodeDOM=function(e){var n=this.docView.descAt(e);return n?n.nodeDOM:null};yt.prototype.posAtDOM=function(e,n,r){r===void 0&&(r=-1);var o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o};yt.prototype.endOfTextblock=function(e,n){return l_(this,n||this.state,e)};yt.prototype.destroy=function(){!this.docView||(z_(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};bc.isDestroyed.get=function(){return this.docView==null};yt.prototype.dispatchEvent=function(e){return H_(this,e)};yt.prototype.dispatch=function(e){var n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))};Object.defineProperties(yt.prototype,bc);function dC(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",function(n){if(typeof n=="function"&&(n=n(t.state)),n)for(var r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[mt.node(0,t.state.doc.content.size,e)]}function hC(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:mt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function mC(t){return!t.someProp("editable",function(e){return e(t.state)===!1})}function rT(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function vC(t){var e={};return t.someProp("nodeViews",function(n){for(var r in n)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=n[r])}),e}function oT(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r}function gC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var lo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},gl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},$v=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),iT=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),sT=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),Hv=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),aT=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),uT=$v&&(Hv||+$v[1]<57)||sT&&Hv;for(var _t=0;_t<10;_t++)lo[48+_t]=lo[96+_t]=String(_t);for(var _t=1;_t<=24;_t++)lo[_t+111]="F"+_t;for(var _t=65;_t<=90;_t++)lo[_t]=String.fromCharCode(_t+32),gl[_t]=String.fromCharCode(_t);for(var yf in lo)gl.hasOwnProperty(yf)||(gl[yf]=lo[yf]);function lT(t){var e=uT&&(t.ctrlKey||t.altKey||t.metaKey)||(iT||aT)&&t.shiftKey&&t.key&&t.key.length==1,n=!e&&t.key||(t.shiftKey?gl:lo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var cT=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function fT(t){var e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");for(var r,o,i,s,a=0;a<e.length-1;a++){var u=e[a];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))cT?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function pT(t){var e=Object.create(null);for(var n in t)e[fT(n)]=t[n];return e}function bf(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function dT(t){return new gt({props:{handleKeyDown:rh(t)}})}function rh(t){var e=pT(t);return function(n,r){var o=lT(r),i=o.length==1&&o!=" ",s,a=e[bf(o,r,!i)];if(a&&a(n.state,n.dispatch,n))return!0;if(i&&(r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(s=lo[r.keyCode])&&s!=o){var u=e[bf(s,r,!0)];if(u&&u(n.state,n.dispatch,n))return!0}else if(i&&r.shiftKey){var l=e[bf(o,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}return!1}}function hT(t){return Object.prototype.toString.call(t).slice(8,-1)}function Cf(t){return hT(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Cc(t,e){const n=O({},t);return Cf(t)&&Cf(e)&&Object.keys(e).forEach(r=>{Cf(e[r])?r in t?n[r]=Cc(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}function yC(t){return typeof t=="function"}function Ee(t,e=void 0,...n){return yC(t)?e?t.bind(e)(...n):t(...n):t}function ie(t,e,n){return t.config[e]===void 0&&t.parent?ie(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind(Ye(O({},n),{parent:t.parent?ie(t.parent,e,n):null})):t.config[e]}class vt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=O(O({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ie(this,"addOptions",{name:this.name}))),this.storage=Ee(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new vt(e)}configure(e={}){const n=this.extend();return n.options=Cc(this.options,e),n.storage=Ee(ie(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new vt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ee(ie(n,"addOptions",{name:n.name})),n.storage=Ee(ie(n,"addStorage",{name:n.name,options:n.options})),n}}function bC(t,e,n){const{from:r,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="",u=!0;return t.nodesBetween(r,o,(l,c,f,p)=>{var d;const h=s==null?void 0:s[l.type.name];h?(l.isBlock&&!u&&(a+=i,u=!0),a+=h({node:l,pos:c,parent:f,index:p})):l.isText?(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(r,c)-c,o-c),u=!1):l.isBlock&&!u&&(a+=i,u=!0)}),a}function CC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const mT=vt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new gt({key:new xt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(c=>c.$from.pos)),a=Math.max(...i.map(c=>c.$to.pos)),u=CC(n);return bC(r,{from:s,to:a},{textSerializers:u})}}})]}}),vT=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0);var gT=Object.freeze({__proto__:null,blur:vT});const yT=(t=!1)=>({commands:e})=>e.setContent("",t);var bT=Object.freeze({__proto__:null,clearContent:yT});const CT=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(a,u)=>{if(a.type.isText)return;const{doc:l,mapping:c}=e,f=l.resolve(c.map(u)),p=l.resolve(c.map(u+a.nodeSize)),d=f.blockRange(p);if(!d)return;const h=ns(d);if(a.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(d.start,m)}(h||h===0)&&e.lift(d,h)})}),!0};var wT=Object.freeze({__proto__:null,clearNodes:CT});const ST=t=>e=>t(e);var ET=Object.freeze({__proto__:null,command:ST});const AT=()=>({state:t,dispatch:e})=>Db(t,e);var kT=Object.freeze({__proto__:null,createParagraphNear:AT});function Dt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}const DT=t=>({tr:e,state:n,dispatch:r})=>{const o=Dt(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const u=i.before(s),l=i.after(s);e.delete(u,l).scrollIntoView()}return!0}return!1};var xT=Object.freeze({__proto__:null,deleteNode:DT});const OT=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0};var _T=Object.freeze({__proto__:null,deleteRange:OT});const TT=()=>({state:t,dispatch:e})=>Hd(t,e);var MT=Object.freeze({__proto__:null,deleteSelection:TT});const NT=()=>({commands:t})=>t.keyboardShortcut("Enter");var FT=Object.freeze({__proto__:null,enter:NT});const RT=()=>({state:t,dispatch:e})=>kb(t,e);var IT=Object.freeze({__proto__:null,exitCode:RT});function mo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function oh(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function yl(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:oh(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function Dp(t,e,n={}){return t.find(r=>r.type===e&&yl(r.attrs,n))}function PT(t,e,n={}){return!!Dp(t,e,n)}function ih(t,e,n={}){if(!t||!e)return;const r=t.parent.childAfter(t.parentOffset);if(!r.node)return;const o=Dp(r.node.marks,e,n);if(!o)return;let i=t.index(),s=t.start()+r.offset,a=i+1,u=s+r.node.nodeSize;for(Dp(r.node.marks,e,n);i>0&&o.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&PT(t.parent.child(a).marks,e,n);)u+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:u}}const BT=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=mo(t,r.schema),{doc:s,selection:a}=n,{$from:u,from:l,to:c}=a;if(o){const f=ih(u,i,e);if(f&&f.from<=l&&f.to>=c){const p=Se.create(s,f.from,f.to);n.setSelection(p)}}return!0};var LT=Object.freeze({__proto__:null,extendMarkRange:BT});const zT=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};var $T=Object.freeze({__proto__:null,first:zT});function HT(t){var e;return((e=t.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function wC(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!HT(t)}function SC(t){return wC(t)&&t instanceof Se}function wc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function br(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function EC(t,e=null){if(!e)return null;const n=ve.atStart(t),r=ve.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,i=r.to;return e==="all"?Se.create(t,br(0,o,i),br(t.content.size,o,i)):Se.create(t,br(e,o,i),br(e,o,i))}const VT=(t=null,e)=>({editor:n,view:r,tr:o,dispatch:i})=>{e=O({scrollIntoView:!0},e);const s=()=>{wc()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!SC(n.state.selection))return s(),!0;const a=EC(n.state.doc,t)||n.state.selection,u=n.state.selection.eq(a);return i&&(u||o.setSelection(a),u&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0};var jT=Object.freeze({__proto__:null,focus:VT});const qT=(t,e)=>n=>t.every((r,o)=>e(r,Ye(O({},n),{index:o})));var UT=Object.freeze({__proto__:null,forEach:qT});const WT=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);var JT=Object.freeze({__proto__:null,insertContent:WT});function Vv(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function bl(t,e,n){if(n=O({slice:!0,parseOptions:{}},n),typeof t=="object"&&t!==null)try{return Array.isArray(t)?I.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),bl("",e,n)}if(typeof t=="string"){const r=jn.fromSchema(e);return n.slice?r.parseSlice(Vv(t),n.parseOptions).content:r.parse(Vv(t),n.parseOptions)}return bl("",e,n)}function KT(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof Fr||o instanceof ln))return;const i=t.mapping.maps[r];let s=0;i.forEach((a,u,l,c)=>{s===0&&(s=c)}),t.setSelection(ve.near(t.doc.resolve(s),n))}const ZT=t=>t.toString().startsWith("<"),GT=(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{if(o){n=O({parseOptions:{},updateSelection:!0},n);const s=bl(e,i.schema,{parseOptions:O({preserveWhitespace:"full"},n.parseOptions)});if(s.toString()==="<>")return!0;let{from:a,to:u}=typeof t=="number"?{from:t,to:t}:t,l=!0,c=!0;if((ZT(s)?s:[s]).forEach(p=>{p.check(),l=l?p.isText&&p.marks.length===0:!1,c=c?p.isBlock:!1}),a===u&&c){const{parent:p}=r.doc.resolve(a);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(a-=1,u+=1)}l?r.insertText(e,a,u):r.replaceWith(a,u,s),n.updateSelection&&KT(r,r.steps.length-1,-1)}return!0};var YT=Object.freeze({__proto__:null,insertContentAt:GT});const QT=()=>({state:t,dispatch:e})=>yb(t,e);var XT=Object.freeze({__proto__:null,joinBackward:QT});const eM=()=>({state:t,dispatch:e})=>wb(t,e);var tM=Object.freeze({__proto__:null,joinForward:eM});function AC(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function nM(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a+=1){const u=e[a];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))wc()||AC()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const rM=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=nM(t).split(/-(?!$)/),s=i.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",l=>l(n,a))});return u==null||u.steps.forEach(l=>{const c=l.map(r.mapping);c&&o&&r.maybeStep(c)}),!0};var oM=Object.freeze({__proto__:null,keyboardShortcut:rM});function va(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?Dt(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(f,p)=>{if(f.isText)return;const d=Math.max(r,p),h=Math.min(o,p+f.nodeSize);a.push({node:f,from:d,to:h})});const u=o-r,l=a.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>yl(f.node.attrs,n,{strict:!1}));return i?!!l.length:l.reduce((f,p)=>f+p.to-p.from,0)>=u}const iM=(t,e={})=>({state:n,dispatch:r})=>{const o=Dt(t,n.schema);return va(n,o,e)?FO(n,r):!1};var sM=Object.freeze({__proto__:null,lift:iM});const aM=()=>({state:t,dispatch:e})=>xb(t,e);var uM=Object.freeze({__proto__:null,liftEmptyBlock:aM});const lM=t=>({state:e,dispatch:n})=>{const r=Dt(t,e.schema);return VO(r)(e,n)};var cM=Object.freeze({__proto__:null,liftListItem:lM});const fM=()=>({state:t,dispatch:e})=>Ab(t,e);var pM=Object.freeze({__proto__:null,newlineInCode:fM});function Sc(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function jv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}const dM=(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Sc(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Dt(t,r.schema)),a==="mark"&&(s=mo(t,r.schema)),o&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(l,c)=>{i&&i===l.type&&n.setNodeMarkup(c,void 0,jv(l.attrs,e)),s&&l.marks.length&&l.marks.forEach(f=>{s===f.type&&n.addMark(c,c+l.nodeSize,s.create(jv(f.attrs,e)))})})}),!0):!1};var hM=Object.freeze({__proto__:null,resetAttributes:dM});const mM=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0);var vM=Object.freeze({__proto__:null,scrollIntoView:mM});const gM=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size});var yM=Object.freeze({__proto__:null,selectAll:gM});const bM=()=>({state:t,dispatch:e})=>bb(t,e);var CM=Object.freeze({__proto__:null,selectNodeBackward:bM});const wM=()=>({state:t,dispatch:e})=>Sb(t,e);var SM=Object.freeze({__proto__:null,selectNodeForward:wM});const EM=()=>({state:t,dispatch:e})=>IO(t,e);var AM=Object.freeze({__proto__:null,selectParentNode:EM});const kM=()=>({state:t,dispatch:e})=>Mb(t,e);var DM=Object.freeze({__proto__:null,selectTextblockEnd:kM});const xM=()=>({state:t,dispatch:e})=>Tb(t,e);var OM=Object.freeze({__proto__:null,selectTextblockStart:xM});function kC(t,e,n={}){return bl(t,e,{slice:!1,parseOptions:n})}const _M=(t,e=!1,n={})=>({tr:r,editor:o,dispatch:i})=>{const{doc:s}=r,a=kC(t,o.schema,n),u=Se.create(s,0,s.content.size);return i&&r.setSelection(u).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e),!0};var TM=Object.freeze({__proto__:null,setContent:_M});function sh(t,e){const n=mo(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,u=>{s.push(...u.marks)});const a=s.find(u=>u.type.name===n.name);return a?O({},a.attrs):{}}const MM=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,u=mo(t,r.schema);if(o)if(s){const l=sh(r,u);n.addStoredMark(u.create(O(O({},l),e)))}else a.forEach(l=>{const c=l.$from.pos,f=l.$to.pos;r.doc.nodesBetween(c,f,(p,d)=>{const h=Math.max(d,c),m=Math.min(d+p.nodeSize,f);p.marks.find(b=>b.type===u)?p.marks.forEach(b=>{u===b.type&&n.addMark(h,m,u.create(O(O({},b.attrs),e)))}):n.addMark(h,m,u.create(e))})});return!0};var NM=Object.freeze({__proto__:null,setMark:MM});const FM=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0);var RM=Object.freeze({__proto__:null,setMeta:FM});const IM=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const i=Dt(t,n.schema);return i.isTextblock?o().command(({commands:s})=>mv(i,e)(n)?!0:s.clearNodes()).command(({state:s})=>mv(i,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var PM=Object.freeze({__proto__:null,setNode:IM});const BM=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=ve.atStart(r).from,i=ve.atEnd(r).to,s=br(t,o,i),a=Ce.create(r,s);e.setSelection(a)}return!0};var LM=Object.freeze({__proto__:null,setNodeSelection:BM});const zM=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=Se.atStart(r).from,a=Se.atEnd(r).to,u=br(o,s,a),l=br(i,s,a),c=Se.create(r,u,l);e.setSelection(c)}return!0};var $M=Object.freeze({__proto__:null,setTextSelection:zM});const HM=t=>({state:e,dispatch:n})=>{const r=Dt(t,e.schema);return UO(r)(e,n)};var VM=Object.freeze({__proto__:null,sinkListItem:HM});function ju(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(i=>i.type===e&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function jM(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function qv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}const qM=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:u}=i,l=o.extensionManager.attributes,c=ju(l,a.node().type.name,a.node().attrs);if(i instanceof Ce&&i.node.isBlock)return!a.parentOffset||!Ar(s,a.pos)?!1:(r&&(t&&qv(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const f=u.parentOffset===u.parent.content.size;i instanceof Se&&e.deleteSelection();const p=a.depth===0?void 0:jM(a.node(-1).contentMatchAt(a.indexAfter(-1)));let d=f&&p?[{type:p,attrs:c}]:void 0,h=Ar(e.doc,e.mapping.map(a.pos),1,d);if(!d&&!h&&Ar(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(h=!0,d=p?[{type:p,attrs:c}]:void 0),h&&(e.split(e.mapping.map(a.pos),1,d),p&&!f&&!a.parentOffset&&a.parent.type!==p)){const m=e.mapping.map(a.before()),g=e.doc.resolve(m);a.node(-1).canReplaceWith(g.index(),g.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&qv(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0};var UM=Object.freeze({__proto__:null,splitBlock:qM});const WM=t=>({tr:e,state:n,dispatch:r,editor:o})=>{var i;const s=Dt(t,n.schema),{$from:a,$to:u}=n.selection,l=n.selection.node;if(l&&l.isBlock||a.depth<2||!a.sameParent(u))return!1;const c=a.node(-1);if(c.type!==s)return!1;const f=o.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let g=I.empty;const b=a.index(-1)?1:a.index(-2)?2:3;for(let k=a.depth-b;k>=a.depth-3;k-=1)g=I.from(a.node(k).copy(g));const v=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,w=ju(f,a.node().type.name,a.node().attrs),y=((i=s.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(w))||void 0;g=g.append(I.from(s.createAndFill(null,y)||void 0));const S=a.before(a.depth-(b-1));e.replace(S,a.after(-v),new K(g,4-b,0));let A=-1;e.doc.nodesBetween(S,e.doc.content.size,(k,x)=>{if(A>-1)return!1;k.isTextblock&&k.content.size===0&&(A=x+1)}),A>-1&&e.setSelection(Se.near(e.doc.resolve(A))),e.scrollIntoView()}return!0}const p=u.pos===a.end()?c.contentMatchAt(0).defaultType:null,d=ju(f,c.type.name,c.attrs),h=ju(f,a.node().type.name,a.node().attrs);e.delete(a.pos,u.pos);const m=p?[{type:s,attrs:d},{type:p,attrs:h}]:[{type:s,attrs:d}];return Ar(e.doc,a.pos,2)?(r&&e.split(a.pos,2,m).scrollIntoView(),!0):!1};var JM=Object.freeze({__proto__:null,splitListItem:WM});function DC(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function ah(t){return e=>DC(e.$from,t)}function Ec(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Uv(t,e){const{nodeExtensions:n}=Ec(e),r=n.find(s=>s.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=Ee(ie(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}const Wv=(t,e)=>{const n=ah(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Ma(t.doc,n.pos)&&t.join(n.pos),!0},Jv=(t,e)=>{const n=ah(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Ma(t.doc,r)&&t.join(r),!0},KM=(t,e)=>({editor:n,tr:r,state:o,dispatch:i,chain:s,commands:a,can:u})=>{const{extensions:l}=n.extensionManager,c=Dt(t,o.schema),f=Dt(e,o.schema),{selection:p}=o,{$from:d,$to:h}=p,m=d.blockRange(h);if(!m)return!1;const g=ah(b=>Uv(b.type.name,l))(p);if(m.depth>=1&&g&&m.depth-g.depth<=1){if(g.node.type===c)return a.liftListItem(f);if(Uv(g.node.type.name,l)&&c.validContent(g.node.content)&&i)return s().command(()=>(r.setNodeMarkup(g.pos,c),!0)).command(()=>Wv(r,c)).command(()=>Jv(r,c)).run()}return s().command(()=>u().wrapInList(c)?!0:a.clearNodes()).wrapInList(c).command(()=>Wv(r,c)).command(()=>Jv(r,c)).run()};var ZM=Object.freeze({__proto__:null,toggleList:KM});function xp(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?mo(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>yl(f.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:f,$to:p})=>{const d=f.pos,h=p.pos;t.doc.nodesBetween(d,h,(m,g)=>{if(!m.isText&&!m.marks.length)return;const b=Math.max(d,g),v=Math.min(h,g+m.nodeSize);s+=v-b,a.push(...m.marks.map(y=>({mark:y,from:b,to:v})))})}),s===0)return!1;const u=a.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>yl(f.mark.attrs,n,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),l=a.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,p)=>f+p.to-p.from,0);return(u>0?u+l:u)>=s}const GM=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=mo(t,r.schema);return xp(r,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)};var YM=Object.freeze({__proto__:null,toggleMark:GM});const QM=(t,e,n={})=>({state:r,commands:o})=>{const i=Dt(t,r.schema),s=Dt(e,r.schema);return va(r,i,n)?o.setNode(s):o.setNode(i,n)};var XM=Object.freeze({__proto__:null,toggleNode:QM});const eN=(t,e={})=>({state:n,commands:r})=>{const o=Dt(t,n.schema);return va(n,o,e)?r.lift(o):r.wrapIn(o,e)};var tN=Object.freeze({__proto__:null,toggleWrap:eN});const nN=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,a=i.transform;for(let u=a.steps.length-1;u>=0;u-=1)s.step(a.steps[u].invert(a.docs[u]));if(i.text){const u=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,u))}else s.delete(i.from,i.to)}return!0}}return!1};var rN=Object.freeze({__proto__:null,undoInputRule:nN});const oN=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0};var iN=Object.freeze({__proto__:null,unsetAllMarks:oN});const sN=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,u=mo(t,r.schema),{$from:l,empty:c,ranges:f}=a;if(!o)return!0;if(c&&s){let{from:p,to:d}=a;const h=(i=l.marks().find(g=>g.type===u))===null||i===void 0?void 0:i.attrs,m=ih(l,u,h);m&&(p=m.from,d=m.to),n.removeMark(p,d,u)}else f.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,u)});return n.removeStoredMark(u),!0};var aN=Object.freeze({__proto__:null,unsetMark:sN});const uN=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Sc(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Dt(t,r.schema)),a==="mark"&&(s=mo(t,r.schema)),o&&n.selection.ranges.forEach(u=>{const l=u.$from.pos,c=u.$to.pos;r.doc.nodesBetween(l,c,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,O(O({},f.attrs),e)),s&&f.marks.length&&f.marks.forEach(d=>{if(s===d.type){const h=Math.max(p,l),m=Math.min(p+f.nodeSize,c);n.addMark(h,m,s.create(O(O({},d.attrs),e)))}})})}),!0):!1};var lN=Object.freeze({__proto__:null,updateAttributes:uN});const cN=(t,e={})=>({state:n,dispatch:r})=>{const o=Dt(t,n.schema);return LO(o,e)(n,r)};var fN=Object.freeze({__proto__:null,wrapIn:cN});const pN=(t,e={})=>({state:n,dispatch:r})=>{const o=Dt(t,n.schema);return $O(o,e)(n,r)};var dN=Object.freeze({__proto__:null,wrapInList:pN});const hN=vt.create({name:"commands",addCommands(){return O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O({},gT),bT),wT),ET),kT),xT),_T),MT),FT),IT),LT),$T),jT),UT),JT),YT),XT),tM),oM),sM),uM),cM),pM),hM),vM),yM),CM),SM),AM),DM),OM),TM),NM),RM),PM),LM),$M),VM),UM),JM),ZM),YM),XM),tN),rN),iN),aN),lN),fN),dN)}}),mN=vt.create({name:"editable",addProseMirrorPlugins(){return[new gt({key:new xt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),vN=vt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new gt({key:new xt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}});function Ac(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return Ye(O({},e),{schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}})}class kc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,u])=>[a,(...c)=>{const f=u(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a=[],u=!!e,l=e||i.tr,c=()=>(!u&&n&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),a.every(p=>p===!0)),f=Ye(O({},Object.fromEntries(Object.entries(r).map(([p,d])=>[p,(...m)=>{const g=this.buildProps(l,n),b=d(...m)(g);return a.push(b),f}]))),{run:c});return f}createCan(e){const{rawCommands:n,state:r}=this,o=void 0,i=e||r.tr,s=this.buildProps(i,o),a=Object.fromEntries(Object.entries(n).map(([u,l])=>[u,(...c)=>l(...c)(Ye(O({},s),{dispatch:o}))]));return Ye(O({},a),{chain:()=>this.createChain(i,o)})}buildProps(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o;i.storedMarks&&e.setStoredMarks(i.storedMarks);const a={tr:e,editor:o,view:s,state:Ac({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,l])=>[u,(...c)=>l(...c)(a)]))}};return a}}const gN=vt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:u,doc:l}=a,{empty:c,$anchor:f}=u,{pos:p,parent:d}=f,h=ve.atStart(l).from===p;return!c||!h||!d.type.isTextblock||d.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o=O({},r),i=Ye(O({},r),{"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return wc()||AC()?i:o},addProseMirrorPlugins(){return[new gt({key:new xt("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(h=>h.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:o,from:i,to:s}=e.selection,a=ve.atStart(e.doc).from,u=ve.atEnd(e.doc).to,l=i===a&&s===u,c=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(o||!l||!c)return;const f=n.tr,p=Ac({state:n,transaction:f}),{commands:d}=new kc({editor:this.editor,state:p});if(d.clearNodes(),!!f.steps.length)return f}})]}}),yN=vt.create({name:"tabindex",addProseMirrorPlugins(){return[new gt({key:new xt("tabindex"),props:{attributes:()=>{if(this.editor.isEditable)return{tabindex:"0"}}}})]}});var bN=Object.freeze({__proto__:null,ClipboardTextSerializer:mT,Commands:hN,Editable:mN,FocusEvents:vN,Keymap:gN,Tabindex:yN});function CN(t,e){const n=Dt(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===n.name);return s?O({},s.attrs):{}}function xC(t,e){const n=Sc(typeof e=="string"?e:e.name,t.schema);return n==="node"?CN(t,e):n==="mark"?sh(t,e):{}}function wN(t,e,n={}){if(!e)return va(t,null,n)||xp(t,null,n);const r=Sc(e,t.schema);return r==="node"?va(t,e,n):r==="mark"?xp(t,e,n):!1}function SN(t,e){const n=Rt.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function EN(t,e){const n={from:0,to:t.content.size};return bC(t,n,e)}function AN(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function kN(t){const e=document.querySelector("style[data-tiptap-style]");if(e!==null)return e;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n),n}class Ia{constructor(e){this.find=e.find,this.handler=e.handler}}const DN=(t,e)=>{if(oh(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function wf(t){var e;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=t,{view:u}=n;if(u.composing)return!1;const l=u.state.doc.resolve(r);if(l.parent.type.spec.code||!!(!((e=l.nodeBefore||l.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code)))return!1;let c=!1;const f=500,p=l.parent.textBetween(Math.max(0,l.parentOffset-f),l.parentOffset,void 0," ")+i;return s.forEach(d=>{if(c)return;const h=DN(p,d.find);if(!h)return;const m=u.state.tr,g=Ac({state:u.state,transaction:m}),b={from:r-(h[0].length-i.length),to:o},{commands:v,chain:w,can:y}=new kc({editor:n,state:g});d.handler({state:g,range:b,match:h,commands:v,chain:w,can:y})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:o,text:i}),u.dispatch(m),c=!0)}),c}function xN(t){const{editor:e,rules:n}=t,r=new gt({state:{init(){return null},apply(o,i){const s=o.getMeta(this);return s||(o.selectionSet||o.docChanged?null:i)}},props:{handleTextInput(o,i,s,a){return wf({editor:e,from:i,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&wf({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?wf({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function ON(t){return typeof t=="number"}class _N{constructor(e){this.find=e.find,this.handler=e.handler}}const TN=(t,e)=>{if(oh(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const o=[];return o.push(r.text),o.index=r.index,o.input=t,o.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(r.replaceWith)),o}):[]};function MN(t){const{editor:e,state:n,from:r,to:o,rule:i}=t,{commands:s,chain:a,can:u}=new kc({editor:e,state:n}),l=[];return n.doc.nodesBetween(r,o,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const d=Math.max(r,p),h=Math.min(o,p+f.content.size),m=f.textBetween(d-p,h-p,void 0,"\uFFFC");TN(m,i.find).forEach(b=>{if(b.index===void 0)return;const v=d+b.index+1,w=v+b[0].length,y={from:n.tr.mapping.map(v),to:n.tr.mapping.map(w)},S=i.handler({state:n,range:y,match:b,commands:s,chain:a,can:u});l.push(S)})}),l.every(f=>f!==null)}function NN(t){const{editor:e,rules:n}=t;let r=null,o=!1,i=!1;return n.map(a=>new gt({view(u){const l=c=>{var f;r=!((f=u.dom.parentElement)===null||f===void 0)&&f.contains(c.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",l),{destroy(){window.removeEventListener("dragstart",l)}}},props:{handleDOMEvents:{drop:u=>(i=r===u.dom.parentElement,!1),paste:(u,l)=>{var c;const f=(c=l.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return o=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(u,l,c)=>{const f=u[0],p=f.getMeta("uiEvent")==="paste"&&!o,d=f.getMeta("uiEvent")==="drop"&&!i;if(!p&&!d)return;const h=l.doc.content.findDiffStart(c.doc.content),m=l.doc.content.findDiffEnd(c.doc.content);if(!ON(h)||!m||h===m.b)return;const g=c.tr,b=Ac({state:c,transaction:g});if(!(!MN({editor:e,state:b,from:Math.max(h-1,0),to:m.b,rule:a})||!g.steps.length))return g}}))}function OC(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ec(t),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},u=ie(s,"addGlobalAttributes",a);if(!u)return;u().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([p,d])=>{e.push({type:f,name:p,attribute:O(O({},i),d)})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},u=ie(s,"addAttributes",a);if(!u)return;const l=u();Object.entries(l).forEach(([c,f])=>{e.push({type:s.name,name:c,attribute:O(O({},i),f)})})}),e}function ct(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r=O({},e);return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}o==="class"?r[o]=[r[o],i].join(" "):o==="style"?r[o]=[r[o],i].join("; "):r[o]=i}),r},{})}function Op(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ct(n,r),{})}function FN(t={}){return Object.keys(t).length===0&&t.constructor===Object}function RN(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Kv(t,e){return t.style?t:Ye(O({},t),{getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):RN(n.getAttribute(s.name));return a==null?i:Ye(O({},i),{[s.name]:a})},{});return O(O({},r),o)}})}function Zv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&FN(n)?!1:n!=null))}function IN(t){var e;const n=OC(t),{nodeExtensions:r,markExtensions:o}=Ec(t),i=(e=r.find(u=>ie(u,"topNode")))===null||e===void 0?void 0:e.name,s=Object.fromEntries(r.map(u=>{const l=n.filter(g=>g.type===u.name),c={name:u.name,options:u.options,storage:u.storage},f=t.reduce((g,b)=>{const v=ie(b,"extendNodeSchema",c);return O(O({},g),v?v(u):{})},{}),p=Zv(Ye(O({},f),{content:Ee(ie(u,"content",c)),marks:Ee(ie(u,"marks",c)),group:Ee(ie(u,"group",c)),inline:Ee(ie(u,"inline",c)),atom:Ee(ie(u,"atom",c)),selectable:Ee(ie(u,"selectable",c)),draggable:Ee(ie(u,"draggable",c)),code:Ee(ie(u,"code",c)),defining:Ee(ie(u,"defining",c)),isolating:Ee(ie(u,"isolating",c)),attrs:Object.fromEntries(l.map(g=>{var b;return[g.name,{default:(b=g==null?void 0:g.attribute)===null||b===void 0?void 0:b.default}]}))})),d=Ee(ie(u,"parseHTML",c));d&&(p.parseDOM=d.map(g=>Kv(g,l)));const h=ie(u,"renderHTML",c);h&&(p.toDOM=g=>h({node:g,HTMLAttributes:Op(g,l)}));const m=ie(u,"renderText",c);return m&&(p.toText=m),[u.name,p]})),a=Object.fromEntries(o.map(u=>{const l=n.filter(m=>m.type===u.name),c={name:u.name,options:u.options,storage:u.storage},f=t.reduce((m,g)=>{const b=ie(g,"extendMarkSchema",c);return O(O({},m),b?b(u):{})},{}),p=Zv(Ye(O({},f),{inclusive:Ee(ie(u,"inclusive",c)),excludes:Ee(ie(u,"excludes",c)),group:Ee(ie(u,"group",c)),spanning:Ee(ie(u,"spanning",c)),code:Ee(ie(u,"code",c)),attrs:Object.fromEntries(l.map(m=>{var g;return[m.name,{default:(g=m==null?void 0:m.attribute)===null||g===void 0?void 0:g.default}]}))})),d=Ee(ie(u,"parseHTML",c));d&&(p.parseDOM=d.map(m=>Kv(m,l)));const h=ie(u,"renderHTML",c);return h&&(p.toDOM=m=>h({mark:m,HTMLAttributes:Op(m,l)})),[u.name,p]}));return new Yo({topNode:i,nodes:s,marks:a})}function Sf(t,e){return e.nodes[t]||e.marks[t]||null}function Gv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function PN(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class hi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=hi.resolve(e),this.schema=IN(this.extensions),this.extensions.forEach(r=>{var o;this.editor.extensionStorage[r.name]=r.storage;const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Sf(r.name,this.schema)};r.type==="mark"&&((o=Ee(ie(r,"keepOnSplit",i)))!==null&&o!==void 0?o:!0)&&this.splittableMarks.push(r.name);const s=ie(r,"onBeforeCreate",i);s&&this.editor.on("beforeCreate",s);const a=ie(r,"onCreate",i);a&&this.editor.on("create",a);const u=ie(r,"onUpdate",i);u&&this.editor.on("update",u);const l=ie(r,"onSelectionUpdate",i);l&&this.editor.on("selectionUpdate",l);const c=ie(r,"onTransaction",i);c&&this.editor.on("transaction",c);const f=ie(r,"onFocus",i);f&&this.editor.on("focus",f);const p=ie(r,"onBlur",i);p&&this.editor.on("blur",p);const d=ie(r,"onDestroy",i);d&&this.editor.on("destroy",d)})}static resolve(e){const n=hi.sort(hi.flatten(e)),r=PN(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=ie(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((r,o)=>{const i=ie(r,"priority")||100,s=ie(o,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Sf(n.name,this.schema)},o=ie(n,"addCommands",r);return o?O(O({},e),o()):e},{})}get plugins(){const{editor:e}=this,n=hi.sort([...this.extensions].reverse()),r=[],o=[],i=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:Sf(s.name,this.schema)},u=[],l=ie(s,"addKeyboardShortcuts",a);if(l){const d=Object.fromEntries(Object.entries(l()).map(([m,g])=>[m,()=>g({editor:e})])),h=dT(d);u.push(h)}const c=ie(s,"addInputRules",a);Gv(s,e.options.enableInputRules)&&c&&r.push(...c());const f=ie(s,"addPasteRules",a);Gv(s,e.options.enablePasteRules)&&f&&o.push(...f());const p=ie(s,"addProseMirrorPlugins",a);if(p){const d=p();u.push(...d)}return u}).flat();return[xN({editor:e,rules:r}),...NN({editor:e,rules:o}),...i]}get attributes(){return OC(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Ec(this.extensions);return Object.fromEntries(n.filter(r=>!!ie(r,"addNodeView")).map(r=>{const o=this.attributes.filter(u=>u.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:Dt(r.name,this.schema)},s=ie(r,"addNodeView",i);if(!s)return[];const a=(u,l,c,f)=>{const p=Op(u,o);return s()({editor:e,node:u,getPos:c,decorations:f,HTMLAttributes:p,extension:r})};return[r.name,a]}))}}class BN{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}const LN=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class zN extends BN{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=kN(LN))}setOptions(e={}){this.options=O(O({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=yC(n)?n(e,this.state.plugins):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});this.view.updateState(o)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(bN):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new hi(n,this)}createCommandManager(){this.commandManager=new kc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=kC(this.options.content,this.schema,this.options.parseOptions),n=EC(e,this.options.autofocus);this.view=new yt(this.options.element,Ye(O({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:jt.create({doc:e,selection:n})}));const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),i=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return xC(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return wN(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return SN(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return EN(this.state.doc,{blockSeparator:n,textSerializers:O(O({},r),CC(this.schema))})}get isEmpty(){return AN(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}class St{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=O(O({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ie(this,"addOptions",{name:this.name}))),this.storage=Ee(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const n=this.extend();return n.options=Cc(this.options,e),n.storage=Ee(ie(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new St(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ee(ie(n,"addOptions",{name:n.name})),n.storage=Ee(ie(n,"addStorage",{name:n.name,options:n.options})),n}}class _r{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=O(O({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ie(this,"addOptions",{name:this.name}))),this.storage=Ee(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _r(e)}configure(e={}){const n=this.extend();return n.options=Cc(this.options,e),n.storage=Ee(ie(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new _r(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ee(ie(n,"addOptions",{name:n.name})),n.storage=Ee(ie(n,"addStorage",{name:n.name,options:n.options})),n}}class $N{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options=O({stopEvent:null,ignoreMutation:null},r),this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return null}get contentDOM(){return null}onDragStart(e){var n,r,o;const{view:i}=this.editor,s=e.target,a=s.nodeType===3?(n=s.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):s.closest("[data-drag-handle]");if(!this.dom||((r=this.contentDOM)===null||r===void 0?void 0:r.contains(s))||!a)return;let u=0,l=0;if(this.dom!==a){const p=this.dom.getBoundingClientRect(),d=a.getBoundingClientRect();u=d.x-p.x+e.offsetX,l=d.y-p.y+e.offsetY}(o=e.dataTransfer)===null||o===void 0||o.setDragImage(this.dom,u,l);const c=Ce.create(i.state.doc,this.getPos()),f=i.state.tr.setSelection(c);i.dispatch(f)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const i=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!i)return!0;const{isEditable:a}=this.editor,{isDragging:u}=this,l=!!this.node.type.spec.draggable,c=Ce.isSelectable(this.node),f=e.type==="copy",p=e.type==="paste",d=e.type==="cut",h=e.type==="mousedown",m=e.type.startsWith("drag");if(!l&&c&&m&&e.preventDefault(),l&&m&&!u)return e.preventDefault(),!1;if(l&&a&&!u&&h){const g=r.closest("[data-drag-handle]");g&&(this.dom===g||this.dom.contains(g))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||i||f||p||d||h&&c)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&wc()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,O(O({},this.node.attrs),e)),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function _C(t){return new Ia({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Ee(t.getAttributes,void 0,r)||{},{tr:i}=e,s=n.from;let a=n.to;if(r[1]){const u=r[0].lastIndexOf(r[1]);let l=s+u;l>a?l=a:a=l+r[1].length;const c=r[0][r[0].length-1];i.insertText(c,s+r[0].length-1),i.replaceWith(l,a,t.type.create(o))}else r[0]&&i.replaceWith(s,a,t.type.create(o))}})}function Cl(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const i=n.resolve(t-1),s=ih(i,o.type);!s||r.push(O({mark:o},s))}):n.nodesBetween(t,e,(o,i)=>{r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}function $i(t){return new Ia({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Ee(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=e,s=r[r.length-1],a=r[0];let u=n.to;if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),f=c+s.length;if(Cl(n.from,n.to,e.doc).filter(d=>d.mark.type.excluded.find(m=>m===t.type&&m!==d.mark.type)).filter(d=>d.to>c).length)return null;f<n.to&&i.delete(f,n.to),c>n.from&&i.delete(n.from+l,c),u=n.from+l+s.length,i.addMark(n.from+l,u,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function _p(t){return new Ia({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),i=Ee(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function dt(t){return new Ia({find:t.find,handler:({state:e,range:n,match:r})=>{let o=t.replace,i=n.from;const s=n.to;if(r[1]){const a=r[0].lastIndexOf(r[1]);o+=r[0].slice(a+r[1].length),i+=a;const u=i-s;u>0&&(o=r[0].slice(a-u,a)+o,i=s)}e.tr.insertText(o,i,s)}})}function uh(t){return new Ia({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Ee(t.getAttributes,void 0,r)||{},i=e.tr.delete(n.from,n.to),a=i.doc.resolve(n.from).blockRange(),u=a&&Id(a,t.type,o);if(!u)return null;i.wrap(a,u);const l=i.doc.resolve(n.from-1).nodeBefore;l&&l.type===t.type&&Ma(i.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,l))&&i.join(n.from-1)}})}function Ho(t){return new _N({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Ee(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=e,s=r[r.length-1],a=r[0];let u=n.to;if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),f=c+s.length;if(Cl(n.from,n.to,e.doc).filter(d=>d.mark.type.excluded.find(m=>m===t.type&&m!==d.mark.type)).filter(d=>d.to>c).length)return null;f<n.to&&i.delete(f,n.to),c>n.from&&i.delete(n.from+l,c),u=n.from+l+s.length,i.addMark(n.from+l,u,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function HN(t,e){const n=new at(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function VN(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,i)=>{n(o)&&r.push({node:o,pos:i})}),r}function jN(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function qN(t){const e=jN(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,s)=>s!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function UN(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,i)=>{const s=[];if(o.ranges.length)o.forEach((a,u)=>{s.push({from:a,to:u})});else{const{from:a,to:u}=n[i];if(a===void 0||u===void 0)return;s.push({from:a,to:u})}s.forEach(({from:a,to:u})=>{const l=e.slice(i).map(a,-1),c=e.slice(i).map(u),f=e.invert().map(l,-1),p=e.invert().map(c);r.push({oldRange:{from:f,to:p},newRange:{from:l,to:c}})})}),qN(r)}function WN(t){return wC(t)&&t instanceof Ce}function TC(t,e,n){const o=t.state.doc.content.size,i=br(e,0,o),s=br(n,0,o),a=t.coordsAtPos(i),u=t.coordsAtPos(s,-1),l=Math.min(a.top,u.top),c=Math.max(a.bottom,u.bottom),f=Math.min(a.left,u.left),p=Math.max(a.right,u.right),d=p-f,h=c-l,b={top:l,bottom:c,left:f,right:p,width:d,height:h,x:f,y:l};return Ye(O({},b),{toJSON:()=>b})}var an="top",Tn="bottom",Mn="right",un="left",lh="auto",Pa=[an,Tn,Mn,un],Hi="start",ga="end",JN="clippingParents",MC="viewport",hs="popper",KN="reference",Yv=Pa.reduce(function(t,e){return t.concat([e+"-"+Hi,e+"-"+ga])},[]),NC=[].concat(Pa,[lh]).reduce(function(t,e){return t.concat([e,e+"-"+Hi,e+"-"+ga])},[]),ZN="beforeRead",GN="read",YN="afterRead",QN="beforeMain",XN="main",eF="afterMain",tF="beforeWrite",nF="write",rF="afterWrite",oF=[ZN,GN,YN,QN,XN,eF,tF,nF,rF];function ar(t){return t?(t.nodeName||"").toLowerCase():null}function Jn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Vi(t){var e=Jn(t).Element;return t instanceof e||t instanceof Element}function _n(t){var e=Jn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ch(t){if(typeof ShadowRoot=="undefined")return!1;var e=Jn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function iF(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!_n(i)||!ar(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function sF(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(u,l){return u[l]="",u},{});!_n(o)||!ar(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(u){o.removeAttribute(u)}))})}}var FC={name:"applyStyles",enabled:!0,phase:"write",fn:iF,effect:sF,requires:["computeStyles"]};function nr(t){return t.split("-")[0]}var Po=Math.max,wl=Math.min,ji=Math.round;function qi(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,o=1;if(_n(t)&&e){var i=t.offsetHeight,s=t.offsetWidth;s>0&&(r=ji(n.width)/s||1),i>0&&(o=ji(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function fh(t){var e=qi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function RC(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ch(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Tr(t){return Jn(t).getComputedStyle(t)}function aF(t){return["table","td","th"].indexOf(ar(t))>=0}function vo(t){return((Vi(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dc(t){return ar(t)==="html"?t:t.assignedSlot||t.parentNode||(ch(t)?t.host:null)||vo(t)}function Qv(t){return!_n(t)||Tr(t).position==="fixed"?null:t.offsetParent}function uF(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&_n(t)){var r=Tr(t);if(r.position==="fixed")return null}var o=Dc(t);for(ch(o)&&(o=o.host);_n(o)&&["html","body"].indexOf(ar(o))<0;){var i=Tr(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Ba(t){for(var e=Jn(t),n=Qv(t);n&&aF(n)&&Tr(n).position==="static";)n=Qv(n);return n&&(ar(n)==="html"||ar(n)==="body"&&Tr(n).position==="static")?e:n||uF(t)||e}function ph(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function js(t,e,n){return Po(t,wl(e,n))}function lF(t,e,n){var r=js(t,e,n);return r>n?n:r}function IC(){return{top:0,right:0,bottom:0,left:0}}function PC(t){return Object.assign({},IC(),t)}function BC(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var cF=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,PC(typeof e!="number"?e:BC(e,Pa))};function fF(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=nr(n.placement),u=ph(a),l=[un,Mn].indexOf(a)>=0,c=l?"height":"width";if(!(!i||!s)){var f=cF(o.padding,n),p=fh(i),d=u==="y"?an:un,h=u==="y"?Tn:Mn,m=n.rects.reference[c]+n.rects.reference[u]-s[u]-n.rects.popper[c],g=s[u]-n.rects.reference[u],b=Ba(i),v=b?u==="y"?b.clientHeight||0:b.clientWidth||0:0,w=m/2-g/2,y=f[d],S=v-p[c]-f[h],A=v/2-p[c]/2+w,k=js(y,A,S),x=u;n.modifiersData[r]=(e={},e[x]=k,e.centerOffset=k-A,e)}}function pF(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!RC(e.elements.popper,o)||(e.elements.arrow=o))}var dF={name:"arrow",enabled:!0,phase:"main",fn:fF,effect:pF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ui(t){return t.split("-")[1]}var hF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mF(t){var e=t.x,n=t.y,r=window,o=r.devicePixelRatio||1;return{x:ji(e*o)/o||0,y:ji(n*o)/o||0}}function Xv(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,a=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,f=t.isFixed,p=s.x,d=p===void 0?0:p,h=s.y,m=h===void 0?0:h,g=typeof c=="function"?c({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var b=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),w=un,y=an,S=window;if(l){var A=Ba(n),k="clientHeight",x="clientWidth";if(A===Jn(n)&&(A=vo(n),Tr(A).position!=="static"&&a==="absolute"&&(k="scrollHeight",x="scrollWidth")),A=A,o===an||(o===un||o===Mn)&&i===ga){y=Tn;var _=f&&A===S&&S.visualViewport?S.visualViewport.height:A[k];m-=_-r.height,m*=u?1:-1}if(o===un||(o===an||o===Tn)&&i===ga){w=Mn;var N=f&&A===S&&S.visualViewport?S.visualViewport.width:A[x];d-=N-r.width,d*=u?1:-1}}var z=Object.assign({position:a},l&&hF),M=c===!0?mF({x:d,y:m}):{x:d,y:m};if(d=M.x,m=M.y,u){var H;return Object.assign({},z,(H={},H[y]=v?"0":"",H[w]=b?"0":"",H.transform=(S.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",H))}return Object.assign({},z,(e={},e[y]=v?m+"px":"",e[w]=b?d+"px":"",e.transform="",e))}function vF(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,u=a===void 0?!0:a,l={placement:nr(e.placement),variation:Ui(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Xv(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Xv(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var gF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vF,data:{}},ru={passive:!0};function yF(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,u=Jn(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(c){c.addEventListener("scroll",n.update,ru)}),a&&u.addEventListener("resize",n.update,ru),function(){i&&l.forEach(function(c){c.removeEventListener("scroll",n.update,ru)}),a&&u.removeEventListener("resize",n.update,ru)}}var bF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yF,data:{}},CF={left:"right",right:"left",bottom:"top",top:"bottom"};function qu(t){return t.replace(/left|right|bottom|top/g,function(e){return CF[e]})}var wF={start:"end",end:"start"};function eg(t){return t.replace(/start|end/g,function(e){return wF[e]})}function dh(t){var e=Jn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hh(t){return qi(vo(t)).left+dh(t).scrollLeft}function SF(t){var e=Jn(t),n=vo(t),r=e.visualViewport,o=n.clientWidth,i=n.clientHeight,s=0,a=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:o,height:i,x:s+hh(t),y:a}}function EF(t){var e,n=vo(t),r=dh(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=Po(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Po(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+hh(t),u=-r.scrollTop;return Tr(o||n).direction==="rtl"&&(a+=Po(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:u}}function mh(t){var e=Tr(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function LC(t){return["html","body","#document"].indexOf(ar(t))>=0?t.ownerDocument.body:_n(t)&&mh(t)?t:LC(Dc(t))}function qs(t,e){var n;e===void 0&&(e=[]);var r=LC(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=Jn(r),s=o?[i].concat(i.visualViewport||[],mh(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(qs(Dc(s)))}function Tp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function AF(t){var e=qi(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function tg(t,e){return e===MC?Tp(SF(t)):Vi(e)?AF(e):Tp(EF(vo(t)))}function kF(t){var e=qs(Dc(t)),n=["absolute","fixed"].indexOf(Tr(t).position)>=0,r=n&&_n(t)?Ba(t):t;return Vi(r)?e.filter(function(o){return Vi(o)&&RC(o,r)&&ar(o)!=="body"}):[]}function DF(t,e,n){var r=e==="clippingParents"?kF(t):[].concat(e),o=[].concat(r,[n]),i=o[0],s=o.reduce(function(a,u){var l=tg(t,u);return a.top=Po(l.top,a.top),a.right=wl(l.right,a.right),a.bottom=wl(l.bottom,a.bottom),a.left=Po(l.left,a.left),a},tg(t,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function zC(t){var e=t.reference,n=t.element,r=t.placement,o=r?nr(r):null,i=r?Ui(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,u;switch(o){case an:u={x:s,y:e.y-n.height};break;case Tn:u={x:s,y:e.y+e.height};break;case Mn:u={x:e.x+e.width,y:a};break;case un:u={x:e.x-n.width,y:a};break;default:u={x:e.x,y:e.y}}var l=o?ph(o):null;if(l!=null){var c=l==="y"?"height":"width";switch(i){case Hi:u[l]=u[l]-(e[c]/2-n[c]/2);break;case ga:u[l]=u[l]+(e[c]/2-n[c]/2);break}}return u}function ya(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,i=n.boundary,s=i===void 0?JN:i,a=n.rootBoundary,u=a===void 0?MC:a,l=n.elementContext,c=l===void 0?hs:l,f=n.altBoundary,p=f===void 0?!1:f,d=n.padding,h=d===void 0?0:d,m=PC(typeof h!="number"?h:BC(h,Pa)),g=c===hs?KN:hs,b=t.rects.popper,v=t.elements[p?g:c],w=DF(Vi(v)?v:v.contextElement||vo(t.elements.popper),s,u),y=qi(t.elements.reference),S=zC({reference:y,element:b,strategy:"absolute",placement:o}),A=Tp(Object.assign({},b,S)),k=c===hs?A:y,x={top:w.top-k.top+m.top,bottom:k.bottom-w.bottom+m.bottom,left:w.left-k.left+m.left,right:k.right-w.right+m.right},_=t.modifiersData.offset;if(c===hs&&_){var N=_[o];Object.keys(x).forEach(function(z){var M=[Mn,Tn].indexOf(z)>=0?1:-1,H=[an,Tn].indexOf(z)>=0?"y":"x";x[z]+=N[H]*M})}return x}function xF(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?NC:u,c=Ui(r),f=c?a?Yv:Yv.filter(function(h){return Ui(h)===c}):Pa,p=f.filter(function(h){return l.indexOf(h)>=0});p.length===0&&(p=f);var d=p.reduce(function(h,m){return h[m]=ya(t,{placement:m,boundary:o,rootBoundary:i,padding:s})[nr(m)],h},{});return Object.keys(d).sort(function(h,m){return d[h]-d[m]})}function OF(t){if(nr(t)===lh)return[];var e=qu(t);return[eg(t),e,eg(e)]}function _F(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,h=d===void 0?!0:d,m=n.allowedAutoPlacements,g=e.options.placement,b=nr(g),v=b===g,w=u||(v||!h?[qu(g)]:OF(g)),y=[g].concat(w).reduce(function(pt,P){return pt.concat(nr(P)===lh?xF(e,{placement:P,boundary:c,rootBoundary:f,padding:l,flipVariations:h,allowedAutoPlacements:m}):P)},[]),S=e.rects.reference,A=e.rects.popper,k=new Map,x=!0,_=y[0],N=0;N<y.length;N++){var z=y[N],M=nr(z),H=Ui(z)===Hi,te=[an,Tn].indexOf(M)>=0,ee=te?"width":"height",Y=ya(e,{placement:z,boundary:c,rootBoundary:f,altBoundary:p,padding:l}),pe=te?H?Mn:un:H?Tn:an;S[ee]>A[ee]&&(pe=qu(pe));var oe=qu(pe),we=[];if(i&&we.push(Y[M]<=0),a&&we.push(Y[pe]<=0,Y[oe]<=0),we.every(function(pt){return pt})){_=z,x=!1;break}k.set(z,we)}if(x)for(var q=h?3:1,ge=function(P){var X=y.find(function(J){var ne=k.get(J);if(ne)return ne.slice(0,P).every(function(Te){return Te})});if(X)return _=X,"break"},De=q;De>0;De--){var Ge=ge(De);if(Ge==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}var TF={name:"flip",enabled:!0,phase:"main",fn:_F,requiresIfExists:["offset"],data:{_skip:!1}};function ng(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function rg(t){return[an,Mn,Tn,un].some(function(e){return t[e]>=0})}function MF(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=ya(e,{elementContext:"reference"}),a=ya(e,{altBoundary:!0}),u=ng(s,r),l=ng(a,o,i),c=rg(u),f=rg(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var NF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:MF};function FF(t,e,n){var r=nr(t),o=[un,an].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[un,Mn].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function RF(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=o===void 0?[0,0]:o,s=NC.reduce(function(c,f){return c[f]=FF(f,e.rects,i),c},{}),a=s[e.placement],u=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var IF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:RF};function PF(t){var e=t.state,n=t.name;e.modifiersData[n]=zC({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var BF={name:"popperOffsets",enabled:!0,phase:"read",fn:PF,data:{}};function LF(t){return t==="x"?"y":"x"}function zF(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,p=n.tether,d=p===void 0?!0:p,h=n.tetherOffset,m=h===void 0?0:h,g=ya(e,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),b=nr(e.placement),v=Ui(e.placement),w=!v,y=ph(b),S=LF(y),A=e.modifiersData.popperOffsets,k=e.rects.reference,x=e.rects.popper,_=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,N=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(!!A){if(i){var H,te=y==="y"?an:un,ee=y==="y"?Tn:Mn,Y=y==="y"?"height":"width",pe=A[y],oe=pe+g[te],we=pe-g[ee],q=d?-x[Y]/2:0,ge=v===Hi?k[Y]:x[Y],De=v===Hi?-x[Y]:-k[Y],Ge=e.elements.arrow,pt=d&&Ge?fh(Ge):{width:0,height:0},P=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:IC(),X=P[te],J=P[ee],ne=js(0,k[Y],pt[Y]),Te=w?k[Y]/2-q-ne-X-N.mainAxis:ge-ne-X-N.mainAxis,Oe=w?-k[Y]/2+q+ne+J+N.mainAxis:De+ne+J+N.mainAxis,T=e.elements.arrow&&Ba(e.elements.arrow),R=T?y==="y"?T.clientTop||0:T.clientLeft||0:0,C=(H=z==null?void 0:z[y])!=null?H:0,E=pe+Te-C-R,D=pe+Oe-C,B=js(d?wl(oe,E):oe,pe,d?Po(we,D):we);A[y]=B,M[y]=B-pe}if(a){var L,U=y==="x"?an:un,Q=y==="x"?Tn:Mn,V=A[S],W=S==="y"?"height":"width",$=V+g[U],ae=V-g[Q],re=[an,un].indexOf(b)!==-1,fe=(L=z==null?void 0:z[S])!=null?L:0,ye=re?$:V-k[W]-x[W]-fe+N.altAxis,xe=re?V+k[W]+x[W]-fe-N.altAxis:ae,$e=d&&re?lF(ye,V,xe):js(d?ye:$,V,d?xe:ae);A[S]=$e,M[S]=$e-V}e.modifiersData[r]=M}}var $F={name:"preventOverflow",enabled:!0,phase:"main",fn:zF,requiresIfExists:["offset"]};function HF(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function VF(t){return t===Jn(t)||!_n(t)?dh(t):HF(t)}function jF(t){var e=t.getBoundingClientRect(),n=ji(e.width)/t.offsetWidth||1,r=ji(e.height)/t.offsetHeight||1;return n!==1||r!==1}function qF(t,e,n){n===void 0&&(n=!1);var r=_n(e),o=_n(e)&&jF(e),i=vo(e),s=qi(t,o),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((ar(e)!=="body"||mh(i))&&(a=VF(e)),_n(e)?(u=qi(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):i&&(u.x=hh(i))),{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function UF(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var u=e.get(a);u&&o(u)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||o(i)}),r}function WF(t){var e=UF(t);return oF.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function JF(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function KF(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var og={placement:"bottom",modifiers:[],strategy:"absolute"};function ig(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ZF(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?og:o;return function(a,u,l){l===void 0&&(l=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},og,i),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},f=[],p=!1,d={state:c,setOptions:function(b){var v=typeof b=="function"?b(c.options):b;m(),c.options=Object.assign({},i,c.options,v),c.scrollParents={reference:Vi(a)?qs(a):a.contextElement?qs(a.contextElement):[],popper:qs(u)};var w=WF(KF([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(y){return y.enabled}),h(),d.update()},forceUpdate:function(){if(!p){var b=c.elements,v=b.reference,w=b.popper;if(!!ig(v,w)){c.rects={reference:qF(v,Ba(w),c.options.strategy==="fixed"),popper:fh(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(N){return c.modifiersData[N.name]=Object.assign({},N.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var S=c.orderedModifiers[y],A=S.fn,k=S.options,x=k===void 0?{}:k,_=S.name;typeof A=="function"&&(c=A({state:c,options:x,name:_,instance:d})||c)}}}},update:JF(function(){return new Promise(function(g){d.forceUpdate(),g(c)})}),destroy:function(){m(),p=!0}};if(!ig(a,u))return d;d.setOptions(l).then(function(g){!p&&l.onFirstUpdate&&l.onFirstUpdate(g)});function h(){c.orderedModifiers.forEach(function(g){var b=g.name,v=g.options,w=v===void 0?{}:v,y=g.effect;if(typeof y=="function"){var S=y({state:c,name:b,instance:d,options:w}),A=function(){};f.push(S||A)}})}function m(){f.forEach(function(g){return g()}),f=[]}return d}}var GF=[bF,BF,gF,FC,IF,TF,$F,dF,NF],YF=ZF({defaultModifiers:GF}),QF="tippy-box",$C="tippy-content",XF="tippy-backdrop",HC="tippy-arrow",VC="tippy-svg-arrow",Ao={passive:!0,capture:!0},jC=function(){return document.body};function Ef(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function vh(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function qC(t,e){return typeof t=="function"?t.apply(void 0,e):t}function sg(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function eR(t){return t.split(/\s+/).filter(Boolean)}function pi(t){return[].concat(t)}function ag(t,e){t.indexOf(e)===-1&&t.push(e)}function tR(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function nR(t){return t.split("-")[0]}function Sl(t){return[].slice.call(t)}function ug(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Us(){return document.createElement("div")}function xc(t){return["Element","Fragment"].some(function(e){return vh(t,e)})}function rR(t){return vh(t,"NodeList")}function oR(t){return vh(t,"MouseEvent")}function iR(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function sR(t){return xc(t)?[t]:rR(t)?Sl(t):Array.isArray(t)?t:Sl(document.querySelectorAll(t))}function Af(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function lg(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function aR(t){var e,n=pi(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function uR(t,e){var n=e.clientX,r=e.clientY;return t.every(function(o){var i=o.popperRect,s=o.popperState,a=o.props,u=a.interactiveBorder,l=nR(s.placement),c=s.modifiersData.offset;if(!c)return!0;var f=l==="bottom"?c.top.y:0,p=l==="top"?c.bottom.y:0,d=l==="right"?c.left.x:0,h=l==="left"?c.right.x:0,m=i.top-r+f>u,g=r-i.bottom-p>u,b=i.left-n+d>u,v=n-i.right-h>u;return m||g||b||v})}function kf(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[r](o,n)})}function cg(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Qn={isTouch:!1},fg=0;function lR(){Qn.isTouch||(Qn.isTouch=!0,window.performance&&document.addEventListener("mousemove",UC))}function UC(){var t=performance.now();t-fg<20&&(Qn.isTouch=!1,document.removeEventListener("mousemove",UC)),fg=t}function cR(){var t=document.activeElement;if(iR(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function fR(){document.addEventListener("touchstart",lR,Ao),window.addEventListener("blur",cR)}var pR=typeof window!="undefined"&&typeof document!="undefined",dR=pR?!!window.msCrypto:!1,hR={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},mR={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Hn=Object.assign({appendTo:jC,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},hR,mR),vR=Object.keys(Hn),gR=function(e){var n=Object.keys(e);n.forEach(function(r){Hn[r]=e[r]})};function WC(t){var e=t.plugins||[],n=e.reduce(function(r,o){var i=o.name,s=o.defaultValue;if(i){var a;r[i]=t[i]!==void 0?t[i]:(a=Hn[i])!=null?a:s}return r},{});return Object.assign({},t,n)}function yR(t,e){var n=e?Object.keys(WC(Object.assign({},Hn,{plugins:e}))):vR,r=n.reduce(function(o,i){var s=(t.getAttribute("data-tippy-"+i)||"").trim();if(!s)return o;if(i==="content")o[i]=s;else try{o[i]=JSON.parse(s)}catch{o[i]=s}return o},{});return r}function pg(t,e){var n=Object.assign({},e,{content:qC(e.content,[t])},e.ignoreAttributes?{}:yR(t,e.plugins));return n.aria=Object.assign({},Hn.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var bR=function(){return"innerHTML"};function Mp(t,e){t[bR()]=e}function dg(t){var e=Us();return t===!0?e.className=HC:(e.className=VC,xc(t)?e.appendChild(t):Mp(e,t)),e}function hg(t,e){xc(e.content)?(Mp(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Mp(t,e.content):t.textContent=e.content)}function Np(t){var e=t.firstElementChild,n=Sl(e.children);return{box:e,content:n.find(function(r){return r.classList.contains($C)}),arrow:n.find(function(r){return r.classList.contains(HC)||r.classList.contains(VC)}),backdrop:n.find(function(r){return r.classList.contains(XF)})}}function JC(t){var e=Us(),n=Us();n.className=QF,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Us();r.className=$C,r.setAttribute("data-state","hidden"),hg(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props);function o(i,s){var a=Np(e),u=a.box,l=a.content,c=a.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(i.content!==s.content||i.allowHTML!==s.allowHTML)&&hg(l,t.props),s.arrow?c?i.arrow!==s.arrow&&(u.removeChild(c),u.appendChild(dg(s.arrow))):u.appendChild(dg(s.arrow)):c&&u.removeChild(c)}return{popper:e,onUpdate:o}}JC.$$tippy=!0;var CR=1,ou=[],Df=[];function wR(t,e){var n=pg(t,Object.assign({},Hn,WC(ug(e)))),r,o,i,s=!1,a=!1,u=!1,l=!1,c,f,p,d=[],h=sg(E,n.interactiveDebounce),m,g=CR++,b=null,v=tR(n.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:g,reference:t,popper:Us(),popperInstance:b,props:n,state:w,plugins:v,clearDelayTimeouts:ye,setProps:xe,setContent:$e,show:He,hide:qe,hideWithInteractivity:fn,enable:re,disable:fe,unmount:Ir,destroy:Ha};if(!n.render)return y;var S=n.render(y),A=S.popper,k=S.onUpdate;A.setAttribute("data-tippy-root",""),A.id="tippy-"+y.id,y.popper=A,t._tippy=y,A._tippy=y;var x=v.map(function(F){return F.fn(y)}),_=t.hasAttribute("aria-expanded");return T(),q(),pe(),oe("onCreate",[y]),n.showOnCreate&&$(),A.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),A.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&te().addEventListener("mousemove",h)}),y;function N(){var F=y.props.touch;return Array.isArray(F)?F:[F,0]}function z(){return N()[0]==="hold"}function M(){var F;return!!((F=y.props.render)!=null&&F.$$tippy)}function H(){return m||t}function te(){var F=H().parentNode;return F?aR(F):document}function ee(){return Np(A)}function Y(F){return y.state.isMounted&&!y.state.isVisible||Qn.isTouch||c&&c.type==="focus"?0:Ef(y.props.delay,F?0:1,Hn.delay)}function pe(F){F===void 0&&(F=!1),A.style.pointerEvents=y.props.interactive&&!F?"":"none",A.style.zIndex=""+y.props.zIndex}function oe(F,se,ue){if(ue===void 0&&(ue=!0),x.forEach(function(Me){Me[F]&&Me[F].apply(Me,se)}),ue){var Ae;(Ae=y.props)[F].apply(Ae,se)}}function we(){var F=y.props.aria;if(!!F.content){var se="aria-"+F.content,ue=A.id,Ae=pi(y.props.triggerTarget||t);Ae.forEach(function(Me){var Jt=Me.getAttribute(se);if(y.state.isVisible)Me.setAttribute(se,Jt?Jt+" "+ue:ue);else{var Cn=Jt&&Jt.replace(ue,"").trim();Cn?Me.setAttribute(se,Cn):Me.removeAttribute(se)}})}}function q(){if(!(_||!y.props.aria.expanded)){var F=pi(y.props.triggerTarget||t);F.forEach(function(se){y.props.interactive?se.setAttribute("aria-expanded",y.state.isVisible&&se===H()?"true":"false"):se.removeAttribute("aria-expanded")})}}function ge(){te().removeEventListener("mousemove",h),ou=ou.filter(function(F){return F!==h})}function De(F){if(!(Qn.isTouch&&(u||F.type==="mousedown"))){var se=F.composedPath&&F.composedPath()[0]||F.target;if(!(y.props.interactive&&cg(A,se))){if(pi(y.props.triggerTarget||t).some(function(ue){return cg(ue,se)})){if(Qn.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else oe("onClickOutside",[y,F]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),a=!0,setTimeout(function(){a=!1}),y.state.isMounted||X())}}}function Ge(){u=!0}function pt(){u=!1}function P(){var F=te();F.addEventListener("mousedown",De,!0),F.addEventListener("touchend",De,Ao),F.addEventListener("touchstart",pt,Ao),F.addEventListener("touchmove",Ge,Ao)}function X(){var F=te();F.removeEventListener("mousedown",De,!0),F.removeEventListener("touchend",De,Ao),F.removeEventListener("touchstart",pt,Ao),F.removeEventListener("touchmove",Ge,Ao)}function J(F,se){Te(F,function(){!y.state.isVisible&&A.parentNode&&A.parentNode.contains(A)&&se()})}function ne(F,se){Te(F,se)}function Te(F,se){var ue=ee().box;function Ae(Me){Me.target===ue&&(kf(ue,"remove",Ae),se())}if(F===0)return se();kf(ue,"remove",f),kf(ue,"add",Ae),f=Ae}function Oe(F,se,ue){ue===void 0&&(ue=!1);var Ae=pi(y.props.triggerTarget||t);Ae.forEach(function(Me){Me.addEventListener(F,se,ue),d.push({node:Me,eventType:F,handler:se,options:ue})})}function T(){z()&&(Oe("touchstart",C,{passive:!0}),Oe("touchend",D,{passive:!0})),eR(y.props.trigger).forEach(function(F){if(F!=="manual")switch(Oe(F,C),F){case"mouseenter":Oe("mouseleave",D);break;case"focus":Oe(dR?"focusout":"blur",B);break;case"focusin":Oe("focusout",B);break}})}function R(){d.forEach(function(F){var se=F.node,ue=F.eventType,Ae=F.handler,Me=F.options;se.removeEventListener(ue,Ae,Me)}),d=[]}function C(F){var se,ue=!1;if(!(!y.state.isEnabled||L(F)||a)){var Ae=((se=c)==null?void 0:se.type)==="focus";c=F,m=F.currentTarget,q(),!y.state.isVisible&&oR(F)&&ou.forEach(function(Me){return Me(F)}),F.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||s)&&y.props.hideOnClick!==!1&&y.state.isVisible?ue=!0:$(F),F.type==="click"&&(s=!ue),ue&&!Ae&&ae(F)}}function E(F){var se=F.target,ue=H().contains(se)||A.contains(se);if(!(F.type==="mousemove"&&ue)){var Ae=W().concat(A).map(function(Me){var Jt,Cn=Me._tippy,ni=(Jt=Cn.popperInstance)==null?void 0:Jt.state;return ni?{popperRect:Me.getBoundingClientRect(),popperState:ni,props:n}:null}).filter(Boolean);uR(Ae,F)&&(ge(),ae(F))}}function D(F){var se=L(F)||y.props.trigger.indexOf("click")>=0&&s;if(!se){if(y.props.interactive){y.hideWithInteractivity(F);return}ae(F)}}function B(F){y.props.trigger.indexOf("focusin")<0&&F.target!==H()||y.props.interactive&&F.relatedTarget&&A.contains(F.relatedTarget)||ae(F)}function L(F){return Qn.isTouch?z()!==F.type.indexOf("touch")>=0:!1}function U(){Q();var F=y.props,se=F.popperOptions,ue=F.placement,Ae=F.offset,Me=F.getReferenceClientRect,Jt=F.moveTransition,Cn=M()?Np(A).arrow:null,ni=Me?{getBoundingClientRect:Me,contextElement:Me.contextElement||H()}:t,Ph={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Va){var ri=Va.state;if(M()){var oS=ee(),Pc=oS.box;["placement","reference-hidden","escaped"].forEach(function(ja){ja==="placement"?Pc.setAttribute("data-placement",ri.placement):ri.attributes.popper["data-popper-"+ja]?Pc.setAttribute("data-"+ja,""):Pc.removeAttribute("data-"+ja)}),ri.attributes.popper={}}}},bo=[{name:"offset",options:{offset:Ae}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Jt}},Ph];M()&&Cn&&bo.push({name:"arrow",options:{element:Cn,padding:3}}),bo.push.apply(bo,(se==null?void 0:se.modifiers)||[]),y.popperInstance=YF(ni,A,Object.assign({},se,{placement:ue,onFirstUpdate:p,modifiers:bo}))}function Q(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function V(){var F=y.props.appendTo,se,ue=H();y.props.interactive&&F===jC||F==="parent"?se=ue.parentNode:se=qC(F,[ue]),se.contains(A)||se.appendChild(A),y.state.isMounted=!0,U()}function W(){return Sl(A.querySelectorAll("[data-tippy-root]"))}function $(F){y.clearDelayTimeouts(),F&&oe("onTrigger",[y,F]),P();var se=Y(!0),ue=N(),Ae=ue[0],Me=ue[1];Qn.isTouch&&Ae==="hold"&&Me&&(se=Me),se?r=setTimeout(function(){y.show()},se):y.show()}function ae(F){if(y.clearDelayTimeouts(),oe("onUntrigger",[y,F]),!y.state.isVisible){X();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(F.type)>=0&&s)){var se=Y(!1);se?o=setTimeout(function(){y.state.isVisible&&y.hide()},se):i=requestAnimationFrame(function(){y.hide()})}}function re(){y.state.isEnabled=!0}function fe(){y.hide(),y.state.isEnabled=!1}function ye(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(i)}function xe(F){if(!y.state.isDestroyed){oe("onBeforeUpdate",[y,F]),R();var se=y.props,ue=pg(t,Object.assign({},se,ug(F),{ignoreAttributes:!0}));y.props=ue,T(),se.interactiveDebounce!==ue.interactiveDebounce&&(ge(),h=sg(E,ue.interactiveDebounce)),se.triggerTarget&&!ue.triggerTarget?pi(se.triggerTarget).forEach(function(Ae){Ae.removeAttribute("aria-expanded")}):ue.triggerTarget&&t.removeAttribute("aria-expanded"),q(),pe(),k&&k(se,ue),y.popperInstance&&(U(),W().forEach(function(Ae){requestAnimationFrame(Ae._tippy.popperInstance.forceUpdate)})),oe("onAfterUpdate",[y,F])}}function $e(F){y.setProps({content:F})}function He(){var F=y.state.isVisible,se=y.state.isDestroyed,ue=!y.state.isEnabled,Ae=Qn.isTouch&&!y.props.touch,Me=Ef(y.props.duration,0,Hn.duration);if(!(F||se||ue||Ae)&&!H().hasAttribute("disabled")&&(oe("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,M()&&(A.style.visibility="visible"),pe(),P(),y.state.isMounted||(A.style.transition="none"),M()){var Jt=ee(),Cn=Jt.box,ni=Jt.content;Af([Cn,ni],0)}p=function(){var bo;if(!(!y.state.isVisible||l)){if(l=!0,A.offsetHeight,A.style.transition=y.props.moveTransition,M()&&y.props.animation){var Ic=ee(),Va=Ic.box,ri=Ic.content;Af([Va,ri],Me),lg([Va,ri],"visible")}we(),q(),ag(Df,y),(bo=y.popperInstance)==null||bo.forceUpdate(),oe("onMount",[y]),y.props.animation&&M()&&ne(Me,function(){y.state.isShown=!0,oe("onShown",[y])})}},V()}}function qe(){var F=!y.state.isVisible,se=y.state.isDestroyed,ue=!y.state.isEnabled,Ae=Ef(y.props.duration,1,Hn.duration);if(!(F||se||ue)&&(oe("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,l=!1,s=!1,M()&&(A.style.visibility="hidden"),ge(),X(),pe(!0),M()){var Me=ee(),Jt=Me.box,Cn=Me.content;y.props.animation&&(Af([Jt,Cn],Ae),lg([Jt,Cn],"hidden"))}we(),q(),y.props.animation?M()&&J(Ae,y.unmount):y.unmount()}}function fn(F){te().addEventListener("mousemove",h),ag(ou,h),h(F)}function Ir(){y.state.isVisible&&y.hide(),y.state.isMounted&&(Q(),W().forEach(function(F){F._tippy.unmount()}),A.parentNode&&A.parentNode.removeChild(A),Df=Df.filter(function(F){return F!==y}),y.state.isMounted=!1,oe("onHidden",[y]))}function Ha(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),R(),delete t._tippy,y.state.isDestroyed=!0,oe("onDestroy",[y]))}}function rs(t,e){e===void 0&&(e={});var n=Hn.plugins.concat(e.plugins||[]);fR();var r=Object.assign({},e,{plugins:n}),o=sR(t),i=o.reduce(function(s,a){var u=a&&wR(a,r);return u&&s.push(u),s},[]);return xc(t)?i[0]:i}rs.defaultProps=Hn;rs.setDefaultProps=gR;rs.currentInput=Qn;Object.assign({},FC,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});rs.setDefaultProps({render:JC});class SR{constructor({editor:e,element:n,view:r,tippyOptions:o={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:s,state:a,from:u,to:l})=>{const{doc:c,selection:f}=a,{empty:p}=f,d=!c.textBetween(u,l).length&&SC(a.selection);return!(!s.hasFocus()||p||d)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var a;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=rs(e,O({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,o,i;const{state:s,composing:a}=e,{doc:u,selection:l}=s,c=n&&n.doc.eq(u)&&n.selection.eq(l);if(a||c)return;this.createTooltip();const{ranges:f}=l,p=Math.min(...f.map(m=>m.$from.pos)),d=Math.max(...f.map(m=>m.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:s,oldState:n,from:p,to:d}))){this.hide();return}(o=this.tippy)===null||o===void 0||o.setProps({getReferenceClientRect:((i=this.tippyOptions)===null||i===void 0?void 0:i.getReferenceClientRect)||(()=>{if(WN(s.selection)){const m=e.nodeDOM(p);if(m)return m.getBoundingClientRect()}return TC(e,p,d)})}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const KC=t=>new gt({key:typeof t.pluginKey=="string"?new xt(t.pluginKey):t.pluginKey,view:e=>new SR(O({view:e},t))});vt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[KC({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class ER{constructor({editor:e,element:n,view:r,tippyOptions:o={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:s,state:a})=>{const{selection:u}=a,{$anchor:l,empty:c}=u,f=l.depth===1,p=l.parent.isTextblock&&!l.parent.type.spec.code&&!l.parent.textContent;return!(!s.hasFocus()||!c||!f||!p)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var a;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=rs(e,O({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,o,i;const{state:s}=e,{doc:a,selection:u}=s,{from:l,to:c}=u;if(n&&n.doc.eq(a)&&n.selection.eq(u))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:s,oldState:n}))){this.hide();return}(o=this.tippy)===null||o===void 0||o.setProps({getReferenceClientRect:((i=this.tippyOptions)===null||i===void 0?void 0:i.getReferenceClientRect)||(()=>TC(e,l,c))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const ZC=t=>new gt({key:typeof t.pluginKey=="string"?new xt(t.pluginKey):t.pluginKey,view:e=>new ER(O({view:e},t))});vt.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[ZC({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});Ke({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=tt(null);return co(()=>{const{pluginKey:r,editor:o,tippyOptions:i,shouldShow:s}=t;o.registerPlugin(KC({pluginKey:r,editor:o,element:n.value,tippyOptions:i,shouldShow:s}))}),lr(()=>{const{pluginKey:r,editor:o}=t;o.unregisterPlugin(r)}),()=>{var r;return it("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});function mg(t){return QS((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class _z extends zN{constructor(e={}){return super(e),this.vueRenderers=$t(new Map),this.contentComponent=null,this.reactiveState=mg(this.view.state),this.reactiveExtensionStorage=mg(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),ir(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){super.registerPlugin(e,n),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const Tz=Ke({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=tt(),n=cr();return Qu(()=>{const r=t.editor;r&&r.options.element&&e.value&&tr(()=>{if(!e.value||!r.options.element.firstChild)return;const o=le(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:o}),r.createNodeViews()})}),lr(()=>{const r=t.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const o=document.createElement("div");o.append(...r.options.element.childNodes),r.setOptions({element:o})}),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const n=it(tE,{to:e.teleportElement,key:e.id},it(e.component,O({ref:e.id},e.props)));t.push(n)}),it("div",{ref:e=>{this.rootEl=e}},...t)}});Ke({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:e}){const n=tt(null);return co(()=>{const{pluginKey:r,editor:o,tippyOptions:i,shouldShow:s}=t;o.registerPlugin(ZC({pluginKey:r,editor:o,element:n.value,tippyOptions:i,shouldShow:s}))}),lr(()=>{const{pluginKey:r,editor:o}=t;o.unregisterPlugin(r)}),()=>{var r;return it("div",{ref:n},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});class AR{constructor(e,{props:n={},editor:r}){if(this.id=Math.floor(Math.random()*4294967295).toString(),this.editor=r,this.component=ir(e),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=$t(n),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),this.teleportElement.children.length!==1)throw Error("VueRenderer doesn\u2019t support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var e;return(e=this.editor.contentComponent)===null||e===void 0?void 0:e.refs[this.id]}updateProps(e={}){Object.entries(e).forEach(([n,r])=>{this.props[n]=r})}destroy(){this.editor.vueRenderers.delete(this.id)}}class kR extends $N{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(o={})=>this.updateAttributes(o),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=tt(this.getDecorationClasses());const r=Ke({extends:O({},this.component),props:Object.keys(e),template:this.component.template,setup:o=>{var i,s;return Sr("onDragStart",n),Sr("decorationClasses",this.decorationClasses),(s=(i=this.component).setup)===null||s===void 0?void 0:s.call(i,o,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules});this.renderer=new AR(r,{editor:this.editor,props:e})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")||this.dom}update(e,n){const r=o=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(o)};if(typeof this.options.update=="function"){const o=this.node,i=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:o,oldDecorations:i,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e.type!==this.node.type?!1:(e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy()}}function DR(t,e){return n=>n.editor.contentComponent?new kR(t,n,e):{}}const xR=Ke({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return it(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});Ke({props:{as:{type:String,default:"div"}},render(){return it(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});const OR=/^\s*>\s$/,_R=St.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[uh({find:OR,type:this.type})]}}),TR=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,MR=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,NR=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,FR=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,RR=_r.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[$i({find:TR,type:this.type}),$i({find:NR,type:this.type})]},addPasteRules(){return[Ho({find:MR,type:this.type}),Ho({find:FR,type:this.type})]}}),IR=/^\s*([-+*])\s$/,PR=St.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[uh({find:IR,type:this.type})]}}),BR=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,LR=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,zR=_r.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[$i({find:BR,type:this.type})]},addPasteRules(){return[Ho({find:LR,type:this.type})]}}),$R=/^```([a-z]+)?[\s\n]$/,HR=/^~~~([a-z]+)?[\s\n]$/,VR=St.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ct(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!i||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[_p({find:$R,type:this.type,getAttributes:t=>({language:t[1]})}),_p({find:HR,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new gt({key:new xt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:i})),s.setSelection(Se.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),jR=St.create({name:"doc",topNode:!0,content:"block+"});function qR(t){return t===void 0&&(t={}),new gt({view:function(n){return new pr(n,t)}})}var pr=function(e,n){var r=this;this.editorView=e,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(o){var i=function(s){return r[o](s)};return e.dom.addEventListener(o,i),{name:o,handler:i}})};pr.prototype.destroy=function(){var e=this;this.handlers.forEach(function(n){var r=n.name,o=n.handler;return e.editorView.dom.removeEventListener(r,o)})};pr.prototype.update=function(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())};pr.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};pr.prototype.updateOverlay=function(){var e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){var r=e.nodeBefore,o=e.nodeAfter;if(r||o){var i=this.editorView.nodeDOM(this.cursorPos-(r?r.nodeSize:0)).getBoundingClientRect(),s=r?i.bottom:i.top;r&&o&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:i.left,right:i.right,top:s-this.width/2,bottom:s+this.width/2}}}if(!n){var a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var l,c;if(!u||u==document.body&&getComputedStyle(u).position=="static")l=-pageXOffset,c=-pageYOffset;else{var f=u.getBoundingClientRect();l=f.left-u.scrollLeft,c=f.top-u.scrollTop}this.element.style.left=n.left-l+"px",this.element.style.top=n.top-c+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"};pr.prototype.scheduleRemoval=function(e){var n=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return n.setCursor(null)},e)};pr.prototype.dragover=function(e){if(!!this.editorView.editable){var n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n):o;if(n&&!i){var s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=ub(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}};pr.prototype.dragend=function(){this.scheduleRemoval(20)};pr.prototype.drop=function(){this.scheduleRemoval(20)};pr.prototype.dragleave=function(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)};const UR=vt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[qR(this.options)]}});var Nn=function(t){function e(n){t.call(this,n,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,o){var i=r.resolve(o.map(this.head));return e.valid(i)?new e(i):t.near(i)},e.prototype.content=function(){return K.empty},e.prototype.eq=function(r){return r instanceof e&&r.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(r,o){if(typeof o.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(r.resolve(o.pos))},e.prototype.getBookmark=function(){return new El(this.anchor)},e.valid=function(r){var o=r.parent;if(o.isTextblock||!WR(r)||!JR(r))return!1;var i=o.type.spec.allowGapCursor;if(i!=null)return i;var s=o.contentMatchAt(r.index()).defaultType;return s&&s.isTextblock},e.findFrom=function(r,o,i){e:for(;;){if(!i&&e.valid(r))return r;for(var s=r.pos,a=null,u=r.depth;;u--){var l=r.node(u);if(o>0?r.indexAfter(u)<l.childCount:r.index(u)>0){a=l.child(o>0?r.indexAfter(u):r.index(u)-1);break}else if(u==0)return null;s+=o;var c=r.doc.resolve(s);if(e.valid(c))return c}for(;;){var f=o>0?a.firstChild:a.lastChild;if(!f){if(a.isAtom&&!a.isText&&!Ce.isSelectable(a)){r=r.doc.resolve(s+a.nodeSize*o),i=!1;continue e}break}a=f,s+=o;var p=r.doc.resolve(s);if(e.valid(p))return p}return null}},e}(ve);Nn.prototype.visible=!1;ve.jsonID("gapcursor",Nn);var El=function(e){this.pos=e};El.prototype.map=function(e){return new El(e.map(this.pos))};El.prototype.resolve=function(e){var n=e.resolve(this.pos);return Nn.valid(n)?new Nn(n):ve.near(n)};function WR(t){for(var e=t.depth;e>=0;e--){var n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(var o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function JR(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(var o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}var KR=function(){return new gt({props:{decorations:QR,createSelectionBetween:function(e,n,r){if(n.pos==r.pos&&Nn.valid(r))return new Nn(r)},handleClick:GR,handleKeyDown:ZR,handleDOMEvents:{beforeinput:YR}}})},ZR=rh({ArrowLeft:iu("horiz",-1),ArrowRight:iu("horiz",1),ArrowUp:iu("vert",-1),ArrowDown:iu("vert",1)});function iu(t,e){var n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,i){var s=r.selection,a=e>0?s.$to:s.$from,u=s.empty;if(s instanceof Se){if(!i.endOfTextblock(n)||a.depth==0)return!1;u=!1,a=r.doc.resolve(e>0?a.after():a.before())}var l=Nn.findFrom(a,e,u);return l?(o&&o(r.tr.setSelection(new Nn(l))),!0):!1}}function GR(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!Nn.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}),i=o.inside;return i>-1&&Ce.isSelectable(t.state.doc.nodeAt(i))?!1:(t.dispatch(t.state.tr.setSelection(new Nn(r))),!0)}function YR(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Nn))return!1;var n=t.state.selection,r=n.$from,o=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;for(var i=I.empty,s=o.length-1;s>=0;s--)i=I.from(o[s].createAndFill(null,i));var a=t.state.tr.replace(r.pos,r.pos,new K(i,0,0));return a.setSelection(Se.near(a.doc.resolve(r.pos+1))),t.dispatch(a),!1}function QR(t){if(!(t.selection instanceof Nn))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",ze.create(t.doc,[mt.widget(t.selection.head,e,{key:"gapcursor"})])}const XR=vt.create({name:"gapCursor",addProseMirrorPlugins(){return[KR()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ee(ie(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),eI=St.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ct(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,u=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:l,dispatch:c})=>{if(c&&u&&s){const f=u.filter(p=>a.includes(p.type.name));l.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),tI=St.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ct(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>Ye(O({},t),{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>_p({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Al=200,Mt=function(){};Mt.prototype.append=function(e){return e.length?(e=Mt.from(e),!this.length&&e||e.length<Al&&this.leafAppend(e)||this.length<Al&&e.leafPrepend(this)||this.appendInner(e)):this};Mt.prototype.prepend=function(e){return e.length?Mt.from(e).append(this):this};Mt.prototype.appendInner=function(e){return new nI(this,e)};Mt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Mt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Mt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Mt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Mt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,s){return o.push(e(i,s))},n,r),o};Mt.from=function(e){return e instanceof Mt?e:e&&e.length?new GC(e):Mt.empty};var GC=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,s,a){for(var u=i;u<s;u++)if(o(this.values[u],a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,s,a){for(var u=i-1;u>=s;u--)if(o(this.values[u],a+u)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Al)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Al)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Mt);Mt.empty=new GC([]);var nI=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,i,s){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,i,s){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(o,a),i,s)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Mt),YC=Mt,rI=500,Pt=function(e,n){this.items=e,this.eventCount=n};Pt.prototype.popEvent=function(e,n){var r=this;if(this.eventCount==0)return null;for(var o=this.items.length;;o--){var i=this.items.get(o-1);if(i.selection){--o;break}}var s,a;n&&(s=this.remapping(o,this.items.length),a=s.maps.length);var u=e.tr,l,c,f=[],p=[];return this.items.forEach(function(d,h){if(!d.step){s||(s=r.remapping(o,h+1),a=s.maps.length),a--,p.push(d);return}if(s){p.push(new rr(d.map));var m=d.step.map(s.slice(a)),g;m&&u.maybeStep(m).doc&&(g=u.mapping.maps[u.mapping.maps.length-1],f.push(new rr(g,null,null,f.length+p.length))),a--,g&&s.appendMap(g,a)}else u.maybeStep(d.step);if(d.selection)return l=s?d.selection.map(s.slice(a)):d.selection,c=new Pt(r.items.slice(0,o).append(p.reverse().concat(f)),r.eventCount-1),!1},this.items.length,0),{remaining:c,transform:u,selection:l}};Pt.prototype.addTransform=function(e,n,r,o){for(var i=[],s=this.eventCount,a=this.items,u=!o&&a.length?a.get(a.length-1):null,l=0;l<e.steps.length;l++){var c=e.steps[l].invert(e.docs[l]),f=new rr(e.mapping.maps[l],c,n),p=void 0;(p=u&&u.merge(f))&&(f=p,l?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(s++,n=null),o||(u=f)}var d=s-r.depth;return d>iI&&(a=oI(a,d),s-=d),new Pt(a.append(i),s)};Pt.prototype.remapping=function(e,n){var r=new Vt;return this.items.forEach(function(o,i){var s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:null;r.appendMap(o.map,s)},e,n),r};Pt.prototype.addMaps=function(e){return this.eventCount==0?this:new Pt(this.items.append(e.map(function(n){return new rr(n)})),this.eventCount)};Pt.prototype.rebased=function(e,n){if(!this.eventCount)return this;var r=[],o=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(function(d){d.selection&&a--},o);var u=n;this.items.forEach(function(d){var h=i.getMirror(--u);if(h!=null){s=Math.min(s,h);var m=i.maps[h];if(d.step){var g=e.steps[h].invert(e.docs[h]),b=d.selection&&d.selection.map(i.slice(u+1,h));b&&a++,r.push(new rr(m,g,b))}else r.push(new rr(m))}},o);for(var l=[],c=n;c<s;c++)l.push(new rr(i.maps[c]));var f=this.items.slice(0,o).append(l).append(r),p=new Pt(f,a);return p.emptyItemCount()>rI&&(p=p.compress(this.items.length-r.length)),p};Pt.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(n){n.step||e++}),e};Pt.prototype.compress=function(e){e===void 0&&(e=this.items.length);var n=this.remapping(0,e),r=n.maps.length,o=[],i=0;return this.items.forEach(function(s,a){if(a>=e)o.push(s),s.selection&&i++;else if(s.step){var u=s.step.map(n.slice(r)),l=u&&u.getMap();if(r--,l&&n.appendMap(l,r),u){var c=s.selection&&s.selection.map(n.slice(r));c&&i++;var f=new rr(l.invert(),u,c),p,d=o.length-1;(p=o.length&&o[d].merge(f))?o[d]=p:o.push(f)}}else s.map&&r--},this.items.length,0),new Pt(YC.from(o.reverse()),i)};Pt.empty=new Pt(YC.empty,0);function oI(t,e){var n;return t.forEach(function(r,o){if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}var rr=function(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o};rr.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var n=e.step.merge(this.step);if(n)return new rr(n.getMap().invert(),n,this.selection)}};var Zr=function(e,n,r,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o},iI=20;function sI(t,e,n,r){var o=n.getMeta(ro),i;if(o)return o.historyState;n.getMeta(uI)&&(t=new Zr(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(ro))return s.getMeta(ro).redo?new Zr(t.done.addTransform(n,null,r,Uu(e)),t.undone,vg(n.mapping.maps[n.steps.length-1]),t.prevTime):new Zr(t.done,t.undone.addTransform(n,null,r,Uu(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){var a=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!aI(n,t.prevRanges)),u=s?xf(t.prevRanges,n.mapping):vg(n.mapping.maps[n.steps.length-1]);return new Zr(t.done.addTransform(n,a?e.selection.getBookmark():null,r,Uu(e)),Pt.empty,u,n.time)}else return(i=n.getMeta("rebased"))?new Zr(t.done.rebased(n,i),t.undone.rebased(n,i),xf(t.prevRanges,n.mapping),t.prevTime):new Zr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),xf(t.prevRanges,n.mapping),t.prevTime)}function aI(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach(function(r,o){for(var i=0;i<e.length;i+=2)r<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function vg(t){var e=[];return t.forEach(function(n,r,o,i){return e.push(o,i)}),e}function xf(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function QC(t,e,n,r){var o=Uu(e),i=ro.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(!!s){var a=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),l=new Zr(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(a).setMeta(ro,{redo:r,historyState:l}).scrollIntoView())}}var Of=!1,gg=null;function Uu(t){var e=t.plugins;if(gg!=e){Of=!1,gg=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Of=!0;break}}return Of}var ro=new xt("history"),uI=new xt("closeHistory");function lI(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new gt({key:ro,state:{init:function(){return new Zr(Pt.empty,Pt.empty,null,0)},apply:function(n,r,o){return sI(r,o,n,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(n,r){var o=r.inputType=="historyUndo"?XC(n.state,n.dispatch):r.inputType=="historyRedo"?ew(n.state,n.dispatch):!1;return o&&r.preventDefault(),o}}}})}function XC(t,e){var n=ro.getState(t);return!n||n.done.eventCount==0?!1:(e&&QC(n,t,e,!1),!0)}function ew(t,e){var n=ro.getState(t);return!n||n.undone.eventCount==0?!1:(e&&QC(n,t,e,!0),!0)}const cI=vt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>XC(t,e),redo:()=>({state:t,dispatch:e})=>ew(t,e)}},addProseMirrorPlugins(){return[lI(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),fI=St.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ct(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:o}=e.selection,i=o.end();if(o.nodeAfter)e.setSelection(Se.create(e.doc,o.pos));else{const s=(r=o.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();s&&(e.insert(i,s),e.setSelection(Se.create(e.doc,i)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[_C({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),pI=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,dI=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,hI=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,mI=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,vI=_r.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[$i({find:pI,type:this.type}),$i({find:hI,type:this.type})]},addPasteRules(){return[Ho({find:dI,type:this.type}),Ho({find:mI,type:this.type})]}}),gI=St.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ct(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yI=/^(\d+)\.\s$/,bI=St.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const r=t,{start:e}=r,n=$h(r,["start"]);return e===1?["ol",ct(this.options.HTMLAttributes,n),0]:["ol",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[uh({find:yI,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),CI=St.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),wI=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,SI=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,EI=_r.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[$i({find:wI,type:this.type})]},addPasteRules(){return[Ho({find:SI,type:this.type})]}}),AI=St.create({name:"text",group:"inline"}),Mz=vt.create({name:"starterKit",addExtensions(){var t,e,n,r,o,i,s,a,u,l,c,f,p,d,h,m,g,b;const v=[];return this.options.blockquote!==!1&&v.push(_R.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&v.push(RR.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&v.push(PR.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&v.push(zR.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&v.push(VR.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&v.push(jR.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&v.push(UR.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&v.push(XR.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&v.push(eI.configure((u=this.options)===null||u===void 0?void 0:u.hardBreak)),this.options.heading!==!1&&v.push(tI.configure((l=this.options)===null||l===void 0?void 0:l.heading)),this.options.history!==!1&&v.push(cI.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&v.push(fI.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&v.push(vI.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&v.push(gI.configure((d=this.options)===null||d===void 0?void 0:d.listItem)),this.options.orderedList!==!1&&v.push(bI.configure((h=this.options)===null||h===void 0?void 0:h.orderedList)),this.options.paragraph!==!1&&v.push(CI.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&v.push(EI.configure((g=this.options)===null||g===void 0?void 0:g.strike)),this.options.text!==!1&&v.push(AI.configure((b=this.options)===null||b===void 0?void 0:b.text)),v}}),Nz=vt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>t.style.textAlign||this.options.defaultAlignment,renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.every(n=>e.updateAttributes(n,{textAlign:t})):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.every(e=>t.resetAttributes(e,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),kI=dt({find:/--$/,replace:"\u2014"}),DI=dt({find:/\.\.\.$/,replace:"\u2026"}),xI=dt({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:"\u201C"}),OI=dt({find:/"$/,replace:"\u201D"}),_I=dt({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:"\u2018"}),TI=dt({find:/'$/,replace:"\u2019"}),MI=dt({find:/<-$/,replace:"\u2190"}),NI=dt({find:/->$/,replace:"\u2192"}),FI=dt({find:/\(c\)$/,replace:"\xA9"}),RI=dt({find:/\(tm\)$/,replace:"\u2122"}),II=dt({find:/\(r\)$/,replace:"\xAE"}),PI=dt({find:/1\/2$/,replace:"\xBD"}),BI=dt({find:/\+\/-$/,replace:"\xB1"}),LI=dt({find:/!=$/,replace:"\u2260"}),zI=dt({find:/<<$/,replace:"\xAB"}),$I=dt({find:/>>$/,replace:"\xBB"}),HI=dt({find:/\d+\s?([*x])\s?\d+$/,replace:"\xD7"}),VI=dt({find:/\^2$/,replace:"\xB2"}),jI=dt({find:/\^3$/,replace:"\xB3"}),qI=dt({find:/1\/4$/,replace:"\xBC"}),UI=dt({find:/3\/4$/,replace:"\xBE"}),Fz=vt.create({name:"typography",addInputRules(){const t=[];return this.options.emDash!==!1&&t.push(kI),this.options.ellipsis!==!1&&t.push(DI),this.options.openDoubleQuote!==!1&&t.push(xI),this.options.closeDoubleQuote!==!1&&t.push(OI),this.options.openSingleQuote!==!1&&t.push(_I),this.options.closeSingleQuote!==!1&&t.push(TI),this.options.leftArrow!==!1&&t.push(MI),this.options.rightArrow!==!1&&t.push(NI),this.options.copyright!==!1&&t.push(FI),this.options.trademark!==!1&&t.push(RI),this.options.registeredTrademark!==!1&&t.push(II),this.options.oneHalf!==!1&&t.push(PI),this.options.plusMinus!==!1&&t.push(BI),this.options.notEqual!==!1&&t.push(LI),this.options.laquo!==!1&&t.push(zI),this.options.raquo!==!1&&t.push($I),this.options.multiplication!==!1&&t.push(HI),this.options.superscriptTwo!==!1&&t.push(VI),this.options.superscriptThree!==!1&&t.push(jI),this.options.oneQuarter!==!1&&t.push(qI),this.options.threeQuarters!==!1&&t.push(UI),t}});var Fp,Rp;if(typeof WeakMap!="undefined"){var yg=new WeakMap;Fp=function(t){return yg.get(t)},Rp=function(t,e){return yg.set(t,e),e}}else{var ms=[],WI=10,su=0;Fp=function(t){for(var e=0;e<ms.length;e+=2)if(ms[e]==t)return ms[e+1]},Rp=function(t,e){return su==WI&&(su=0),ms[su++]=t,ms[su++]=e}}var Wi=function(e,n,r,o){this.left=e,this.top=n,this.right=r,this.bottom=o},Ve=function(e,n,r,o){this.width=e,this.height=n,this.map=r,this.problems=o};Ve.prototype.findCell=function(e){for(var n=0;n<this.map.length;n++){var r=this.map[n];if(r==e){for(var o=n%this.width,i=n/this.width|0,s=o+1,a=i+1,u=1;s<this.width&&this.map[n+u]==r;u++)s++;for(var l=1;a<this.height&&this.map[n+this.width*l]==r;l++)a++;return new Wi(o,i,s,a)}}throw new RangeError("No cell with offset "+e+" found")};Ve.prototype.colCount=function(e){for(var n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError("No cell with offset "+e+" found")};Ve.prototype.nextCell=function(e,n,r){var o=this.findCell(e),i=o.left,s=o.right,a=o.top,u=o.bottom;return n=="horiz"?(r<0?i==0:s==this.width)?null:this.map[a*this.width+(r<0?i-1:s)]:(r<0?a==0:u==this.height)?null:this.map[i+this.width*(r<0?a-1:u)]};Ve.prototype.rectBetween=function(e,n){var r=this.findCell(e),o=r.left,i=r.right,s=r.top,a=r.bottom,u=this.findCell(n),l=u.left,c=u.right,f=u.top,p=u.bottom;return new Wi(Math.min(o,l),Math.min(s,f),Math.max(i,c),Math.max(a,p))};Ve.prototype.cellsInRect=function(e){for(var n=[],r={},o=e.top;o<e.bottom;o++)for(var i=e.left;i<e.right;i++){var s=o*this.width+i,a=this.map[s];r[a]||(r[a]=!0,(i!=e.left||!i||this.map[s-1]!=a)&&(o!=e.top||!o||this.map[s-this.width]!=a)&&n.push(a))}return n};Ve.prototype.positionAt=function(e,n,r){for(var o=0,i=0;;o++){var s=i+r.child(o).nodeSize;if(o==e){for(var a=n+e*this.width,u=(e+1)*this.width;a<u&&this.map[a]<i;)a++;return a==u?s-1:this.map[a]}i=s}};Ve.get=function(e){return Fp(e)||Rp(e,JI(e))};function JI(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);for(var e=KI(t),n=t.childCount,r=[],o=0,i=null,s=[],a=0,u=e*n;a<u;a++)r[a]=0;for(var l=0,c=0;l<n;l++){var f=t.child(l);c++;for(var p=0;;p++){for(;o<r.length&&r[o]!=0;)o++;if(p==f.childCount)break;for(var d=f.child(p),h=d.attrs,m=h.colspan,g=h.rowspan,b=h.colwidth,v=0;v<g;v++){if(v+l>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:c,n:g-v});break}for(var w=o+v*e,y=0;y<m;y++){r[w+y]==0?r[w+y]=c:(i||(i=[])).push({type:"collision",row:l,pos:c,n:m-y});var S=b&&b[y];if(S){var A=(w+y)%e*2,k=s[A];k==null||k!=S&&s[A+1]==1?(s[A]=S,s[A+1]=1):k==S&&s[A+1]++}}}o+=m,c+=d.nodeSize}for(var x=(l+1)*e,_=0;o<x;)r[o++]==0&&_++;_&&(i||(i=[])).push({type:"missing",row:l,n:_}),c++}for(var N=new Ve(e,n,r,i),z=!1,M=0;!z&&M<s.length;M+=2)s[M]!=null&&s[M+1]<n&&(z=!0);return z&&ZI(N,s,t),N}function KI(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var o=t.child(r),i=0;if(n)for(var s=0;s<r;s++)for(var a=t.child(s),u=0;u<a.childCount;u++){var l=a.child(u);s+l.attrs.rowspan>r&&(i+=l.attrs.colspan)}for(var c=0;c<o.childCount;c++){var f=o.child(c);i+=f.attrs.colspan,f.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function ZI(t,e,n){t.problems||(t.problems=[]);for(var r=0,o={};r<t.map.length;r++){var i=t.map[r];if(!o[i]){o[i]=!0;for(var s=n.nodeAt(i),a=null,u=0;u<s.attrs.colspan;u++){var l=(r+u)%t.width,c=e[l*2];c!=null&&(!s.attrs.colwidth||s.attrs.colwidth[u]!=c)&&((a||(a=GI(s.attrs)))[u]=c)}a&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}}function GI(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function qt(t){var e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(var n in t.nodes){var r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}var Qr=new xt("selectingCells");function is(t){for(var e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function YI(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Kn(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Oc(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&e.node.type.spec.tableRole=="cell"?e.$anchor:is(e.$head)||QI(e.$head)}function QI(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(var o=t.nodeBefore,i=t.pos;o;o=o.lastChild,i--){var s=o.type.spec.tableRole;if(s=="cell"||s=="header_cell")return t.doc.resolve(i-o.nodeSize)}}function Ip(t){return t.parent.type.spec.tableRole=="row"&&t.nodeAfter}function XI(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function gh(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function tw(t,e,n){var r=t.start(-1),o=Ve.get(t.node(-1)),i=o.nextCell(t.pos-r,e,n);return i==null?null:t.node(0).resolve(r+i)}function kt(t,e,n){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r}function Vo(t,e,n){n===void 0&&(n=1);var r=kt(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(function(o){return o>0})||(r.colwidth=null)),r}function nw(t,e,n){n===void 0&&(n=1);var r=kt(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function eP(t,e,n){for(var r=qt(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}var Qe=function(t){function e(n,r){r===void 0&&(r=n);var o=n.node(-1),i=Ve.get(o),s=n.start(-1),a=i.rectBetween(n.pos-s,r.pos-s),u=n.node(0),l=i.cellsInRect(a).filter(function(f){return f!=r.pos-s});l.unshift(r.pos-s);var c=l.map(function(f){var p=o.nodeAt(f),d=f+s+1;return new hb(u.resolve(d),u.resolve(d+p.content.size))});t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=n,this.$headCell=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,o){var i=r.resolve(o.map(this.$anchorCell.pos)),s=r.resolve(o.map(this.$headCell.pos));if(Ip(i)&&Ip(s)&&gh(i,s)){var a=this.$anchorCell.node(-1)!=i.node(-1);return a&&this.isRowSelection()?e.rowSelection(i,s):a&&this.isColSelection()?e.colSelection(i,s):new e(i,s)}return Se.between(i,s)},e.prototype.content=function(){for(var r=this.$anchorCell.node(-1),o=Ve.get(r),i=this.$anchorCell.start(-1),s=o.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i),a={},u=[],l=s.top;l<s.bottom;l++){for(var c=[],f=l*o.width+s.left,p=s.left;p<s.right;p++,f++){var d=o.map[f];if(!a[d]){a[d]=!0;var h=o.findCell(d),m=r.nodeAt(d),g=s.left-h.left,b=h.right-s.right;if(g>0||b>0){var v=m.attrs;g>0&&(v=Vo(v,0,g)),b>0&&(v=Vo(v,v.colspan-b,b)),h.left<s.left?m=m.type.createAndFill(v):m=m.type.create(v,m.content)}if(h.top<s.top||h.bottom>s.bottom){var w=kt(m.attrs,"rowspan",Math.min(h.bottom,s.bottom)-Math.max(h.top,s.top));h.top<s.top?m=m.type.createAndFill(w):m=m.type.create(w,m.content)}c.push(m)}}u.push(r.child(l).copy(I.from(c)))}var y=this.isColSelection()&&this.isRowSelection()?r:u;return new K(I.from(y),1,1)},e.prototype.replace=function(r,o){o===void 0&&(o=K.empty);for(var i=r.steps.length,s=this.ranges,a=0;a<s.length;a++){var u=s[a],l=u.$from,c=u.$to,f=r.mapping.slice(i);r.replace(f.map(l.pos),f.map(c.pos),a?K.empty:o)}var p=t.findFrom(r.doc.resolve(r.mapping.slice(i).map(this.to)),-1);p&&r.setSelection(p)},e.prototype.replaceWith=function(r,o){this.replace(r,new K(I.from(o),0,0))},e.prototype.forEachCell=function(r){for(var o=this.$anchorCell.node(-1),i=Ve.get(o),s=this.$anchorCell.start(-1),a=i.cellsInRect(i.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s)),u=0;u<a.length;u++)r(o.nodeAt(a[u]),s+a[u])},e.prototype.isColSelection=function(){var r=this.$anchorCell.index(-1),o=this.$headCell.index(-1);if(Math.min(r,o)>0)return!1;var i=r+this.$anchorCell.nodeAfter.attrs.rowspan,s=o+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(i,s)==this.$headCell.node(-1).childCount},e.colSelection=function(r,o){o===void 0&&(o=r);var i=Ve.get(r.node(-1)),s=r.start(-1),a=i.findCell(r.pos-s),u=i.findCell(o.pos-s),l=r.node(0);return a.top<=u.top?(a.top>0&&(r=l.resolve(s+i.map[a.left])),u.bottom<i.height&&(o=l.resolve(s+i.map[i.width*(i.height-1)+u.right-1]))):(u.top>0&&(o=l.resolve(s+i.map[u.left])),a.bottom<i.height&&(r=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new e(r,o)},e.prototype.isRowSelection=function(){var r=Ve.get(this.$anchorCell.node(-1)),o=this.$anchorCell.start(-1),i=r.colCount(this.$anchorCell.pos-o),s=r.colCount(this.$headCell.pos-o);if(Math.min(i,s)>0)return!1;var a=i+this.$anchorCell.nodeAfter.attrs.colspan,u=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,u)==r.width},e.prototype.eq=function(r){return r instanceof e&&r.$anchorCell.pos==this.$anchorCell.pos&&r.$headCell.pos==this.$headCell.pos},e.rowSelection=function(r,o){o===void 0&&(o=r);var i=Ve.get(r.node(-1)),s=r.start(-1),a=i.findCell(r.pos-s),u=i.findCell(o.pos-s),l=r.node(0);return a.left<=u.left?(a.left>0&&(r=l.resolve(s+i.map[a.top*i.width])),u.right<i.width&&(o=l.resolve(s+i.map[i.width*(u.top+1)-1]))):(u.left>0&&(o=l.resolve(s+i.map[u.top*i.width])),a.right<i.width&&(r=l.resolve(s+i.map[i.width*(a.top+1)-1]))),new e(r,o)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(r,o){return new e(r.resolve(o.anchor),r.resolve(o.head))},e.create=function(r,o,i){return i===void 0&&(i=o),new e(r.resolve(o),r.resolve(i))},e.prototype.getBookmark=function(){return new kl(this.$anchorCell.pos,this.$headCell.pos)},e}(ve);Qe.prototype.visible=!1;ve.jsonID("cell",Qe);var kl=function(e,n){this.anchor=e,this.head=n};kl.prototype.map=function(e){return new kl(e.map(this.anchor),e.map(this.head))};kl.prototype.resolve=function(e){var n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&gh(n,r)?new Qe(n,r):ve.near(r,1)};function tP(t){if(!(t.selection instanceof Qe))return null;var e=[];return t.selection.forEachCell(function(n,r){e.push(mt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),ze.create(t.doc,e)}function nP(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,o=n.pos,i=e.depth;i>=0&&!(e.after(i+1)<e.end(i));i--,r++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,o--);return r==o&&/row|table/.test(e.node(i).type.spec.tableRole)}function rP(t){for(var e=t.$from,n=t.$to,r,o,i=e.depth;i>0;i--){var s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}for(var a=n.depth;a>0;a--){var u=n.node(a);if(u.type.spec.tableRole==="cell"||u.type.spec.tableRole==="header_cell"){o=u;break}}return r!==o&&n.parentOffset===0}function oP(t,e,n){var r=(e||t).selection,o=(e||t).doc,i,s;if(r instanceof Ce&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=Qe.create(o,r.from);else if(s=="row"){var a=o.resolve(r.from+1);i=Qe.rowSelection(a,a)}else if(!n){var u=Ve.get(r.node),l=r.from+1,c=l+u.map[u.width*u.height-1];i=Qe.create(o,l+1,c)}}else r instanceof Se&&nP(r)?i=Se.create(o,r.from):r instanceof Se&&rP(r)&&(i=Se.create(o,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}function iP(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,r=t.openEnd;e.childCount==1&&(n>0&&r>0||e.firstChild.type.spec.tableRole=="table");)n--,r--,e=e.firstChild.content;var o=e.firstChild,i=o.type.spec.tableRole,s=o.type.schema,a=[];if(i=="row")for(var u=0;u<e.childCount;u++){var l=e.child(u).content,c=u?0:Math.max(0,n-1),f=u<e.childCount-1?0:Math.max(0,r-1);(c||f)&&(l=Pp(qt(s).row,new K(l,c,f)).content),a.push(l)}else if(i=="cell"||i=="header_cell")a.push(n||r?Pp(qt(s).row,new K(e,n,r)).content:e);else return null;return sP(s,a)}function sP(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,a=s.rowspan,u=s.colspan,l=r;l<r+a;l++)n[l]=(n[l]||0)+u;for(var c=0,f=0;f<n.length;f++)c=Math.max(c,n[f]);for(var p=0;p<n.length;p++)if(p>=e.length&&e.push(I.empty),n[p]<c){for(var d=qt(t).cell.createAndFill(),h=[],m=n[p];m<c;m++)h.push(d);e[p]=e[p].append(I.from(h))}return{height:e.length,width:c,rows:e}}function Pp(t,e){var n=t.createAndFill(),r=new at(n).replace(0,n.content.size,e);return r.doc}function aP(t,e,n){var r=t.width,o=t.height,i=t.rows;if(r!=e){for(var s=[],a=[],u=0;u<i.length;u++){for(var l=i[u],c=[],f=s[u]||0,p=0;f<e;p++){var d=l.child(p%l.childCount);f+d.attrs.colspan>e&&(d=d.type.create(Vo(d.attrs,d.attrs.colspan,f+d.attrs.colspan-e),d.content)),c.push(d),f+=d.attrs.colspan;for(var h=1;h<d.attrs.rowspan;h++)s[u+h]=(s[u+h]||0)+d.attrs.colspan}a.push(I.from(c))}i=a,r=e}if(o!=n){for(var m=[],g=0,b=0;g<n;g++,b++){for(var v=[],w=i[b%o],y=0;y<w.childCount;y++){var S=w.child(y);g+S.attrs.rowspan>n&&(S=S.type.create(kt(S.attrs,"rowspan",Math.max(1,n-S.attrs.rowspan)),S.content)),v.push(S)}m.push(I.from(v))}i=m,o=n}return{width:r,height:o,rows:i}}function uP(t,e,n,r,o,i,s){var a=t.doc.type.schema,u=qt(a),l,c;if(o>e.width)for(var f=0,p=0;f<e.height;f++){var d=n.child(f);p+=d.nodeSize;var h=[],m=void 0;d.lastChild==null||d.lastChild.type==u.cell?m=l||(l=u.cell.createAndFill()):m=c||(c=u.header_cell.createAndFill());for(var g=e.width;g<o;g++)h.push(m);t.insert(t.mapping.slice(s).map(p-1+r),h)}if(i>e.height){for(var b=[],v=0,w=(e.height-1)*e.width;v<Math.max(e.width,o);v++){var y=v>=e.width?!1:n.nodeAt(e.map[w+v]).type==u.header_cell;b.push(y?c||(c=u.header_cell.createAndFill()):l||(l=u.cell.createAndFill()))}for(var S=u.row.create(null,I.from(b)),A=[],k=e.height;k<i;k++)A.push(S);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),A)}return!!(l||c)}function bg(t,e,n,r,o,i,s,a){if(s==0||s==e.height)return!1;for(var u=!1,l=o;l<i;l++){var c=s*e.width+l,f=e.map[c];if(e.map[c-e.width]==f){u=!0;var p=n.nodeAt(f),d=e.findCell(f),h=d.top,m=d.left;t.setNodeMarkup(t.mapping.slice(a).map(f+r),null,kt(p.attrs,"rowspan",s-h)),t.insert(t.mapping.slice(a).map(e.positionAt(s,m,n)),p.type.createAndFill(kt(p.attrs,"rowspan",h+p.attrs.rowspan-s))),l+=p.attrs.colspan-1}}return u}function Cg(t,e,n,r,o,i,s,a){if(s==0||s==e.width)return!1;for(var u=!1,l=o;l<i;l++){var c=l*e.width+s,f=e.map[c];if(e.map[c-1]==f){u=!0;var p=n.nodeAt(f),d=e.colCount(f),h=t.mapping.slice(a).map(f+r);t.setNodeMarkup(h,null,Vo(p.attrs,s-d,p.attrs.colspan-(s-d))),t.insert(h+p.nodeSize,p.type.createAndFill(Vo(p.attrs,0,s-d))),l+=p.attrs.rowspan-1}}return u}function wg(t,e,n,r,o){var i=n?t.doc.nodeAt(n-1):t.doc,s=Ve.get(i),a=r.top,u=r.left,l=u+o.width,c=a+o.height,f=t.tr,p=0;function d(){i=n?f.doc.nodeAt(n-1):f.doc,s=Ve.get(i),p=f.mapping.maps.length}uP(f,s,i,n,l,c,p)&&d(),bg(f,s,i,n,u,l,a,p)&&d(),bg(f,s,i,n,u,l,c,p)&&d(),Cg(f,s,i,n,a,c,u,p)&&d(),Cg(f,s,i,n,a,c,l,p)&&d();for(var h=a;h<c;h++){var m=s.positionAt(h,u,i),g=s.positionAt(h,l,i);f.replace(f.mapping.slice(p).map(m+n),f.mapping.slice(p).map(g+n),new K(o.rows[h-a],0,0))}d(),f.setSelection(new Qe(f.doc.resolve(n+s.positionAt(a,u,i)),f.doc.resolve(n+s.positionAt(c-1,l-1,i)))),e(f)}var lP=rh({ArrowLeft:au("horiz",-1),ArrowRight:au("horiz",1),ArrowUp:au("vert",-1),ArrowDown:au("vert",1),"Shift-ArrowLeft":uu("horiz",-1),"Shift-ArrowRight":uu("horiz",1),"Shift-ArrowUp":uu("vert",-1),"Shift-ArrowDown":uu("vert",1),Backspace:lu,"Mod-Backspace":lu,Delete:lu,"Mod-Delete":lu});function Wu(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function au(t,e){return function(n,r,o){var i=n.selection;if(i instanceof Qe)return Wu(n,r,ve.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;var s=rw(o,t,e);if(s==null)return!1;if(t=="horiz")return Wu(n,r,ve.near(n.doc.resolve(i.head+e),e));var a=n.doc.resolve(s),u=tw(a,t,e),l;return u?l=ve.near(u,1):e<0?l=ve.near(n.doc.resolve(a.before(-1)),-1):l=ve.near(n.doc.resolve(a.after(-1)),1),Wu(n,r,l)}}function uu(t,e){return function(n,r,o){var i=n.selection;if(!(i instanceof Qe)){var s=rw(o,t,e);if(s==null)return!1;i=new Qe(n.doc.resolve(s))}var a=tw(i.$headCell,t,e);return a?Wu(n,r,new Qe(i.$anchorCell,a)):!1}}function lu(t,e){var n=t.selection;if(!(n instanceof Qe))return!1;if(e){var r=t.tr,o=qt(t.schema).cell.createAndFill().content;n.forEachCell(function(i,s){i.content.eq(o)||r.replace(r.mapping.map(s+1),r.mapping.map(s+i.nodeSize-1),new K(o,0,0))}),r.docChanged&&e(r)}return!0}function cP(t,e){var n=t.state.doc,r=is(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Qe(r))),!0):!1}function fP(t,e,n){if(!Kn(t.state))return!1;var r=iP(n),o=t.state.selection;if(o instanceof Qe){r||(r={width:1,height:1,rows:[I.from(Pp(qt(t.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),a=Ve.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=aP(r,a.right-a.left,a.bottom-a.top),wg(t.state,t.dispatch,s,a,r),!0}else if(r){var u=Oc(t.state),l=u.start(-1);return wg(t.state,t.dispatch,l,Ve.get(u.node(-1)).findCell(u.pos-l),r),!0}else return!1}function pP(t,e){if(e.ctrlKey||e.metaKey)return;var n=Sg(t,e.target),r;if(e.shiftKey&&t.state.selection instanceof Qe)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&(r=is(t.state.selection.$anchor))!=null&&_f(t,e).pos!=r.pos)o(r,e),e.preventDefault();else if(!n)return;function o(a,u){var l=_f(t,u),c=Qr.getState(t.state)==null;if(!l||!gh(a,l))if(c)l=a;else return;var f=new Qe(a,l);if(c||!t.state.selection.eq(f)){var p=t.state.tr.setSelection(f);c&&p.setMeta(Qr,a.pos),t.dispatch(p)}}function i(){t.root.removeEventListener("mouseup",i),t.root.removeEventListener("dragstart",i),t.root.removeEventListener("mousemove",s),Qr.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Qr,-1))}function s(a){var u=Qr.getState(t.state),l;if(u!=null)l=t.state.doc.resolve(u);else if(Sg(t,a.target)!=n&&(l=_f(t,e),!l))return i();l&&o(l,a)}t.root.addEventListener("mouseup",i),t.root.addEventListener("dragstart",i),t.root.addEventListener("mousemove",s)}function rw(t,e,n){if(!(t.state.selection instanceof Se))return null;for(var r=t.state.selection,o=r.$head,i=o.depth-1;i>=0;i--){var s=o.node(i),a=n<0?o.index(i):o.indexAfter(i);if(a!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){var u=o.before(i),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?u:null}}return null}function Sg(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e}function _f(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?is(t.state.doc.resolve(n.pos)):null}var dP=new xt("fix-tables");function ow(t,e,n,r){var o=t.childCount,i=e.childCount;e:for(var s=0,a=0;s<i;s++){for(var u=e.child(s),l=a,c=Math.min(o,s+3);l<c;l++)if(t.child(l)==u){a=l+1,n+=u.nodeSize;continue e}r(u,n),a<o&&t.child(a).sameMarkup(u)?ow(t.child(a),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function iw(t,e){var n,r=function(o,i){o.type.spec.tableRole=="table"&&(n=hP(t,o,i,n))};return e?e.doc!=t.doc&&ow(e.doc,t.doc,0,r):t.doc.descendants(r),n}function hP(t,e,n,r){var o=Ve.get(e);if(!o.problems)return r;r||(r=t.tr);for(var i=[],s=0;s<o.height;s++)i.push(0);for(var a=0;a<o.problems.length;a++){var u=o.problems[a];if(u.type=="collision"){for(var l=e.nodeAt(u.pos),c=0;c<l.attrs.rowspan;c++)i[u.row+c]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Vo(l.attrs,l.attrs.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){var f=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,kt(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if(u.type=="colwidth mismatch"){var p=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,kt(p.attrs,"colwidth",u.colwidth))}}for(var d,h,m=0;m<i.length;m++)i[m]&&(d==null&&(d=m),h=m);for(var g=0,b=n+1;g<o.height;g++){var v=e.child(g),w=b+v.nodeSize,y=i[g];if(y>0){var S="cell";v.firstChild&&(S=v.firstChild.type.spec.tableRole);for(var A=[],k=0;k<y;k++)A.push(qt(t.schema)[S].createAndFill());var x=(g==0||d==g-1)&&h==g?b+1:w-1;r.insert(r.mapping.map(x),A)}b=w}return r.setMeta(dP,{fixTables:!0})}function dr(t){var e=t.selection,n=Oc(t),r=n.node(-1),o=n.start(-1),i=Ve.get(r),s;return e instanceof Qe?s=i.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):s=i.findCell(n.pos-o),s.tableStart=o,s.map=i,s.table=r,s}function sw(t,e,n){var r=e.map,o=e.tableStart,i=e.table,s=n>0?-1:0;eP(r,i,n+s)&&(s=n==0||n==r.width?null:0);for(var a=0;a<r.height;a++){var u=a*r.width+n;if(n>0&&n<r.width&&r.map[u-1]==r.map[u]){var l=r.map[u],c=i.nodeAt(l);t.setNodeMarkup(t.mapping.map(o+l),null,nw(c.attrs,n-r.colCount(l))),a+=c.attrs.rowspan-1}else{var f=s==null?qt(i.type.schema).cell:i.nodeAt(r.map[u+s]).type,p=r.positionAt(a,n,i);t.insert(t.mapping.map(o+p),f.createAndFill())}}return t}function mP(t,e){if(!Kn(t))return!1;if(e){var n=dr(t);e(sw(t.tr,n,n.left))}return!0}function vP(t,e){if(!Kn(t))return!1;if(e){var n=dr(t);e(sw(t.tr,n,n.right))}return!0}function gP(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=t.mapping.maps.length,a=0;a<r.height;){var u=a*r.width+n,l=r.map[u],c=o.nodeAt(l);if(n>0&&r.map[u-1]==l||n<r.width-1&&r.map[u+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(i+l),null,Vo(c.attrs,n-r.colCount(l)));else{var f=t.mapping.slice(s).map(i+l);t.delete(f,f+c.nodeSize)}a+=c.attrs.rowspan}}function yP(t,e){if(!Kn(t))return!1;if(e){var n=dr(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(var o=n.right-1;gP(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Ve.get(n.table);e(r)}return!0}function bP(t,e,n){for(var r=qt(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=r)return!1;return!0}function aw(t,e,n){for(var r=e.map,o=e.tableStart,i=e.table,s=o,a=0;a<n;a++)s+=i.child(a).nodeSize;var u=[],l=n>0?-1:0;bP(r,i,n+l)&&(l=n==0||n==r.height?null:0);for(var c=0,f=r.width*n;c<r.width;c++,f++)if(n>0&&n<r.height&&r.map[f]==r.map[f-r.width]){var p=r.map[f],d=i.nodeAt(p).attrs;t.setNodeMarkup(o+p,null,kt(d,"rowspan",d.rowspan+1)),c+=d.colspan-1}else{var h=l==null?qt(i.type.schema).cell:i.nodeAt(r.map[f+l*r.width]).type;u.push(h.createAndFill())}return t.insert(s,qt(i.type.schema).row.create(null,u)),t}function CP(t,e){if(!Kn(t))return!1;if(e){var n=dr(t);e(aw(t.tr,n,n.top))}return!0}function wP(t,e){if(!Kn(t))return!1;if(e){var n=dr(t);e(aw(t.tr,n,n.bottom))}return!0}function SP(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var u=s+o.child(n).nodeSize,l=t.mapping.maps.length;t.delete(s+i,u+i);for(var c=0,f=n*r.width;c<r.width;c++,f++){var p=r.map[f];if(n>0&&p==r.map[f-r.width]){var d=o.nodeAt(p).attrs;t.setNodeMarkup(t.mapping.slice(l).map(p+i),null,kt(d,"rowspan",d.rowspan-1)),c+=d.colspan-1}else if(n<r.width&&p==r.map[f+r.width]){var h=o.nodeAt(p),m=h.type.create(kt(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),g=r.positionAt(n+1,c,o);t.insert(t.mapping.slice(l).map(i+g),m),c+=h.attrs.colspan-1}}}function EP(t,e){if(!Kn(t))return!1;if(e){var n=dr(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;SP(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Ve.get(n.table);e(r)}return!0}function Eg(t){var e=t.content;return e.childCount==1&&e.firstChild.isTextblock&&e.firstChild.childCount==0}function AP(t,e){for(var n=t.width,r=t.height,o=t.map,i=e.top*n+e.left,s=i,a=(e.bottom-1)*n+e.left,u=i+(e.right-e.left-1),l=e.top;l<e.bottom;l++){if(e.left>0&&o[s]==o[s-1]||e.right<n&&o[u]==o[u+1])return!0;s+=n,u+=n}for(var c=e.left;c<e.right;c++){if(e.top>0&&o[i]==o[i-n]||e.bottom<r&&o[a]==o[a+n])return!0;i++,a++}return!1}function Ag(t,e){var n=t.selection;if(!(n instanceof Qe)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=dr(t),o=r.map;if(AP(o,r))return!1;if(e){for(var i=t.tr,s={},a=I.empty,u,l,c=r.top;c<r.bottom;c++)for(var f=r.left;f<r.right;f++){var p=o.map[c*o.width+f],d=r.table.nodeAt(p);if(!s[p])if(s[p]=!0,u==null)u=p,l=d;else{Eg(d)||(a=a.append(d.content));var h=i.mapping.map(p+r.tableStart);i.delete(h,h+d.nodeSize)}}if(i.setNodeMarkup(u+r.tableStart,null,kt(nw(l.attrs,l.attrs.colspan,r.right-r.left-l.attrs.colspan),"rowspan",r.bottom-r.top)),a.size){var m=u+1+l.content.size,g=Eg(l)?u+1:m;i.replaceWith(g+r.tableStart,m+r.tableStart,a)}i.setSelection(new Qe(i.doc.resolve(u+r.tableStart))),e(i)}return!0}function kg(t,e){var n=qt(t.schema);return kP(function(r){var o=r.node;return n[o.type.spec.tableRole]})(t,e)}function kP(t){return function(e,n){var r=e.selection,o,i;if(r instanceof Qe){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;o=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{if(o=YI(r.$from),!o)return!1;i=is(r.$from).pos}if(o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){var s=o.attrs,a=[],u=s.colwidth;s.rowspan>1&&(s=kt(s,"rowspan",1)),s.colspan>1&&(s=kt(s,"colspan",1));for(var l=dr(e),c=e.tr,f=0;f<l.right-l.left;f++)a.push(u?kt(s,"colwidth",u&&u[f]?[u[f]]:null):s);for(var p,d=l.top;d<l.bottom;d++){var h=l.map.positionAt(d,l.left,l.table);d==l.top&&(h+=o.nodeSize);for(var m=l.left,g=0;m<l.right;m++,g++)m==l.left&&d==l.top||c.insert(p=c.mapping.map(h+l.tableStart,1),t({node:o,row:d,col:m}).createAndFill(a[g]))}c.setNodeMarkup(i,t({node:o,row:l.top,col:l.left}),a[0]),r instanceof Qe&&c.setSelection(new Qe(c.doc.resolve(r.$anchorCell.pos),p&&c.doc.resolve(p))),n(c)}return!0}}function DP(t,e){return function(n,r){if(!Kn(n))return!1;var o=Oc(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){var i=n.tr;n.selection instanceof Qe?n.selection.forEachCell(function(s,a){s.attrs[t]!==e&&i.setNodeMarkup(a,null,kt(s.attrs,t,e))}):i.setNodeMarkup(o.pos,null,kt(o.nodeAfter.attrs,t,e)),r(i)}return!0}}function xP(t){return function(e,n){if(!Kn(e))return!1;if(n){for(var r=qt(e.schema),o=dr(e),i=e.tr,s=o.map.cellsInRect(t=="column"?new Wi(o.left,0,o.right,o.map.height):t=="row"?new Wi(0,o.top,o.map.width,o.bottom):o),a=s.map(function(c){return o.table.nodeAt(c)}),u=0;u<s.length;u++)a[u].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[u],r.cell,a[u].attrs);if(i.steps.length==0)for(var l=0;l<s.length;l++)i.setNodeMarkup(o.tableStart+s[l],r.header_cell,a[l].attrs);n(i)}return!0}}function Dg(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1}),o=0;o<r.length;o++){var i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function ba(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?xP(t):function(n,r){if(!Kn(n))return!1;if(r){var o=qt(n.schema),i=dr(n),s=n.tr,a=Dg("row",i,o),u=Dg("column",i,o),l=t==="column"?a:t==="row"?u:!1,c=l?1:0,f=t=="column"?new Wi(0,c,1,i.map.height):t=="row"?new Wi(c,0,i.map.width,1):i,p=t=="column"?u?o.cell:o.header_cell:t=="row"?a?o.cell:o.header_cell:o.cell;i.map.cellsInRect(f).forEach(function(d){var h=d+i.tableStart,m=s.doc.nodeAt(h);m&&s.setNodeMarkup(h,p,m.attrs)}),r(s)}return!0}}ba("row",{useDeprecatedLogic:!0});ba("column",{useDeprecatedLogic:!0});var OP=ba("cell",{useDeprecatedLogic:!0});function _P(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,o=t.before();r>=0;r--){var i=t.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var s=t.node(-1),a=t.indexAfter(-1),u=t.after();a<s.childCount;a++){var l=s.child(a);if(l.childCount)return u+1;u+=l.nodeSize}}}function xg(t){return function(e,n){if(!Kn(e))return!1;var r=_P(Oc(e),t);if(r!=null){if(n){var o=e.doc.resolve(r);n(e.tr.setSelection(Se.between(o,XI(o))).scrollIntoView())}return!0}}}function TP(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--){var o=n.node(r);if(o.type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var yh=function(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),bh(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};yh.prototype.update=function(e){return e.type!=this.node.type?!1:(this.node=e,bh(e,this.colgroup,this.table,this.cellMinWidth),!0)};yh.prototype.ignoreMutation=function(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))};function bh(t,e,n,r,o,i){for(var s=0,a=!0,u=e.firstChild,l=t.firstChild,c=0,f=0;c<l.childCount;c++)for(var p=l.child(c).attrs,d=p.colspan,h=p.colwidth,m=0;m<d;m++,f++){var g=o==f?i:h&&h[m],b=g?g+"px":"";s+=g||r,g||(a=!1),u?(u.style.width!=b&&(u.style.width=b),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=b}for(;u;){var v=u.nextSibling;u.parentNode.removeChild(u),u=v}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}var An=new xt("tableColumnResizing");function MP(t){t===void 0&&(t={});var e=t.handleWidth;e===void 0&&(e=5);var n=t.cellMinWidth;n===void 0&&(n=25);var r=t.View;r===void 0&&(r=yh);var o=t.lastColumnResizable;o===void 0&&(o=!0);var i=new gt({key:An,state:{init:function(a,u){return this.spec.props.nodeViews[qt(u.schema).table.name]=function(l,c){return new r(l,n,c)},new ks(-1,!1)},apply:function(a,u){return u.apply(a)}},props:{attributes:function(a){var u=An.getState(a);return u.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(a,u){NP(a,u,e,n,o)},mouseleave:function(a){FP(a)},mousedown:function(a,u){RP(a,u,n)}},decorations:function(a){var u=An.getState(a);if(u.activeHandle>-1)return $P(a,u.activeHandle)},nodeViews:{}}});return i}var ks=function(e,n){this.activeHandle=e,this.dragging=n};ks.prototype.apply=function(e){var n=this,r=e.getMeta(An);if(r&&r.setHandle!=null)return new ks(r.setHandle,null);if(r&&r.setDragging!==void 0)return new ks(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){var o=e.mapping.map(n.activeHandle,-1);Ip(e.doc.resolve(o))||(o=null),n=new ks(o,n.dragging)}return n};function NP(t,e,n,r,o){var i=An.getState(t.state);if(!i.dragging){var s=PP(e.target),a=-1;if(s){var u=s.getBoundingClientRect(),l=u.left,c=u.right;e.clientX-l<=n?a=Og(t,e,"left"):c-e.clientX<=n&&(a=Og(t,e,"right"))}if(a!=i.activeHandle){if(!o&&a!==-1){var f=t.state.doc.resolve(a),p=f.node(-1),d=Ve.get(p),h=f.start(-1),m=d.colCount(f.pos-h)+f.nodeAfter.attrs.colspan-1;if(m==d.width-1)return}uw(t,a)}}}function FP(t){var e=An.getState(t.state);e.activeHandle>-1&&!e.dragging&&uw(t,-1)}function RP(t,e,n){var r=An.getState(t.state);if(r.activeHandle==-1||r.dragging)return!1;var o=t.state.doc.nodeAt(r.activeHandle),i=IP(t,r.activeHandle,o.attrs);t.dispatch(t.state.tr.setMeta(An,{setDragging:{startX:e.clientX,startWidth:i}}));function s(u){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var l=An.getState(t.state);l.dragging&&(BP(t,l.activeHandle,_g(l.dragging,u,n)),t.dispatch(t.state.tr.setMeta(An,{setDragging:null})))}function a(u){if(!u.which)return s(u);var l=An.getState(t.state),c=_g(l.dragging,u,n);LP(t,l.activeHandle,c,n)}return window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),e.preventDefault(),!0}function IP(t,e,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var s=t.domAtPos(e),a=s.node.childNodes[s.offset],u=a.offsetWidth,l=r;if(o)for(var c=0;c<r;c++)o[c]&&(u-=o[c],l--);return u/l}function PP(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Og(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var o=r.pos,i=is(t.state.doc.resolve(o));if(!i)return-1;if(n=="right")return i.pos;var s=Ve.get(i.node(-1)),a=i.start(-1),u=s.map.indexOf(i.pos-a);return u%s.width==0?-1:a+s.map[u-1]}function _g(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function uw(t,e){t.dispatch(t.state.tr.setMeta(An,{setHandle:e}))}function BP(t,e,n){for(var r=t.state.doc.resolve(e),o=r.node(-1),i=Ve.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=t.state.tr,l=0;l<i.height;l++){var c=l*i.width+a;if(!(l&&i.map[c]==i.map[c-i.width])){var f=i.map[c],p=o.nodeAt(f),d=p.attrs,h=d.colspan==1?0:a-i.colCount(f);if(!(d.colwidth&&d.colwidth[h]==n)){var m=d.colwidth?d.colwidth.slice():zP(d.colspan);m[h]=n,u.setNodeMarkup(s+f,null,kt(d,"colwidth",m))}}}u.docChanged&&t.dispatch(u)}function LP(t,e,n,r){for(var o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),a=Ve.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,u=t.domAtPos(o.start(-1)).node;u.nodeName!="TABLE";)u=u.parentNode;bh(i,u.firstChild,u,r,a,n)}function zP(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function $P(t,e){for(var n=[],r=t.doc.resolve(e),o=r.node(-1),i=Ve.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan,u=0;u<i.height;u++){var l=a+u*i.width-1;if((a==i.width||i.map[l]!=i.map[l+1])&&(u==0||i.map[l-1]!=i.map[l-1-i.width])){var c=i.map[l],f=s+c+o.nodeAt(c).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",n.push(mt.widget(f,p))}}return ze.create(t.doc,n)}function HP(t){t===void 0&&(t={});var e=t.allowTableNodeSelection;return e===void 0&&(e=!1),new gt({key:Qr,state:{init:function(){return null},apply:function(r,o){var i=r.getMeta(Qr);if(i!=null)return i==-1?null:i;if(o==null||!r.docChanged)return o;var s=r.mapping.mapResult(o),a=s.deleted,u=s.pos;return a?null:u}},props:{decorations:tP,handleDOMEvents:{mousedown:pP},createSelectionBetween:function(r){if(Qr.getState(r.state)!=null)return r.state.selection},handleTripleClick:cP,handleKeyDown:lP,handlePaste:fP},appendTransaction:function(r,o,i){return oP(i,iw(i,o),e)}})}function lw(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=lw(o.content,i.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function cw(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),u=s.nodeSize;if(s==a){n-=u,r-=u;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var l=0,c=Math.min(s.text.length,a.text.length);l<c&&s.text[s.text.length-l-1]==a.text[a.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var f=cw(s.content,a.content,n-1,r-1);if(f)return f}n-=u,r-=u}}var G=function(e,n){if(this.content=e,this.size=n||0,n==null)for(var r=0;r<e.length;r++)this.size+=e[r].nodeSize},_c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};G.prototype.nodesBetween=function(e,n,r,o,i){o===void 0&&(o=0);for(var s=0,a=0;a<n;s++){var u=this.content[s],l=a+u.nodeSize;if(l>e&&r(u,o+a,i,s)!==!1&&u.content.size){var c=a+1;u.nodesBetween(Math.max(0,e-c),Math.min(u.content.size,n-c),r,o+c)}a=l}};G.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)};G.prototype.textBetween=function(e,n,r,o){var i="",s=!0;return this.nodesBetween(e,n,function(a,u){a.isText?(i+=a.text.slice(Math.max(e,u)-u,n-u),s=!r):a.isLeaf&&o?(i+=typeof o=="function"?o(a):o,s=!r):!s&&a.isBlock&&(i+=r,s=!0)},0),i};G.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new G(o,this.size+e.size)};G.prototype.cut=function(e,n){if(n==null&&(n=this.size),e==0&&n==this.size)return this;var r=[],o=0;if(n>e)for(var i=0,s=0;s<n;i++){var a=this.content[i],u=s+a.nodeSize;u>e&&((s<e||u>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=u}return new G(r,o)};G.prototype.cutByIndex=function(e,n){return e==n?G.empty:e==0&&n==this.content.length?this:new G(this.content.slice(e,n))};G.prototype.replaceChild=function(e,n){var r=this.content[e];if(r==n)return this;var o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new G(o,i)};G.prototype.addToStart=function(e){return new G([e].concat(this.content),this.size+e.nodeSize)};G.prototype.addToEnd=function(e){return new G(this.content.concat(e),this.size+e.nodeSize)};G.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0};_c.firstChild.get=function(){return this.content.length?this.content[0]:null};_c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};_c.childCount.get=function(){return this.content.length};G.prototype.child=function(e){var n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n};G.prototype.maybeChild=function(e){return this.content[e]};G.prototype.forEach=function(e){for(var n=0,r=0;n<this.content.length;n++){var o=this.content[n];e(o,r,n),r+=o.nodeSize}};G.prototype.findDiffStart=function(e,n){return n===void 0&&(n=0),lw(this,e,n)};G.prototype.findDiffEnd=function(e,n,r){return n===void 0&&(n=this.size),r===void 0&&(r=e.size),cw(this,e,n,r)};G.prototype.findIndex=function(e,n){if(n===void 0&&(n=-1),e==0)return cu(0,e);if(e==this.size)return cu(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var r=0,o=0;;r++){var i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?cu(r+1,s):cu(r,o);o=s}};G.prototype.toString=function(){return"<"+this.toStringInner()+">"};G.prototype.toStringInner=function(){return this.content.join(", ")};G.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null};G.fromJSON=function(e,n){if(!n)return G.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(n.map(e.nodeFromJSON))};G.fromArray=function(e){if(!e.length)return G.empty;for(var n,r=0,o=0;o<e.length;o++){var i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new G(n||e,r)};G.from=function(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(G.prototype,_c);var Tf={index:0,offset:0};function cu(t,e){return Tf.index=t,Tf.offset=e,Tf}G.empty=new G([],0);function Dl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!Dl(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!Dl(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}var Pe=function(e,n){this.type=e,this.attrs=n};Pe.prototype.addToSet=function(e){for(var n,r=!1,o=0;o<e.length;o++){var i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n};Pe.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e};Pe.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1};Pe.prototype.eq=function(e){return this==e||this.type==e.type&&Dl(this.attrs,e.attrs)};Pe.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return e};Pe.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");var r=e.marks[n.type];if(!r)throw new RangeError("There is no mark type "+n.type+" in this schema");return r.create(n.attrs)};Pe.sameSet=function(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0};Pe.setFrom=function(e){if(!e||e.length==0)return Pe.none;if(e instanceof Pe)return[e];var n=e.slice();return n.sort(function(r,o){return r.type.rank-o.type.rank}),n};Pe.none=[];function ur(t){var e=Error.call(this,t);return e.__proto__=ur.prototype,e}ur.prototype=Object.create(Error.prototype);ur.prototype.constructor=ur;ur.prototype.name="ReplaceError";var he=function(e,n,r){this.content=e,this.openStart=n,this.openEnd=r},fw={size:{configurable:!0}};fw.size.get=function(){return this.content.size-this.openStart-this.openEnd};he.prototype.insertAt=function(e,n){var r=dw(this.content,e+this.openStart,n,null);return r&&new he(r,this.openStart,this.openEnd)};he.prototype.removeBetween=function(e,n){return new he(pw(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)};he.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd};he.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};he.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e};he.fromJSON=function(e,n){if(!n)return he.empty;var r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new he(G.fromJSON(e,n.content),r,o)};he.maxOpen=function(e,n){n===void 0&&(n=!0);for(var r=0,o=0,i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(var s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new he(e,r,o)};Object.defineProperties(he.prototype,fw);function pw(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),u=a.index,l=a.offset;if(i==e||s.isText){if(l!=n&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(pw(s.content,e-i-1,n-i-1)))}function dw(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var u=dw(a.content,e-s-1,n);return u&&t.replaceChild(i,a.copy(u))}he.empty=new he(G.empty,0,0);function VP(t,e,n){if(n.openStart>t.depth)throw new ur("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ur("Inconsistent open depths");return hw(t,e,n,0)}function hw(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=hw(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){var a=t.parent,u=a.content;return Lo(a,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{var l=jP(n,t),c=l.start,f=l.end;return Lo(i,vw(t,c,f,e,r))}else return Lo(i,xl(t,e,r))}function mw(t,e){if(!e.type.compatibleContent(t.type))throw new ur("Cannot join "+e.type.name+" onto "+t.type.name)}function Bp(t,e,n){var r=t.node(n);return mw(r,e.node(n)),r}function Bo(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ws(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Bo(t.nodeAfter,r),i++));for(var a=i;a<s;a++)Bo(o.child(a),r);e&&e.depth==n&&e.textOffset&&Bo(e.nodeBefore,r)}function Lo(t,e){if(!t.type.validContent(e))throw new ur("Invalid content for node "+t.type.name);return t.copy(e)}function vw(t,e,n,r,o){var i=t.depth>o&&Bp(t,e,o+1),s=r.depth>o&&Bp(n,r,o+1),a=[];return Ws(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(mw(i,s),Bo(Lo(i,vw(t,e,n,r,o+1)),a)):(i&&Bo(Lo(i,xl(t,e,o+1)),a),Ws(e,n,o,a),s&&Bo(Lo(s,xl(n,r,o+1)),a)),Ws(r,null,o,a),new G(a)}function xl(t,e,n){var r=[];if(Ws(null,t,n,r),t.depth>n){var o=Bp(t,e,n+1);Bo(Lo(o,xl(t,e,n+1)),r)}return Ws(e,null,n,r),new G(r)}function jP(t,e){for(var n=e.depth-t.openStart,r=e.node(n),o=r.copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(G.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}var rt=function(e,n,r){this.pos=e,this.path=n,this.depth=n.length/3-1,this.parentOffset=r},ss={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};rt.prototype.resolveDepth=function(e){return e==null?this.depth:e<0?this.depth+e:e};ss.parent.get=function(){return this.node(this.depth)};ss.doc.get=function(){return this.node(0)};rt.prototype.node=function(e){return this.path[this.resolveDepth(e)*3]};rt.prototype.index=function(e){return this.path[this.resolveDepth(e)*3+1]};rt.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)};rt.prototype.start=function(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1};rt.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size};rt.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]};rt.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize};ss.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};ss.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r};ss.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)};rt.prototype.posAtIndex=function(e,n){n=this.resolveDepth(n);for(var r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1,i=0;i<e;i++)o+=r.child(i).nodeSize;return o};rt.prototype.marks=function(){var e=this.parent,n=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(n).marks;var r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){var i=r;r=o,o=i}for(var s=r.marks,a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s};rt.prototype.marksAcross=function(e){var n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;for(var r=n.marks,o=e.parent.maybeChild(e.index()),i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r};rt.prototype.sharedDepth=function(e){for(var n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0};rt.prototype.blockRange=function(e,n){if(e===void 0&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new gw(this,e,r)};rt.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset};rt.prototype.max=function(e){return e.pos>this.pos?e:this};rt.prototype.min=function(e){return e.pos<this.pos?e:this};rt.prototype.toString=function(){for(var e="",n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset};rt.resolve=function(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],o=0,i=n,s=e;;){var a=s.content.findIndex(i),u=a.index,l=a.offset,c=i-l;if(r.push(s,u,o+l),!c||(s=s.child(u),s.isText))break;i=c-1,o+=l+1}return new rt(n,r,i)};rt.resolveCached=function(e,n){for(var r=0;r<Mf.length;r++){var o=Mf[r];if(o.pos==n&&o.doc==e)return o}var i=Mf[Nf]=rt.resolve(e,n);return Nf=(Nf+1)%qP,i};Object.defineProperties(rt.prototype,ss);var Mf=[],Nf=0,qP=12,gw=function(e,n,r){this.$from=e,this.$to=n,this.depth=r},as={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};as.start.get=function(){return this.$from.before(this.depth+1)};as.end.get=function(){return this.$to.after(this.depth+1)};as.parent.get=function(){return this.$from.node(this.depth)};as.startIndex.get=function(){return this.$from.index(this.depth)};as.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(gw.prototype,as);var UP=Object.create(null),Be=function(e,n,r,o){this.type=e,this.attrs=n,this.content=r||G.empty,this.marks=o||Pe.none},bn={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};bn.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};bn.childCount.get=function(){return this.content.childCount};Be.prototype.child=function(e){return this.content.child(e)};Be.prototype.maybeChild=function(e){return this.content.maybeChild(e)};Be.prototype.forEach=function(e){this.content.forEach(e)};Be.prototype.nodesBetween=function(e,n,r,o){o===void 0&&(o=0),this.content.nodesBetween(e,n,r,o,this)};Be.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)};bn.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Be.prototype.textBetween=function(e,n,r,o){return this.content.textBetween(e,n,r,o)};bn.firstChild.get=function(){return this.content.firstChild};bn.lastChild.get=function(){return this.content.lastChild};Be.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)};Be.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)};Be.prototype.hasMarkup=function(e,n,r){return this.type==e&&Dl(this.attrs,n||e.defaultAttrs||UP)&&Pe.sameSet(this.marks,r||Pe.none)};Be.prototype.copy=function(e){return e===void 0&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)};Be.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)};Be.prototype.cut=function(e,n){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))};Be.prototype.slice=function(e,n,r){if(n===void 0&&(n=this.content.size),r===void 0&&(r=!1),e==n)return he.empty;var o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),u=o.node(s),l=u.content.cut(o.pos-a,i.pos-a);return new he(l,o.depth-s,i.depth-s)};Be.prototype.replace=function(e,n,r){return VP(this.resolve(e),this.resolve(n),r)};Be.prototype.nodeAt=function(e){for(var n=this;;){var r=n.content.findIndex(e),o=r.index,i=r.offset;if(n=n.maybeChild(o),!n)return null;if(i==e||n.isText)return n;e-=i+1}};Be.prototype.childAfter=function(e){var n=this.content.findIndex(e),r=n.index,o=n.offset;return{node:this.content.maybeChild(r),index:r,offset:o}};Be.prototype.childBefore=function(e){if(e==0)return{node:null,index:0,offset:0};var n=this.content.findIndex(e),r=n.index,o=n.offset;if(o<e)return{node:this.content.child(r),index:r,offset:o};var i=this.content.child(r-1);return{node:i,index:r-1,offset:o-i.nodeSize}};Be.prototype.resolve=function(e){return rt.resolveCached(this,e)};Be.prototype.resolveNoCache=function(e){return rt.resolve(this,e)};Be.prototype.rangeHasMark=function(e,n,r){var o=!1;return n>e&&this.nodesBetween(e,n,function(i){return r.isInSet(i.marks)&&(o=!0),!o}),o};bn.isBlock.get=function(){return this.type.isBlock};bn.isTextblock.get=function(){return this.type.isTextblock};bn.inlineContent.get=function(){return this.type.inlineContent};bn.isInline.get=function(){return this.type.isInline};bn.isText.get=function(){return this.type.isText};bn.isLeaf.get=function(){return this.type.isLeaf};bn.isAtom.get=function(){return this.type.isAtom};Be.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),WP(this.marks,e)};Be.prototype.contentMatchAt=function(e){var n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n};Be.prototype.canReplace=function(e,n,r,o,i){r===void 0&&(r=G.empty),o===void 0&&(o=0),i===void 0&&(i=r.childCount);var s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(var u=o;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0};Be.prototype.canReplaceWith=function(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;var i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1};Be.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)};Be.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=Pe.none,n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Pe.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(r){return r.type.name}));this.content.forEach(function(r){return r.check()})};Be.prototype.toJSON=function(){var e={type:this.type.name};for(var n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(r){return r.toJSON()})),e};Be.fromJSON=function(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");var r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}var o=G.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,o,r)};Object.defineProperties(Be.prototype,bn);function WP(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var en=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},Tc={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};en.parse=function(e,n){var r=new Mc(e,n);if(r.next==null)return en.empty;var o=bw(r);r.next&&r.err("Unexpected trailing text");var i=XP(QP(o));return eB(i,r),i};en.prototype.matchType=function(e){for(var n=0;n<this.next.length;n+=2)if(this.next[n]==e)return this.next[n+1];return null};en.prototype.matchFragment=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=e.childCount);for(var o=this,i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o};Tc.inlineContent.get=function(){var t=this.next[0];return t?t.isInline:!1};Tc.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}};en.prototype.compatible=function(e){for(var n=0;n<this.next.length;n+=2)for(var r=0;r<e.next.length;r+=2)if(this.next[n]==e.next[r])return!0;return!1};en.prototype.fillBefore=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=0);var o=[this];function i(s,a){var u=s.matchFragment(e,r);if(u&&(!n||u.validEnd))return G.from(a.map(function(d){return d.createAndFill()}));for(var l=0;l<s.next.length;l+=2){var c=s.next[l],f=s.next[l+1];if(!(c.isText||c.hasRequiredAttrs())&&o.indexOf(f)==-1){o.push(f);var p=i(f,a.concat(c));if(p)return p}}}return i(this,[])};en.prototype.findWrapping=function(e){for(var n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];var r=this.computeWrapping(e);return this.wrapCache.push(e,r),r};en.prototype.computeWrapping=function(e){for(var n=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var o=r.shift(),i=o.match;if(i.matchType(e)){for(var s=[],a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(var u=0;u<i.next.length;u+=2){var l=i.next[u];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||i.next[u+1].validEnd)&&(r.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}};Tc.edgeCount.get=function(){return this.next.length>>1};en.prototype.edge=function(e){var n=e<<1;if(n>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[n],next:this.next[n+1]}};en.prototype.toString=function(){var e=[];function n(r){e.push(r);for(var o=1;o<r.next.length;o+=2)e.indexOf(r.next[o])==-1&&n(r.next[o])}return n(this),e.map(function(r,o){for(var i=o+(r.validEnd?"*":" ")+" ",s=0;s<r.next.length;s+=2)i+=(s?", ":"")+r.next[s].name+"->"+e.indexOf(r.next[s+1]);return i}).join(`
`)};Object.defineProperties(en.prototype,Tc);en.empty=new en(!0);var Mc=function(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},yw={next:{configurable:!0}};yw.next.get=function(){return this.tokens[this.pos]};Mc.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)};Mc.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")};Object.defineProperties(Mc.prototype,yw);function bw(t){var e=[];do e.push(JP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function JP(t){var e=[];do e.push(KP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function KP(t){for(var e=YP(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ZP(t,e);else break;return e}function Tg(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function ZP(t,e){var n=Tg(t),r=n;return t.eat(",")&&(t.next!="}"?r=Tg(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function GP(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function YP(t){if(t.eat("(")){var e=bw(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{var n=GP(t,t.next).map(function(r){return t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}});return t.pos++,n.length==1?n[0]:{type:"choice",exprs:n}}}function QP(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,u){var l={term:u,to:a};return e[s].push(l),l}function o(s,a){s.forEach(function(u){return u.to=a})}function i(s,a){if(s.type=="choice")return s.exprs.reduce(function(b,v){return b.concat(i(v,a))},[]);if(s.type=="seq")for(var u=0;;u++){var l=i(s.exprs[u],a);if(u==s.exprs.length-1)return l;o(l,a=n())}else if(s.type=="star"){var c=n();return r(a,c),o(i(s.expr,c),c),[r(c)]}else if(s.type=="plus"){var f=n();return o(i(s.expr,a),f),o(i(s.expr,f),f),[r(f)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){for(var p=a,d=0;d<s.min;d++){var h=n();o(i(s.expr,p),h),p=h}if(s.max==-1)o(i(s.expr,p),p);else for(var m=s.min;m<s.max;m++){var g=n();r(p,g),o(i(s.expr,p),g),p=g}return[r(p)]}else if(s.type=="name")return[r(a,null,s.value)]}}}function Cw(t,e){return e-t}function Mg(t,e){var n=[];return r(e),n.sort(Cw);function r(o){var i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(var s=0;s<i.length;s++){var a=i[s],u=a.term,l=a.to;!u&&n.indexOf(l)==-1&&r(l)}}}function XP(t){var e=Object.create(null);return n(Mg(t,0));function n(r){var o=[];r.forEach(function(u){t[u].forEach(function(l){var c=l.term,f=l.to;if(!!c){var p=o.indexOf(c),d=p>-1&&o[p+1];Mg(t,f).forEach(function(h){d||o.push(c,d=[]),d.indexOf(h)==-1&&d.push(h)})}})});for(var i=e[r.join(",")]=new en(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(Cw);i.next.push(o[s],e[a.join(",")]||n(a))}return i}}function eB(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var u=o.next[a],l=o.next[a+1];s.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(l)==-1&&r.push(l)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ww(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Sw(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(o===void 0){var i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Ew(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new Aw(t[n]);return e}var vn=function(e,n,r){this.name=e,this.schema=n,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=Ew(r.attrs),this.defaultAttrs=ww(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"},us={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};us.isInline.get=function(){return!this.isBlock};us.isTextblock.get=function(){return this.isBlock&&this.inlineContent};us.isLeaf.get=function(){return this.contentMatch==en.empty};us.isAtom.get=function(){return this.isLeaf||this.spec.atom};us.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};vn.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1};vn.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)};vn.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:Sw(this.attrs,e)};vn.prototype.create=function(e,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Be(this,this.computeAttrs(e),G.from(n),Pe.setFrom(r))};vn.prototype.createChecked=function(e,n,r){if(n=G.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Be(this,this.computeAttrs(e),n,Pe.setFrom(r))};vn.prototype.createAndFill=function(e,n,r){if(e=this.computeAttrs(e),n=G.from(n),n.size){var o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}var i=this.contentMatch.matchFragment(n).fillBefore(G.empty,!0);return i?new Be(this,e,n.append(i),Pe.setFrom(r)):null};vn.prototype.validContent=function(e){var n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(var r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0};vn.prototype.allowsMarkType=function(e){return this.markSet==null||this.markSet.indexOf(e)>-1};vn.prototype.allowsMarks=function(e){if(this.markSet==null)return!0;for(var n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0};vn.prototype.allowedMarks=function(e){if(this.markSet==null)return e;for(var n,r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Pe.empty:e};vn.compile=function(e,n){var r=Object.create(null);e.forEach(function(s,a){return r[s]=new vn(s,n,a)});var o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r};Object.defineProperties(vn.prototype,us);var Aw=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},kw={isRequired:{configurable:!0}};kw.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(Aw.prototype,kw);var jo=function(e,n,r,o){this.name=e,this.schema=r,this.spec=o,this.attrs=Ew(o.attrs),this.rank=n,this.excluded=null;var i=ww(this.attrs);this.instance=i&&new Pe(this,i)};jo.prototype.create=function(e){return!e&&this.instance?this.instance:new Pe(this,Sw(this.attrs,e))};jo.compile=function(e,n){var r=Object.create(null),o=0;return e.forEach(function(i,s){return r[i]=new jo(i,o++,n,s)}),r};jo.prototype.removeFromSet=function(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e};jo.prototype.isInSet=function(e){for(var n=0;n<e.length;n++)if(e[n].type==this)return e[n]};jo.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Ch={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},tB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Dw={ol:!0,ul:!0},Ol=1,_l=2,Ca=4;function xw(t,e,n){return e!=null?(e?Ol:0)|(e==="full"?_l:0):t&&t.whitespace=="pre"?Ol|_l:n&~Ca}var kr=function(e,n,r,o,i,s,a){this.type=e,this.attrs=n,this.solid=i,this.match=s||(a&Ca?null:e.contentMatch),this.options=a,this.content=[],this.marks=r,this.activeMarks=Pe.none,this.pendingMarks=o,this.stashMarks=[]};kr.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var n=this.type.contentMatch.fillBefore(G.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{var r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)};kr.prototype.finish=function(e){if(!(this.options&Ol)){var n=this.content[this.content.length-1],r;n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)))}var o=G.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o};kr.prototype.popFromStashMark=function(e){for(var n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]};kr.prototype.applyPending=function(e){for(var n=0,r=this.pendingMarks;n<r.length;n++){var o=r[n];(this.type?this.type.allowsMarkType(o.type):oB(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};kr.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ch.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var ot=function(e,n,r){this.parser=e,this.options=n,this.isOpen=r;var o=n.topNode,i,s=xw(null,n.preserveWhitespace,0)|(r?Ca:0);o?i=new kr(o.type,o.attrs,Pe.none,Pe.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new kr(null,null,Pe.none,Pe.none,!0,null,s):i=new kr(e.schema.topNodeType,null,Pe.none,Pe.none,!0,null,s),this.nodes=[i],this.open=0,this.find=n.findPositions,this.needsBlock=!1},wh={top:{configurable:!0},currentPos:{configurable:!0}};wh.top.get=function(){return this.nodes[this.open]};ot.prototype.addDOM=function(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){var n=e.getAttribute("style"),r=n?this.readStyles(rB(n)):null,o=this.top;if(r!=null)for(var i=0;i<r.length;i++)this.addPendingMark(r[i]);if(this.addElement(e),r!=null)for(var s=0;s<r.length;s++)this.removePendingMark(r[s],o)}};ot.prototype.addTextNode=function(e){var n=e.nodeValue,r=this.top;if(r.options&_l||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Ol)r.options&_l?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){var o=r.content[r.content.length-1],i=e.previousSibling;(!o||i&&i.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)};ot.prototype.addElement=function(e,n){var r=e.nodeName.toLowerCase(),o;Dw.hasOwnProperty(r)&&this.parser.normalizeLists&&nB(e);var i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));if(i?i.ignore:tB.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);var s,a=this.top,u=this.needsBlock;if(Ch.hasOwnProperty(r))s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=u}else this.addElementByRule(e,i,i.consuming===!1?o:null)};ot.prototype.leafFallback=function(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))};ot.prototype.ignoreFallback=function(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};ot.prototype.readStyles=function(e){var n=Pe.none;e:for(var r=0;r<e.length;r+=2)for(var o=null;;){var i=this.parser.matchStyle(e[r],e[r+1],this,o);if(!i)continue e;if(i.ignore)return null;if(n=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(n),i.consuming===!1)o=i;else break}return n};ot.prototype.addElementByRule=function(e,n,r){var o=this,i,s,a,u;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs,n.preserveWhitespace)):(a=this.parser.schema.marks[n.mark],u=a.create(n.attrs),this.addPendingMark(u));var l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(function(f){return o.insertNode(f)});else{var c=n.contentElement;typeof c=="string"?c=e.querySelector(c):typeof c=="function"&&(c=c(e)),c||(c=e),this.findAround(e,c,!0),this.addAll(c,i)}i&&(this.sync(l),this.open--),u&&this.removePendingMark(u,l)};ot.prototype.addAll=function(e,n,r,o){for(var i=r||0,s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s),n&&Ch.hasOwnProperty(s.nodeName.toLowerCase())&&this.sync(n);this.findAtPoint(e,i)};ot.prototype.findPlace=function(e){for(var n,r,o=this.open;o>=0;o--){var i=this.nodes[o],s=i.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=i,!s.length)||i.solid)break}if(!n)return!1;this.sync(r);for(var a=0;a<n.length;a++)this.enterInner(n[a],null,!1);return!0};ot.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();var r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));for(var o=r.activeMarks,i=0;i<e.marks.length;i++)(!r.type||r.type.allowsMarkType(e.marks[i].type))&&(o=e.marks[i].addToSet(o));return r.content.push(e.mark(o)),!0}return!1};ot.prototype.enter=function(e,n,r){var o=this.findPlace(e.create(n));return o&&this.enterInner(e,n,!0,r),o};ot.prototype.enterInner=function(e,n,r,o){this.closeExtra();var i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e,n);var s=xw(e,o,i.options);i.options&Ca&&i.content.length==0&&(s|=Ca),this.nodes.push(new kr(e,n,i.activeMarks,i.pendingMarks,r,null,s)),this.open++};ot.prototype.closeExtra=function(e){var n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}};ot.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};ot.prototype.sync=function(e){for(var n=this.open;n>=0;n--)if(this.nodes[n]==e){this.open=n;return}};wh.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t};ot.prototype.findAtPoint=function(e,n){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)};ot.prototype.findInside=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)};ot.prototype.findAround=function(e,n,r){if(e!=n&&this.find){for(var o=0;o<this.find.length;o++)if(this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)){var i=n.compareDocumentPosition(this.find[o].node);i&(r?2:4)&&(this.find[o].pos=this.currentPos)}}};ot.prototype.findInText=function(e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))};ot.prototype.matchesContext=function(e){var n=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var r=e.split("/"),o=this.options.context,i=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(i?0:1),a=function(u,l){for(;u>=0;u--){var c=r[u];if(c==""){if(u==r.length-1||u==0)continue;for(;l>=s;l--)if(a(u-1,l))return!0;return!1}else{var f=l>0||l==0&&i?n.nodes[l].type:o&&l>=s?o.node(l-s).type:null;if(!f||f.name!=c&&f.groups.indexOf(c)==-1)return!1;l--}}return!0};return a(r.length-1,this.open)};ot.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var n=e.depth;n>=0;n--){var r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(var o in this.parser.schema.nodes){var i=this.parser.schema.nodes[o];if(i.isTextblock&&i.defaultAttrs)return i}};ot.prototype.addPendingMark=function(e){var n=iB(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)};ot.prototype.removePendingMark=function(e,n){for(var r=this.open;r>=0;r--){var o=this.nodes[r],i=o.pendingMarks.lastIndexOf(e);if(i>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);var s=o.popFromStashMark(e);s&&o.type&&o.type.allowsMarkType(s.type)&&(o.activeMarks=s.addToSet(o.activeMarks))}if(o==n)break}};Object.defineProperties(ot.prototype,wh);function nB(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Dw.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function rB(t){for(var e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];n=e.exec(t);)r.push(n[1],n[2].trim());return r}function oB(t,e){var n=e.schema.nodes,r=function(s){var a=n[s];if(!!a.allowsMarkType(t)){var u=[],l=function(c){u.push(c);for(var f=0;f<c.edgeCount;f++){var p=c.edge(f),d=p.type,h=p.next;if(d==e||u.indexOf(h)<0&&l(h))return!0}};if(l(a.contentMatch))return{v:!0}}};for(var o in n){var i=r(o);if(i)return i.v}}function iB(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}var Ow=65535,_w=Math.pow(2,16);function sB(t,e){return t+e*_w}function Tw(t){return t&Ow}function aB(t){return(t-(t&Ow))/_w}var Lp=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=null),this.pos=e,this.deleted=n,this.recover=r},Nt=function(e,n){n===void 0&&(n=!1),this.ranges=e,this.inverted=n};Nt.prototype.recover=function(e){var n=0,r=Tw(e);if(!this.inverted)for(var o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+aB(e)};Nt.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};Nt.prototype.map=function(e,n){return n===void 0&&(n=1),this._map(e,n,!0)};Nt.prototype._map=function(e,n,r){for(var o=0,i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var u=this.ranges[a]-(this.inverted?o:0);if(u>e)break;var l=this.ranges[a+i],c=this.ranges[a+s],f=u+l;if(e<=f){var p=l?e==u?-1:e==f?1:n:n,d=u+o+(p<0?0:c);if(r)return d;var h=e==(n<0?u:f)?null:sB(a/3,e-u);return new Lp(d,n<0?e!=u:e!=f,h)}o+=c-l}return r?e+o:new Lp(e+o)};Nt.prototype.touches=function(e,n){for(var r=0,o=Tw(n),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var u=this.ranges[a]-(this.inverted?r:0);if(u>e)break;var l=this.ranges[a+i],c=u+l;if(e<=c&&a==o*3)return!0;r+=this.ranges[a+s]-l}return!1};Nt.prototype.forEach=function(e){for(var n=this.inverted?2:1,r=this.inverted?1:2,o=0,i=0;o<this.ranges.length;o+=3){var s=this.ranges[o],a=s-(this.inverted?i:0),u=s+(this.inverted?0:i),l=this.ranges[o+n],c=this.ranges[o+r];e(a,a+l,u,u+c),i+=c-l}};Nt.prototype.invert=function(){return new Nt(this.ranges,!this.inverted)};Nt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};Nt.offset=function(e){return e==0?Nt.empty:new Nt(e<0?[0,-e,0]:[0,0,e])};Nt.empty=new Nt([]);var tn=function(e,n,r,o){this.maps=e||[],this.from=r||0,this.to=o==null?this.maps.length:o,this.mirror=n};tn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.maps.length),new tn(this.maps,this.mirror,e,n)};tn.prototype.copy=function(){return new tn(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};tn.prototype.appendMap=function(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)};tn.prototype.appendMapping=function(e){for(var n=0,r=this.maps.length;n<e.maps.length;n++){var o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:null)}};tn.prototype.getMirror=function(e){if(this.mirror){for(var n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}};tn.prototype.setMirror=function(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)};tn.prototype.appendMappingInverted=function(e){for(var n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){var o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:null)}};tn.prototype.invert=function(){var e=new tn;return e.appendMappingInverted(this),e};tn.prototype.map=function(e,n){if(n===void 0&&(n=1),this.mirror)return this._map(e,n,!0);for(var r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e};tn.prototype.mapResult=function(e,n){return n===void 0&&(n=1),this._map(e,n,!1)};tn.prototype._map=function(e,n,r){for(var o=!1,i=this.from;i<this.to;i++){var s=this.maps[i],a=s.mapResult(e,n);if(a.recover!=null){var u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,e=this.maps[u].recover(a.recover);continue}}a.deleted&&(o=!0),e=a.pos}return r?e:new Lp(e,o)};function Ji(t){var e=Error.call(this,t);return e.__proto__=Ji.prototype,e}Ji.prototype=Object.create(Error.prototype);Ji.prototype.constructor=Ji;Ji.prototype.name="TransformError";var ht=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new tn},Sh={before:{configurable:!0},docChanged:{configurable:!0}};Sh.before.get=function(){return this.docs.length?this.docs[0]:this.doc};ht.prototype.step=function(e){var n=this.maybeStep(e);if(n.failed)throw new Ji(n.failed);return this};ht.prototype.maybeStep=function(e){var n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n};Sh.docChanged.get=function(){return this.steps.length>0};ht.prototype.addStep=function(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n};Object.defineProperties(ht.prototype,Sh);function Nc(){throw new Error("Override me")}var zp=Object.create(null),Wt=function(){};Wt.prototype.apply=function(e){return Nc()};Wt.prototype.getMap=function(){return Nt.empty};Wt.prototype.invert=function(e){return Nc()};Wt.prototype.map=function(e){return Nc()};Wt.prototype.merge=function(e){return null};Wt.prototype.toJSON=function(){return Nc()};Wt.fromJSON=function(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=zp[n.stepType];if(!r)throw new RangeError("No step type "+n.stepType+" defined");return r.fromJSON(e,n)};Wt.jsonID=function(e,n){if(e in zp)throw new RangeError("Duplicate use of step JSON ID "+e);return zp[e]=n,n.prototype.jsonID=e,n};var Gt=function(e,n){this.doc=e,this.failed=n};Gt.ok=function(e){return new Gt(e,null)};Gt.fail=function(e){return new Gt(null,e)};Gt.fromReplace=function(e,n,r,o){try{return Gt.ok(e.replace(n,r,o))}catch(i){if(i instanceof ur)return Gt.fail(i.message);throw i}};var go=function(t){function e(n,r,o,i){t.call(this),this.from=n,this.to=r,this.slice=o,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){return this.structure&&$p(r,this.from,this.to)?Gt.fail("Structure replace would overwrite content"):Gt.fromReplace(r,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new Nt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(r){return new e(this.from,this.from+this.slice.size,r.slice(this.from,this.to))},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted?null:new e(o.pos,Math.max(o.pos,i.pos),this.slice)},e.prototype.merge=function(r){if(!(r instanceof e)||r.structure||this.structure)return null;if(this.from+this.slice.size==r.from&&!this.slice.openEnd&&!r.slice.openStart){var o=this.slice.size+r.slice.size==0?he.empty:new he(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new e(this.from,this.to+(r.to-r.from),o,this.structure)}else if(r.to==this.from&&!this.slice.openStart&&!r.slice.openEnd){var i=this.slice.size+r.slice.size==0?he.empty:new he(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new e(r.from,this.to,i,this.structure)}else return null},e.prototype.toJSON=function(){var r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(o.from,o.to,he.fromJSON(r,o.slice),!!o.structure)},e}(Wt);Wt.jsonID("replace",go);var ei=function(t){function e(n,r,o,i,s,a,u){t.call(this),this.from=n,this.to=r,this.gapFrom=o,this.gapTo=i,this.slice=s,this.insert=a,this.structure=!!u}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){if(this.structure&&($p(r,this.from,this.gapFrom)||$p(r,this.gapTo,this.to)))return Gt.fail("Structure gap-replace would overwrite content");var o=r.slice(this.gapFrom,this.gapTo);if(o.openStart||o.openEnd)return Gt.fail("Gap is not a flat range");var i=this.slice.insertAt(this.insert,o.content);return i?Gt.fromReplace(r,this.from,this.to,i):Gt.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new Nt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(r){var o=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1),s=r.map(this.gapFrom,-1),a=r.map(this.gapTo,1);return o.deleted&&i.deleted||s<o.pos||a>i.pos?null:new e(o.pos,i.pos,s,a,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number"||typeof o.gapFrom!="number"||typeof o.gapTo!="number"||typeof o.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(o.from,o.to,o.gapFrom,o.gapTo,he.fromJSON(r,o.slice),o.insert,!!o.structure)},e}(Wt);Wt.jsonID("replaceAround",ei);function $p(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}ht.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,u=s,l=G.empty,c=0,f=o,p=!1;f>e;f--)p||n.index(f)>0?(p=!0,l=G.from(n.node(f).copy(l)),c++):a--;for(var d=G.empty,h=0,m=o,g=!1;m>e;m--)g||r.after(m+1)<r.end(m)?(g=!0,d=G.from(r.node(m).copy(d)),h++):u++;return this.step(new ei(a,u,i,s,new he(l.append(d),c,h),l.size-c,!0))};ht.prototype.wrap=function(t,e){for(var n=G.empty,r=e.length-1;r>=0;r--)n=G.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new ei(o,i,o,i,new he(n,0,0),e.length,!0))};ht.prototype.setBlockType=function(t,e,n,r){var o=this;if(e===void 0&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,function(s,a){if(s.isTextblock&&!s.hasMarkup(n,r)&&uB(o.doc,o.mapping.slice(i).map(a),n)){o.clearIncompatible(o.mapping.slice(i).map(a,1),n);var u=o.mapping.slice(i),l=u.map(a,1),c=u.map(a+s.nodeSize,1);return o.step(new ei(l,c,l+1,c-1,new he(G.from(n.create(r,null,s.marks)),0,0),1,!0)),!1}}),this};function uB(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}ht.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new ei(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new he(G.from(i),0,0),1,!0))};ht.prototype.split=function(t,e,n){e===void 0&&(e=1);for(var r=this.doc.resolve(t),o=G.empty,i=G.empty,s=r.depth,a=r.depth-e,u=e-1;s>a;s--,u--){o=G.from(r.node(s).copy(o));var l=n&&n[u];i=G.from(l?l.type.create(l.attrs,i):r.node(s).copy(i))}return this.step(new go(t,t,new he(o.append(i),e,e),!0))};ht.prototype.join=function(t,e){e===void 0&&(e=1);var n=new go(t-e,t+e,he.empty,!0);return this.step(n)};function lB(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function Eh(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(Eh(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return G.fromArray(r)}var Ah=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=r.resolve(this.from),a=s.node(s.sharedDepth(this.to)),u=new he(Eh(i.content,function(l,c){return!l.isAtom||!c.type.allowsMarkType(o.mark.type)?l:l.mark(o.mark.addToSet(l.marks))},a),i.openStart,i.openEnd);return Gt.fromReplace(r,this.from,this.to,u)},e.prototype.invert=function(){return new La(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Wt);Wt.jsonID("addMark",Ah);var La=function(t){function e(n,r,o){t.call(this),this.from=n,this.to=r,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(r){var o=this,i=r.slice(this.from,this.to),s=new he(Eh(i.content,function(a){return a.mark(o.mark.removeFromSet(a.marks))}),i.openStart,i.openEnd);return Gt.fromReplace(r,this.from,this.to,s)},e.prototype.invert=function(){return new Ah(this.from,this.to,this.mark)},e.prototype.map=function(r){var o=r.mapResult(this.from,1),i=r.mapResult(this.to,-1);return o.deleted&&i.deleted||o.pos>=i.pos?null:new e(o.pos,i.pos,this.mark)},e.prototype.merge=function(r){if(r instanceof e&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from)return new e(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(o.from,o.to,r.markFromJSON(o.mark))},e}(Wt);Wt.jsonID("removeMark",La);ht.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(u,l,c){if(!!u.isInline){var f=u.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(l,t),d=Math.min(l+u.nodeSize,e),h=n.addToSet(f),m=0;m<f.length;m++)f[m].isInSet(h)||(s&&s.to==p&&s.mark.eq(f[m])?s.to=d:o.push(s=new La(p,d,f[m])));a&&a.to==p?a.to=d:i.push(a=new Ah(p,d,n))}}}),o.forEach(function(u){return r.step(u)}),i.forEach(function(u){return r.step(u)}),this};ht.prototype.removeMark=function(t,e,n){var r=this;n===void 0&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(s,a){if(!!s.isInline){i++;var u=null;if(n instanceof jo)for(var l=s.marks,c;c=n.isInSet(l);)(u||(u=[])).push(c),l=c.removeFromSet(l);else n?n.isInSet(s.marks)&&(u=[n]):u=s.marks;if(u&&u.length)for(var f=Math.min(a+s.nodeSize,e),p=0;p<u.length;p++){for(var d=u[p],h=void 0,m=0;m<o.length;m++){var g=o[m];g.step==i-1&&d.eq(o[m].style)&&(h=g)}h?(h.to=f,h.step=i):o.push({style:d,from:Math.max(a,t),to:f,step:i})}}}),o.forEach(function(s){return r.step(new La(s.from,s.to,s.style))}),this};ht.prototype.clearIncompatible=function(t,e,n){n===void 0&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),u=i+a.nodeSize,l=n.matchType(a.type,a.attrs);if(!l)o.push(new go(i,u,he.empty));else{n=l;for(var c=0;c<a.marks.length;c++)e.allowsMarkType(a.marks[c].type)||this.step(new La(i,u,a.marks[c]))}i=u}if(!n.validEnd){var f=n.fillBefore(G.empty,!0);this.replace(i,i,new he(f,0,0))}for(var p=o.length-1;p>=0;p--)this.step(o[p]);return this};function cB(t,e,n,r){if(n===void 0&&(n=e),r===void 0&&(r=he.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return Mw(o,i,r)?new go(e,n,r):new In(o,i,r).fit()}ht.prototype.replace=function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=he.empty);var r=cB(this.doc,t,e,n);return r&&this.step(r),this};ht.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new he(G.from(n),0,0))};ht.prototype.delete=function(t,e){return this.replace(t,e,he.empty)};ht.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};function Mw(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}var In=function(e,n,r){this.$to=n,this.$from=e,this.unplaced=r,this.frontier=[];for(var o=0;o<=e.depth;o++){var i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}this.placed=G.empty;for(var s=e.depth;s>0;s--)this.placed=G.from(e.node(s).copy(this.placed))},Nw={depth:{configurable:!0}};Nw.depth.get=function(){return this.frontier.length-1};In.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var n=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(n<0?this.$to:o.doc.resolve(n));if(!i)return null;for(var s=this.placed,a=o.depth,u=i.depth;a&&u&&s.childCount==1;)s=s.firstChild.content,a--,u--;var l=new he(s,a,u);if(n>-1)return new ei(o.pos,n,this.$to.pos,this.$to.end(),l,r);if(l.size||o.pos!=this.$to.pos)return new go(o.pos,i.pos,l)};In.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var n=this.unplaced.openStart;n>=0;n--){var r=void 0,o=void 0;n?(o=kh(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;for(var i=r.firstChild,s=this.depth;s>=0;s--){var a=this.frontier[s],u=a.type,l=a.match,c=void 0,f=void 0;if(e==1&&(i?l.matchType(i.type)||(f=l.fillBefore(G.from(i),!1)):u.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:f};if(e==2&&i&&(c=l.findWrapping(i.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:c};if(o&&l.matchType(o.type))break}}};In.prototype.openMore=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=kh(n,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new he(n,r+1,Math.max(o,i.size+r>=n.size-o?r+1:0)),!0)};In.prototype.dropNode=function(){var e=this.unplaced,n=e.content,r=e.openStart,o=e.openEnd,i=kh(n,r);if(i.childCount<=1&&r>0){var s=n.size-r<=r+i.size;this.unplaced=new he(wa(n,r-1,1),r-1,s?r-1:o)}else this.unplaced=new he(wa(n,r,1),r,o)};In.prototype.placeNodes=function(e){for(var n=e.sliceDepth,r=e.frontierDepth,o=e.parent,i=e.inject,s=e.wrap;this.depth>r;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var u=this.unplaced,l=o?o.content:u.content,c=u.openStart-n,f=0,p=[],d=this.frontier[r],h=d.match,m=d.type;if(i){for(var g=0;g<i.childCount;g++)p.push(i.child(g));h=h.matchFragment(i)}for(var b=l.size+n-(u.content.size-u.openEnd);f<l.childCount;){var v=l.child(f),w=h.matchType(v.type);if(!w)break;f++,(f>1||c==0||v.content.size)&&(h=w,p.push(Fw(v.mark(m.allowedMarks(v.marks)),f==1?c:0,f==l.childCount?b:-1)))}var y=f==l.childCount;y||(b=-1),this.placed=za(this.placed,r,G.from(p)),this.frontier[r].match=h,y&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var S=0,A=l;S<b;S++){var k=A.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),A=k.content}this.unplaced=y?n==0?he.empty:new he(wa(u.content,n-1,1),n-1,b<0?u.openEnd:n-1):new he(wa(u.content,n,f),u.openStart,u.openEnd)};In.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Hp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;for(var r=this.$to,o=r.depth,i=this.$to.after(o);o>1&&i==this.$to.end(--o);)++i;return i};In.prototype.findCloseLevel=function(e){e:for(var n=Math.min(this.depth,e.depth);n>=0;n--){var r=this.frontier[n],o=r.match,i=r.type,s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Hp(e,n,i,o,s);if(!!a){for(var u=n-1;u>=0;u--){var l=this.frontier[u],c=l.match,f=l.type,p=Hp(e,u,f,c,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}};In.prototype.close=function(e){var n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=za(this.placed,n.depth,n.fit)),e=n.move;for(var r=n.depth+1;r<=e.depth;r++){var o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e};In.prototype.openFrontierNode=function(e,n,r){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=za(this.placed,this.depth,G.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})};In.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),n=e.match.fillBefore(G.empty,!0);n.childCount&&(this.placed=za(this.placed,this.frontier.length,n))};Object.defineProperties(In.prototype,Nw);function wa(t,e,n){return e==0?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(wa(t.firstChild.content,e-1,n)))}function za(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(za(t.lastChild.content,e-1,n)))}function kh(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function Fw(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,Fw(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),t.copy(r)}function Hp(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!fB(n,i.content,s)?a:null}function fB(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}ht.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(Mw(r,o,n))return this.step(new go(t,e,n));var i=Iw(r,this.doc.resolve(e));i[i.length-1]==0&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,u=r.pos-1;a>0;a--,u--){var l=r.node(a).type.spec;if(l.defining||l.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==u&&i.splice(1,0,-a)}for(var c=i.indexOf(s),f=[],p=n.openStart,d=n.content,h=0;;h++){var m=d.firstChild;if(f.push(m),h==n.openStart)break;d=m.content}p>0&&f[p-1].type.spec.defining&&r.node(c).type!=f[p-1].type?p-=1:p>=2&&f[p-1].isTextblock&&f[p-2].type.spec.defining&&r.node(c).type!=f[p-2].type&&(p-=2);for(var g=n.openStart;g>=0;g--){var b=(g+p+1)%(n.openStart+1),v=f[b];if(!!v)for(var w=0;w<i.length;w++){var y=i[(w+c)%i.length],S=!0;y<0&&(S=!1,y=-y);var A=r.node(y-1),k=r.index(y-1);if(A.canReplaceWith(k,k,v.type,v.marks))return this.replace(r.before(y),S?o.after(y):e,new he(Rw(n.content,0,n.openStart,b),b,n.openEnd))}}for(var x=this.steps.length,_=i.length-1;_>=0&&(this.replace(t,e,n),!(this.steps.length>x));_--){var N=i[_];N<0||(t=r.before(N),e=o.after(N))}return this};function Rw(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(Rw(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(G.empty,!0))}return t}ht.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=lB(this.doc,t,n.type);r!=null&&(t=e=r)}return this.replaceRange(t,e,new he(G.from(n),0,0))};ht.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=Iw(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&s==0||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var u=1;u<=n.depth&&u<=r.depth;u++)if(t-n.start(u)==n.depth-u&&e>n.end(u)&&r.end(u)-e!=r.depth-u)return this.delete(n.before(u),e);return this.delete(t,e)};function Iw(t,e){for(var n=[],r=Math.min(t.depth,e.depth),o=r;o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}var Vp=Object.create(null),ut=function(e,n,r){this.ranges=r||[new pB(e.min(n),e.max(n))],this.$anchor=e,this.$head=n},yo={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};yo.anchor.get=function(){return this.$anchor.pos};yo.head.get=function(){return this.$head.pos};yo.from.get=function(){return this.$from.pos};yo.to.get=function(){return this.$to.pos};yo.$from.get=function(){return this.ranges[0].$from};yo.$to.get=function(){return this.ranges[0].$to};yo.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0};ut.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};ut.prototype.replace=function(e,n){n===void 0&&(n=he.empty);for(var r=n.content.lastChild,o=null,i=0;i<n.openEnd;i++)o=r,r=r.lastChild;for(var s=e.steps.length,a=this.ranges,u=0;u<a.length;u++){var l=a[u],c=l.$from,f=l.$to,p=e.mapping.slice(s);e.replaceRange(p.map(c.pos),p.map(f.pos),u?he.empty:n),u==0&&Pw(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}};ut.prototype.replaceWith=function(e,n){for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],a=s.$from,u=s.$to,l=e.mapping.slice(r),c=l.map(a.pos),f=l.map(u.pos);i?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),Pw(e,r,n.isInline?-1:1))}};ut.findFrom=function(e,n,r){var o=e.parent.inlineContent?new ls(e):Di(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(var i=e.depth-1;i>=0;i--){var s=n<0?Di(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Di(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}};ut.near=function(e,n){return n===void 0&&(n=1),this.findFrom(e,n)||this.findFrom(e,-n)||new $a(e.node(0))};ut.atStart=function(e){return Di(e,e,0,0,1)||new $a(e)};ut.atEnd=function(e){return Di(e,e,e.content.size,e.childCount,-1)||new $a(e)};ut.fromJSON=function(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=Vp[n.type];if(!r)throw new RangeError("No selection type "+n.type+" defined");return r.fromJSON(e,n)};ut.jsonID=function(e,n){if(e in Vp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Vp[e]=n,n.prototype.jsonID=e,n};ut.prototype.getBookmark=function(){return ls.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(ut.prototype,yo);ut.prototype.visible=!0;var pB=function(e,n){this.$from=e,this.$to=n},ls=function(t){function e(r,o){o===void 0&&(o=r),t.call(this,r,o)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(o,i){var s=o.resolve(i.map(this.head));if(!s.parent.inlineContent)return t.near(s);var a=o.resolve(i.map(this.anchor));return new e(a.parent.inlineContent?a:s,s)},e.prototype.replace=function(o,i){if(i===void 0&&(i=he.empty),t.prototype.replace.call(this,o,i),i==he.empty){var s=this.$from.marksAcross(this.$to);s&&o.ensureMarks(s)}},e.prototype.eq=function(o){return o instanceof e&&o.anchor==this.anchor&&o.head==this.head},e.prototype.getBookmark=function(){return new Sa(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(o,i){if(typeof i.anchor!="number"||typeof i.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(o.resolve(i.anchor),o.resolve(i.head))},e.create=function(o,i,s){s===void 0&&(s=i);var a=o.resolve(i);return new this(a,s==i?a:o.resolve(s))},e.between=function(o,i,s){var a=o.pos-i.pos;if((!s||a)&&(s=a>=0?1:-1),!i.parent.inlineContent){var u=t.findFrom(i,s,!0)||t.findFrom(i,-s,!0);if(u)i=u.$head;else return t.near(i,s)}return o.parent.inlineContent||(a==0?o=i:(o=(t.findFrom(o,-s,!0)||t.findFrom(o,s,!0)).$anchor,o.pos<i.pos!=a<0&&(o=i))),new e(o,i)},Object.defineProperties(e.prototype,n),e}(ut);ut.jsonID("text",ls);var Sa=function(e,n){this.anchor=e,this.head=n};Sa.prototype.map=function(e){return new Sa(e.map(this.anchor),e.map(this.head))};Sa.prototype.resolve=function(e){return ls.between(e.resolve(this.anchor),e.resolve(this.head))};var Ki=function(t){function e(n){var r=n.nodeAfter,o=n.node(0).resolve(n.pos+r.nodeSize);t.call(this,n,o),this.node=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(r,o){var i=o.mapResult(this.anchor),s=i.deleted,a=i.pos,u=r.resolve(a);return s?t.near(u):new e(u)},e.prototype.content=function(){return new he(G.from(this.node),0,0)},e.prototype.eq=function(r){return r instanceof e&&r.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new Tl(this.anchor)},e.fromJSON=function(r,o){if(typeof o.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(r.resolve(o.anchor))},e.create=function(r,o){return new this(r.resolve(o))},e.isSelectable=function(r){return!r.isText&&r.type.spec.selectable!==!1},e}(ut);Ki.prototype.visible=!1;ut.jsonID("node",Ki);var Tl=function(e){this.anchor=e};Tl.prototype.map=function(e){var n=e.mapResult(this.anchor),r=n.deleted,o=n.pos;return r?new Sa(o,o):new Tl(o)};Tl.prototype.resolve=function(e){var n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ki.isSelectable(r)?new Ki(n):ut.near(n)};var $a=function(t){function e(n){t.call(this,n.resolve(0),n.resolve(n.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(r,o){if(o===void 0&&(o=he.empty),o==he.empty){r.delete(0,r.doc.content.size);var i=t.atStart(r.doc);i.eq(r.selection)||r.setSelection(i)}else t.prototype.replace.call(this,r,o)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(r){return new e(r)},e.prototype.map=function(r){return new e(r)},e.prototype.eq=function(r){return r instanceof e},e.prototype.getBookmark=function(){return dB},e}(ut);ut.jsonID("all",$a);var dB={map:function(){return this},resolve:function(e){return new $a(e)}};function Di(t,e,n,r,o,i){if(e.inlineContent)return ls.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&Ki.isSelectable(a))return Ki.create(t,n-(o<0?a.nodeSize:0))}else{var u=Di(t,a,n+o,o<0?a.childCount:0,o,i);if(u)return u}n+=a.nodeSize*o}}function Pw(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o=t.steps[r];if(o instanceof go||o instanceof ei){var i=t.mapping.maps[r],s;i.forEach(function(a,u,l,c){s==null&&(s=c)}),t.setSelection(ut.near(t.doc.resolve(s),n))}}}var Ng=1,fu=2,Fg=4,hB=function(t){function e(r){t.call(this,r.doc),this.time=Date.now(),this.curSelection=r.selection,this.curSelectionFor=0,this.storedMarks=r.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(o){if(o.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=o,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ng)&~fu,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&Ng)>0},e.prototype.setStoredMarks=function(o){return this.storedMarks=o,this.updated|=fu,this},e.prototype.ensureMarks=function(o){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),o)||this.setStoredMarks(o),this},e.prototype.addStoredMark=function(o){return this.ensureMarks(o.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(o){return this.ensureMarks(o.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&fu)>0},e.prototype.addStep=function(o,i){t.prototype.addStep.call(this,o,i),this.updated=this.updated&~fu,this.storedMarks=null},e.prototype.setTime=function(o){return this.time=o,this},e.prototype.replaceSelection=function(o){return this.selection.replace(this,o),this},e.prototype.replaceSelectionWith=function(o,i){var s=this.selection;return i!==!1&&(o=o.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Pe.none))),s.replaceWith(this,o),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(o,i,s){s===void 0&&(s=i);var a=this.doc.type.schema;if(i==null)return o?this.replaceSelectionWith(a.text(o),!0):this.deleteSelection();if(!o)return this.deleteRange(i,s);var u=this.storedMarks;if(!u){var l=this.doc.resolve(i);u=s==i?l.marks():l.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(i,s,a.text(o,u)),this.selection.empty||this.setSelection(ut.near(this.selection.$to)),this},e.prototype.setMeta=function(o,i){return this.meta[typeof o=="string"?o:o.key]=i,this},e.prototype.getMeta=function(o){return this.meta[typeof o=="string"?o:o.key]},n.isGeneric.get=function(){for(var r in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=Fg,this},n.scrolledIntoView.get=function(){return(this.updated&Fg)>0},Object.defineProperties(e.prototype,n),e}(ht);function Rg(t,e){return!e||!t?t:t.bind(e)}var Ds=function(e,n,r){this.name=e,this.init=Rg(n.init,r),this.apply=Rg(n.apply,r)},mB=[new Ds("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Ds("selection",{init:function(e,n){return e.selection||ut.atStart(n.doc)},apply:function(e){return e.selection}}),new Ds("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,n,r,o){return o.selection.$cursor?e.storedMarks:null}}),new Ds("scrollToSelection",{init:function(){return 0},apply:function(e,n){return e.scrolledIntoView?n+1:n}})],Dh=function(e,n){var r=this;this.schema=e,this.fields=mB.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),n&&n.forEach(function(o){if(r.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");r.plugins.push(o),r.pluginsByKey[o.key]=o,o.spec.state&&r.fields.push(new Ds(o.key,o.spec.state,o))})},nn=function(e){this.config=e},Fc={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Fc.schema.get=function(){return this.config.schema};Fc.plugins.get=function(){return this.config.plugins};nn.prototype.apply=function(e){return this.applyTransaction(e).state};nn.prototype.filterTransaction=function(e,n){n===void 0&&(n=-1);for(var r=0;r<this.config.plugins.length;r++)if(r!=n){var o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0};nn.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var n=[e],r=this.applyInner(e),o=null;;){for(var i=!1,s=0;s<this.config.plugins.length;s++){var a=this.config.plugins[s];if(a.spec.appendTransaction){var u=o?o[s].n:0,l=o?o[s].state:this,c=u<n.length&&a.spec.appendTransaction.call(a,u?n.slice(u):n,l,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!o){o=[];for(var f=0;f<this.config.plugins.length;f++)o.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}};nn.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new nn(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}for(var s=0;s<Ea.length;s++)Ea[s](this,e,n);return n};Fc.tr.get=function(){return new hB(this)};nn.create=function(e){for(var n=new Dh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new nn(n),o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r};nn.prototype.reconfigure=function(e){for(var n=new Dh(this.schema,e.plugins),r=n.fields,o=new nn(n),i=0;i<r.length;i++){var s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o};nn.prototype.toJSON=function(e){var n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(s){return s.toJSON()})),e&&typeof e=="object")for(var r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n};nn.fromJSON=function(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new Dh(e.schema,e.plugins),i=new nn(o);return o.fields.forEach(function(s){if(s.name=="doc")i.doc=Be.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=ut.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(var a in r){var u=r[a],l=u.spec.state;if(u.key==s.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=l.fromJSON.call(u,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i};nn.addApplyListener=function(e){Ea.push(e)};nn.removeApplyListener=function(e){var n=Ea.indexOf(e);n>-1&&Ea.splice(n,1)};Object.defineProperties(nn.prototype,Fc);var Ea=[];function Ig(t,e){return e?t.createChecked(null,e):t.createAndFill()}function vB(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function gB(t,e,n,r,o){const i=vB(t),s=[],a=[];for(let l=0;l<n;l+=1){const c=Ig(i.cell,o);if(c&&a.push(c),r){const f=Ig(i.header_cell,o);f&&s.push(f)}}const u=[];for(let l=0;l<e;l+=1)u.push(i.row.createChecked(null,r&&l===0?s:a));return i.table.createChecked(null,u)}function yB(t){return t instanceof Qe}const pu=({editor:t})=>{const{selection:e}=t.state;if(!yB(e))return!1;let n=0;const r=DC(e.ranges[0].$from,i=>i.type.name==="table");return r==null||r.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1};function Pg(t,e,n,r,o,i){let s=0,a=!0,u=e.firstChild;const l=t.firstChild;for(let c=0,f=0;c<l.childCount;c+=1){const{colspan:p,colwidth:d}=l.child(c).attrs;for(let h=0;h<p;h+=1,f+=1){const m=o===f?i:d&&d[h],g=m?`${m}px`:"";s+=m||r,m||(a=!1),u?(u.style.width!==g&&(u.style.width=g),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=g}}for(;u;){const c=u.nextSibling;u.parentNode.removeChild(u),u=c}a?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class bB{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Pg(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Pg(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}const Rz=St.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:bB,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){return["table",ct(this.options.HTMLAttributes,t),["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:i})=>{const s=gB(i.schema,t,e,n);if(o){const a=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(ls.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>mP(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>vP(t,e),deleteColumn:()=>({state:t,dispatch:e})=>yP(t,e),addRowBefore:()=>({state:t,dispatch:e})=>CP(t,e),addRowAfter:()=>({state:t,dispatch:e})=>wP(t,e),deleteRow:()=>({state:t,dispatch:e})=>EP(t,e),deleteTable:()=>({state:t,dispatch:e})=>TP(t,e),mergeCells:()=>({state:t,dispatch:e})=>Ag(t,e),splitCell:()=>({state:t,dispatch:e})=>kg(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>ba("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>ba("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>OP(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>Ag(t,e)?!0:kg(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>DP(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>xg(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>xg(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&iw(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Qe.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:pu,"Mod-Backspace":pu,Delete:pu,"Mod-Delete":pu}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[MP({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],HP({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Ee(ie(t,"tableRole",e))}}}),Iz=St.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",ct(this.options.HTMLAttributes,t),0]}}),Pz=St.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",ct(this.options.HTMLAttributes,t),0]}}),Bz=St.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",ct(this.options.HTMLAttributes,t),0]}}),Lz=Wn("media_objects",{state:()=>O({resource:"/media_objects"},Nr),actions:{async generateThumbnails(t){return await this.$nuxt.$apiFetch(`${this.resource}/${t.uniqueId}/thumbnail`,{method:"POST",body:{}}).catch(async e=>{await this.handleError(e)})}}}),zz=Wn("notification",{state:()=>({show:!1,color:"accent",text:"An error occurred",subText:"",timeout:5e3}),actions:{setShow(t){this.show=t},setColor(t){this.color=t},setText(t){this.text=t},setSubText(t){this.subText=t},setTimeout(t){this.timeout=t},cleanState(){const t=this;setTimeout(()=>{t.setShow(!1)},this.timeout)},showError(t){this.showMessage(t,"accent")},showMessage(t,e="primary"){this.setShow(!0),this.setColor(e),this.setText(t),this.cleanState()}}});function xh(t){this.j={},this.jr=[],this.jd=null,this.t=t}xh.prototype={accepts:function(){return!!this.t},tt:function(e,n){if(n&&n.j)return this.j[e]=n,n;var r=n,o=this.j[e];if(o)return r&&(o.t=r),o;o=je();var i=Ml(this,e);return i?(Object.assign(o.j,i.j),o.jr.append(i.jr),o.jr=i.jd,o.t=r||i.t):o.t=r,this.j[e]=o,o}};var je=function(){return new xh},me=function(e){return new xh(e)},Z=function(e,n,r){e.j[n]||(e.j[n]=r)},Et=function(e,n,r){e.jr.push([n,r])},Ml=function(e,n){var r=e.j[n];if(r)return r;for(var o=0;o<e.jr.length;o++){var i=e.jr[o][0],s=e.jr[o][1];if(i.test(n))return s}return e.jd},_e=function(e,n,r){for(var o=0;o<n.length;o++)Z(e,n[o],r)},CB=function(e,n){for(var r=0;r<n.length;r++){var o=n[r][0],i=n[r][1];Z(e,o,i)}},So=function(e,n,r,o){for(var i=0,s=n.length,a;i<s&&(a=e.j[n[i]]);)e=a,i++;if(i>=s)return[];for(;i<s-1;)a=o(),Z(e,n[i],a),e=a,i++;Z(e,n[s-1],r)},Bn="DOMAIN",vr="LOCALHOST",Gn="TLD",Sn="NUM",Zi="PROTOCOL",Oh="MAILTO",Bw="WS",_h="NL",mi="OPENBRACE",Js="OPENBRACKET",Ks="OPENANGLEBRACKET",Zs="OPENPAREN",_o="CLOSEBRACE",vi="CLOSEBRACKET",gi="CLOSEANGLEBRACKET",yi="CLOSEPAREN",Nl="AMPERSAND",Fl="APOSTROPHE",Rl="ASTERISK",bi="AT",Il="BACKSLASH",Pl="BACKTICK",Bl="CARET",Gs="COLON",Th="COMMA",Ll="DOLLAR",Gr="DOT",zl="EQUALS",Mh="EXCLAMATION",$l="HYPHEN",Hl="PERCENT",Vl="PIPE",jl="PLUS",ql="POUND",Ul="QUERY",Nh="QUOTE",Fh="SEMI",gr="SLASH",Wl="TILDE",Jl="UNDERSCORE",Kl="SYM",wB=Object.freeze({__proto__:null,DOMAIN:Bn,LOCALHOST:vr,TLD:Gn,NUM:Sn,PROTOCOL:Zi,MAILTO:Oh,WS:Bw,NL:_h,OPENBRACE:mi,OPENBRACKET:Js,OPENANGLEBRACKET:Ks,OPENPAREN:Zs,CLOSEBRACE:_o,CLOSEBRACKET:vi,CLOSEANGLEBRACKET:gi,CLOSEPAREN:yi,AMPERSAND:Nl,APOSTROPHE:Fl,ASTERISK:Rl,AT:bi,BACKSLASH:Il,BACKTICK:Pl,CARET:Bl,COLON:Gs,COMMA:Th,DOLLAR:Ll,DOT:Gr,EQUALS:zl,EXCLAMATION:Mh,HYPHEN:$l,PERCENT:Hl,PIPE:Vl,PLUS:jl,POUND:ql,QUERY:Ul,QUOTE:Nh,SEMI:Fh,SLASH:gr,TILDE:Wl,UNDERSCORE:Jl,SYM:Kl}),Bg="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),vs=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,gs=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,ys=/\uFE0F/,bs=/\d/,Lg=/\s/;function SB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=je(),n=me(Sn),r=me(Bn),o=je(),i=me(Bw),s=[[bs,r],[vs,r],[gs,r],[ys,r]],a=function(){var y=me(Bn);return y.j={"-":o},y.jr=[].concat(s),y},u=function(y){var S=a();return S.t=y,S};CB(e,[["'",me(Fl)],["{",me(mi)],["[",me(Js)],["<",me(Ks)],["(",me(Zs)],["}",me(_o)],["]",me(vi)],[">",me(gi)],[")",me(yi)],["&",me(Nl)],["*",me(Rl)],["@",me(bi)],["`",me(Pl)],["^",me(Bl)],[":",me(Gs)],[",",me(Th)],["$",me(Ll)],[".",me(Gr)],["=",me(zl)],["!",me(Mh)],["-",me($l)],["%",me(Hl)],["|",me(Vl)],["+",me(jl)],["#",me(ql)],["?",me(Ul)],['"',me(Nh)],["/",me(gr)],[";",me(Fh)],["~",me(Wl)],["_",me(Jl)],["\\",me(Il)]]),Z(e,`
`,me(_h)),Et(e,Lg,i),Z(i,`
`,je()),Et(i,Lg,i);for(var l=0;l<Bg.length;l++)So(e,Bg[l],u(Gn),a);var c=a(),f=a(),p=a(),d=a();So(e,"file",c,a),So(e,"ftp",f,a),So(e,"http",p,a),So(e,"mailto",d,a);var h=a(),m=me(Zi),g=me(Oh);Z(f,"s",h),Z(f,":",m),Z(p,"s",h),Z(p,":",m),Z(c,":",m),Z(h,":",m),Z(d,":",g);for(var b=a(),v=0;v<t.length;v++)So(e,t[v],b,a);return Z(b,":",m),So(e,"localhost",u(vr),a),Et(e,bs,n),Et(e,vs,r),Et(e,gs,r),Et(e,ys,r),Et(n,bs,n),Et(n,vs,r),Et(n,gs,r),Et(n,ys,r),Z(n,"-",o),Z(r,"-",o),Z(o,"-",o),Et(r,bs,r),Et(r,vs,r),Et(r,gs,r),Et(r,ys,r),Et(o,bs,r),Et(o,vs,r),Et(o,gs,r),Et(o,ys,r),e.jd=me(Kl),e}function EB(t,e){for(var n=AB(e.replace(/[A-Z]/g,function(d){return d.toLowerCase()})),r=n.length,o=[],i=0,s=0;s<r;){for(var a=t,u=null,l=0,c=null,f=-1,p=-1;s<r&&(u=Ml(a,n[s]));)a=u,a.accepts()?(f=0,p=0,c=a):f>=0&&(f+=n[s].length,p++),l+=n[s].length,i+=n[s].length,s++;i-=f,s-=p,l-=f,o.push({t:c.t,v:e.substr(i-l,l),s:i-l,e:i})}return o}function AB(t){for(var e=[],n=t.length,r=0;r<n;){var o=t.charCodeAt(r),i=void 0,s=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}var Lw={defaultProtocol:"http",events:null,format:zg,formatHref:zg,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function zg(t){return t}function kB(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(t.prototype);for(var o in n)r[o]=n[o];return r.constructor=e,e.prototype=r,e}function Zl(){}Zl.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lw.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function ti(t,e){function n(r,o){this.t=t,this.v=r,this.tk=o}return kB(Zl,n,e),n}var zw=ti("email",{isLink:!0}),jp=ti("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),qp=ti("text"),$w=ti("nl"),Ur=ti("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lw.defaultProtocol,n=this.tk,r=!1,o=!1,i=[],s=0;n[s].t===Zi;)r=!0,i.push(n[s].v),s++;for(;n[s].t===gr;)o=!0,i.push(n[s].v),s++;for(;s<n.length;s++)i.push(n[s].v);return i=i.join(""),r||o||(i="".concat(e,"://").concat(i)),i},hasProtocol:function(){return this.tk[0].t===Zi}}),DB=Object.freeze({__proto__:null,MultiToken:Zl,Base:Zl,createTokenClass:ti,MailtoEmail:zw,Email:jp,Text:qp,Nl:$w,Url:Ur});function xB(){var t=je(),e=je(),n=je(),r=je(),o=je(),i=je(),s=je(),a=me(Ur),u=je(),l=me(Ur),c=me(Ur),f=je(),p=je(),d=je(),h=je(),m=je(),g=me(Ur),b=me(Ur),v=me(Ur),w=me(Ur),y=je(),S=je(),A=je(),k=je(),x=je(),_=je(),N=me(jp),z=je(),M=me(jp),H=me(zw),te=je(),ee=je(),Y=je(),pe=je(),oe=me($w);Z(t,_h,oe),Z(t,Zi,e),Z(t,Oh,n),Z(e,gr,r),Z(r,gr,o),Z(t,Gn,i),Z(t,Bn,i),Z(t,vr,a),Z(t,Sn,i),Z(o,Gn,c),Z(o,Bn,c),Z(o,Sn,c),Z(o,vr,c),Z(i,Gr,s),Z(x,Gr,_),Z(s,Gn,a),Z(s,Bn,i),Z(s,Sn,i),Z(s,vr,i),Z(_,Gn,N),Z(_,Bn,x),Z(_,Sn,x),Z(_,vr,x),Z(a,Gr,s),Z(N,Gr,_),Z(a,Gs,u),Z(a,gr,c),Z(u,Sn,l),Z(l,gr,c),Z(N,Gs,z),Z(z,Sn,M);var we=[Nl,Rl,bi,Il,Pl,Bl,Ll,Bn,zl,$l,vr,Sn,Hl,Vl,jl,ql,Zi,gr,Kl,Wl,Gn,Jl],q=[Fl,gi,_o,vi,yi,Gs,Th,Gr,Mh,Ks,mi,Js,Zs,Ul,Nh,Fh];Z(c,mi,p),Z(c,Js,d),Z(c,Ks,h),Z(c,Zs,m),Z(f,mi,p),Z(f,Js,d),Z(f,Ks,h),Z(f,Zs,m),Z(p,_o,c),Z(d,vi,c),Z(h,gi,c),Z(m,yi,c),Z(g,_o,c),Z(b,vi,c),Z(v,gi,c),Z(w,yi,c),Z(y,_o,c),Z(S,vi,c),Z(A,gi,c),Z(k,yi,c),_e(p,we,g),_e(d,we,b),_e(h,we,v),_e(m,we,w),_e(p,q,y),_e(d,q,S),_e(h,q,A),_e(m,q,k),_e(g,we,g),_e(b,we,b),_e(v,we,v),_e(w,we,w),_e(g,q,g),_e(b,q,b),_e(v,q,v),_e(w,q,w),_e(y,we,g),_e(S,we,b),_e(A,we,v),_e(k,we,w),_e(y,q,y),_e(S,q,S),_e(A,q,A),_e(k,q,k),_e(c,we,c),_e(f,we,c),_e(c,q,f),_e(f,q,f),Z(n,Gn,H),Z(n,Bn,H),Z(n,Sn,H),Z(n,vr,H),_e(H,we,H),_e(H,q,te),_e(te,we,H),_e(te,q,te);var ge=[Nl,Fl,Rl,Il,Pl,Bl,_o,Ll,Bn,zl,$l,Sn,mi,Hl,Vl,jl,ql,Ul,gr,Kl,Wl,Gn,Jl];return _e(i,ge,ee),Z(i,bi,Y),_e(a,ge,ee),Z(a,bi,Y),_e(s,ge,ee),_e(ee,ge,ee),Z(ee,bi,Y),Z(ee,Gr,pe),_e(pe,ge,ee),Z(Y,Gn,x),Z(Y,Bn,x),Z(Y,Sn,x),Z(Y,vr,N),t}function OB(t,e,n){for(var r=n.length,o=0,i=[],s=[];o<r;){for(var a=t,u=null,l=null,c=0,f=null,p=-1;o<r&&!(u=Ml(a,n[o].t));)s.push(n[o++]);for(;o<r&&(l=u||Ml(a,n[o].t));)u=null,a=l,a.accepts()?(p=0,f=a):p>=0&&p++,o++,c++;if(p<0)for(var d=o-c;d<o;d++)s.push(n[d]);else{s.length>0&&(i.push(Ff(qp,e,s)),s=[]),o-=p,c-=p;var h=f.t,m=n.slice(o-c,o);i.push(Ff(h,e,m))}}return s.length>0&&i.push(Ff(qp,e,s)),i}function Ff(t,e,n){var r=n[0].s,o=n[n.length-1].e,i=e.substr(r,o-r);return new t(i,n)}var Ln={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function _B(){Ln.scanner={start:SB(Ln.customProtocols),tokens:wB},Ln.parser={start:xB(),tokens:DB};for(var t={createTokenClass:ti},e=0;e<Ln.pluginQueue.length;e++)Ln.pluginQueue[e][1]({scanner:Ln.scanner,parser:Ln.parser,utils:t});Ln.initialized=!0}function Hw(t){return Ln.initialized||_B(),OB(Ln.parser.start,t,EB(Ln.scanner.start,t))}function Rh(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=Hw(t),r=[],o=0;o<n.length;o++){var i=n[o];i.isLink&&(!e||i.t===e)&&r.push(i.toObject())}return r}function $g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=Hw(t);return n.length===1&&n[0].isLink&&(!e||n[0].t===e)}function TB(t){return new gt({key:new xt("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!o||i)return;const{tr:s}=r,a=HN(n.doc,e),{mapping:u}=a;if(UN(a).forEach(({oldRange:c,newRange:f})=>{Cl(c.from,c.to,n.doc).filter(p=>p.mark.type===t.type).forEach(p=>{const d=u.map(p.from),h=u.map(p.to),m=Cl(d,h,r.doc).filter(S=>S.mark.type===t.type);if(!m.length)return;const g=m[0],b=n.doc.textBetween(p.from,p.to,void 0," "),v=r.doc.textBetween(g.from,g.to,void 0," "),w=$g(b),y=$g(v);w&&!y&&s.removeMark(g.from,g.to,t.type)}),VN(r.doc,f,p=>p.isTextblock).forEach(p=>{const d=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");Rh(d).filter(h=>h.isLink).map(h=>Ye(O({},h),{from:p.pos+h.start+1,to:p.pos+h.end+1})).filter(h=>{const m=f.from>=h.from&&f.from<=h.to,g=f.to>=h.from&&f.to<=h.to;return m||g}).forEach(h=>{s.addMark(h.from,h.to,t.type.create({href:h.href}))})})}),!!s.steps.length)return s}})}function MB(t){return new gt({key:new xt("handleClickLink"),props:{handleClick:(e,n,r)=>{var o;const i=xC(e.state,t.type.name);return((o=r.target)===null||o===void 0?void 0:o.closest("a"))&&i.href?(window.open(i.href,i.target),!0):!1}}})}function NB(t){return new gt({key:new xt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:o}=e,{selection:i}=o,{empty:s}=i;if(s)return!1;let a="";r.content.forEach(l=>{a+=l.textContent});const u=Rh(a).find(l=>l.isLink&&l.value===a);return!a||!u?!1:(t.editor.commands.setMark(t.type,{href:u.href}),!0)}}})}const $z=_r.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ho({find:t=>Rh(t).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(TB({type:this.type})),this.options.openOnClick&&t.push(MB({type:this.type})),this.options.linkOnPaste&&t.push(NB({editor:this.editor,type:this.type})),t}}),Hz=_r.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=sh(t,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),Vz=vt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily.replace(/['"]+/g,""),renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),FB=/(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,RB=St.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ct(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[_C({find:FB,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}});const IB=Ke({props:{node:null,extension:null,updateAttributes:null},setup(t,{expose:e}){e();const n=t,r=tt(!1),o=ke(()=>n.extension.options.inline?"inline-block":"block"),s={props:n,isActive:r,nodeDisplay:o,handleMouseDown:a=>{const u=parseFloat(n.node.attrs.width.match(/(.+)px/)[1]),l=a.x,c=p=>{const d=l-p.pageX,h=`${u-d}px`;n.updateAttributes({width:h})},f=p=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",f)},NodeViewWrapper:xR};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),PB=["src","alt"];function BB(t,e,n,r,o,i){return xn(),to(r.NodeViewWrapper,{style:xi({display:r.nodeDisplay})},{default:xa(()=>[wt("div",{ref:"imgContainer",class:Aa(["img-container",{"is-active":r.isActive}]),draggable:"true",contenteditable:"false","data-drag-handle":"",style:xi({width:n.node.attrs.width})},[wt("img",{src:n.node.attrs.src,alt:n.node.attrs.title,style:{width:"100%"},onClick:e[0]||(e[0]=s=>r.isActive=!r.isActive)},null,8,PB),U1(wt("span",{class:"handle",onMousedown:e[1]||(e[1]=jE(s=>r.handleMouseDown(s),["prevent"]))},null,544),[[UE,r.isActive]])],6)]),_:1},8,["style"])}var LB=Zo(IB,[["render",BB]]);const jz=RB.extend({draggable:!0,addNodeView(){return DR(LB)},addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:"400px"}}}});var qz=vt.create({name:"text-color",addGlobalAttributes(){return[{types:["heading","paragraph","textStyle"],attributes:{color:{default:null,renderHTML(t){return t.color?{class:`${t.color}`,"data-color":t.color}:{}},addAttributes(){return{color:{parseHTML:t=>t.getAttribute("data-color")}}}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),removeColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).run()}}}),Uz=vt.create({name:"text-background-color",addGlobalAttributes(){return[{types:["heading","paragraph","textStyle"],attributes:{backGroundColor:{default:null,renderHTML(t){return t.backGroundColor?{class:`${t.backGroundColor}`,"data-background-color":t.backGroundColor}:{}},addAttributes(){return{color:{parseHTML:t=>t.getAttribute("data-background-color")}}}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backGroundColor:t}).run(),removeBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backGroundColor:null}).run()}}});const du={layout:"admin"},hu={layout:"admin"},mu={layout:"admin"},Wz=Wn("page_category",{state:()=>O({resource:"/page_categories"},Nr)}),vu={layout:"admin"},gu={layout:"admin"},yu={layout:"admin"},Jz=Wn("contacts",{state:()=>O({resource:"/contacts"},Nr)}),bu={layout:"admin"},Cu={layout:"admin"},wu={layout:"admin",middleware:"is-admin"},Kz=Wn("survey_joins",{state:()=>O({resource:"/survey_joins"},Nr)}),Su={layout:"admin"},Eu={layout:"admin"},Au={layout:"admin"},Zz=Wn("contact_newsletters",{state:()=>O({resource:"/contact_newsletters"},Nr)}),ku={layout:"admin"},Gz=Wn("page_logs",{state:()=>O({resource:"/page_logs"},Nr)}),Du={layout:"admin"},xu={layout:"admin"},Ou={layout:"admin"};const _u=void 0,Tu=void 0,Mu=void 0,Nu=void 0,Vw=Wn("main",{state:()=>({user:null,credentialError:!1,refreshError:!0,loading:!1}),getters:{isLogged(t){return t.user!==null},isAdmin(t){return t.user!==null&&t.user.isAdmin}},actions:{async login(t){this.credentialError=!1,this.loading=!0,await this.$nuxt.$apiFetch("/login_check",{method:"POST",body:t}).catch(()=>{this.credentialError=!0}),this.loading=!1,this.credentialError||await this.getUser()},async register(t){await this.$nuxt.$apiFetch("/auth/register",{method:"POST",body:t}),await this.getUser()},async getUser(){this.user=await this.$nuxt.$apiFetch("/me")},async refresh(){this.refreshError=!1,await this.$nuxt.$apiFetch("/refresh",{method:"POST"}).catch(()=>{this.refreshError=!0}),this.refreshError||await this.getUser()},async logout(){await this.$nuxt.$apiFetch("/logout"),this.user=null},loadPermissions(){}}}),Fu=void 0,Ru={title:"Mentions l\xE9gales"},Iu=void 0;var zB=[{name:"slug",path:"/:slug(.*)*",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/[...slug].vue",children:[],meta:eu,alias:(eu==null?void 0:eu.alias)||[],component:()=>Ue(()=>import("./_...slug_-0e9a7a2b.mjs"),["_...slug_-0e9a7a2b.mjs","PageComponent-a5cb3baf.mjs","Carrousel-2ee8eb9f.mjs","Icon-f078fbba.mjs"])},{name:"admin-blog-id",path:"/admin/blog/:id",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/blog/[id].vue",children:[],meta:du,alias:(du==null?void 0:du.alias)||[],component:()=>Ue(()=>import("./_id_-a24517dc.mjs"),["_id_-a24517dc.mjs","asyncData-bc25d67a.mjs","FormComponent-d84c08c8.mjs","Editor-dc6b4d69.mjs","TextField-5fde64fb.mjs","Icon-f078fbba.mjs","FileManager-1a196688.mjs","use-outside-click-ea4f1ee7.mjs","transition-2ed963cb.mjs","dialog-f417b9ae.mjs","calculate-active-index-130b59fd.mjs","CheckboxField-48f65d1d.mjs"])},{name:"admin-blog-add",path:"/admin/blog/add",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/blog/add.vue",children:[],meta:hu,alias:(hu==null?void 0:hu.alias)||[],component:()=>Ue(()=>import("./add-e502690f.mjs"),["add-e502690f.mjs","FormComponent-d84c08c8.mjs","asyncData-bc25d67a.mjs","Editor-dc6b4d69.mjs","TextField-5fde64fb.mjs","Icon-f078fbba.mjs","FileManager-1a196688.mjs","use-outside-click-ea4f1ee7.mjs","transition-2ed963cb.mjs","dialog-f417b9ae.mjs","calculate-active-index-130b59fd.mjs","CheckboxField-48f65d1d.mjs"])},{name:"admin-blog",path:"/admin/blog",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/blog/index.vue",children:[],meta:mu,alias:(mu==null?void 0:mu.alias)||[],component:()=>Ue(()=>import("./index-64fdaf94.mjs"),["index-64fdaf94.mjs","asyncData-bc25d67a.mjs","ConfirmationDeleteModal-9c978881.mjs","dialog-f417b9ae.mjs","use-outside-click-ea4f1ee7.mjs","Icon-f078fbba.mjs"])},{name:"admin-categories-slug",path:"/admin/categories/:slug",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/categories/[slug].vue",children:[],meta:vu,alias:(vu==null?void 0:vu.alias)||[],component:()=>Ue(()=>import("./_slug_-f2741672.mjs"),["_slug_-f2741672.mjs","asyncData-bc25d67a.mjs","FormComponent-7fed1271.mjs","CheckboxField-48f65d1d.mjs","TextField-5fde64fb.mjs","Icon-f078fbba.mjs"])},{name:"admin-categories-add",path:"/admin/categories/add",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/categories/add.vue",children:[],meta:gu,alias:(gu==null?void 0:gu.alias)||[],component:()=>Ue(()=>import("./add-45d82466.mjs"),["add-45d82466.mjs","FormComponent-7fed1271.mjs","asyncData-bc25d67a.mjs","CheckboxField-48f65d1d.mjs","TextField-5fde64fb.mjs","Icon-f078fbba.mjs"])},{name:"admin-categories",path:"/admin/categories",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/categories/index.vue",children:[],meta:yu,alias:(yu==null?void 0:yu.alias)||[],component:()=>Ue(()=>import("./index-27359ece.mjs"),["index-27359ece.mjs","asyncData-bc25d67a.mjs","Icon-f078fbba.mjs"])},{name:"admin-contact-id",path:"/admin/contact/:id",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/contact/[id].vue",children:[],meta:bu,alias:(bu==null?void 0:bu.alias)||[],component:()=>Ue(()=>import("./_id_-11742880.mjs"),["_id_-11742880.mjs","asyncData-bc25d67a.mjs","useDateHelper-e4869b7b.mjs"])},{name:"admin-contact",path:"/admin/contact",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/contact/index.vue",children:[],meta:Cu,alias:(Cu==null?void 0:Cu.alias)||[],component:()=>Ue(()=>import("./index-a8d6dbf6.mjs"),["index-a8d6dbf6.mjs","asyncData-bc25d67a.mjs","useDateHelper-e4869b7b.mjs","Icon-f078fbba.mjs"])},{name:"admin",path:"/admin",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/index.vue",children:[],meta:wu,alias:(wu==null?void 0:wu.alias)||[],component:()=>Ue(()=>import("./index-3878b25f.mjs"),[])},{name:"admin-join-id",path:"/admin/join/:id",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/join/[id].vue",children:[],meta:Su,alias:(Su==null?void 0:Su.alias)||[],component:()=>Ue(()=>import("./_id_-58069194.mjs"),["_id_-58069194.mjs","asyncData-bc25d67a.mjs"])},{name:"admin-join",path:"/admin/join",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/join/index.vue",children:[],meta:Eu,alias:(Eu==null?void 0:Eu.alias)||[],component:()=>Ue(()=>import("./index-eafd1c95.mjs"),["index-eafd1c95.mjs","asyncData-bc25d67a.mjs","useDateHelper-e4869b7b.mjs","Icon-f078fbba.mjs"])},{name:"admin-media",path:"/admin/media",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/media.vue",children:[],meta:Au,alias:(Au==null?void 0:Au.alias)||[],component:()=>Ue(()=>import("./media-4db781a0.mjs"),["media-4db781a0.mjs","FileManager-1a196688.mjs","Icon-f078fbba.mjs","asyncData-bc25d67a.mjs","use-outside-click-ea4f1ee7.mjs","transition-2ed963cb.mjs","dialog-f417b9ae.mjs","TextField-5fde64fb.mjs"])},{name:"admin-newsletter",path:"/admin/newsletter",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/newsletter.vue",children:[],meta:ku,alias:(ku==null?void 0:ku.alias)||[],component:()=>Ue(()=>import("./newsletter-7bce47b8.mjs"),["newsletter-7bce47b8.mjs","asyncData-bc25d67a.mjs","useDateHelper-e4869b7b.mjs"])},{name:"admin-pages-slug",path:"/admin/pages/:slug",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/pages/[slug].vue",children:[],meta:Du,alias:(Du==null?void 0:Du.alias)||[],component:()=>Ue(()=>import("./_slug_-c45cb140.mjs"),["_slug_-c45cb140.mjs","asyncData-bc25d67a.mjs","FormComponent-db62320b.mjs","Icon-f078fbba.mjs","useDateHelper-e4869b7b.mjs","FileManager-1a196688.mjs","use-outside-click-ea4f1ee7.mjs","transition-2ed963cb.mjs","dialog-f417b9ae.mjs","TextField-5fde64fb.mjs","CheckboxField-48f65d1d.mjs","Editor-dc6b4d69.mjs","calculate-active-index-130b59fd.mjs"])},{name:"admin-pages-add",path:"/admin/pages/add",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/pages/add.vue",children:[],meta:xu,alias:(xu==null?void 0:xu.alias)||[],component:()=>Ue(()=>import("./add-814dc52b.mjs"),["add-814dc52b.mjs","FormComponent-db62320b.mjs","asyncData-bc25d67a.mjs","Icon-f078fbba.mjs","useDateHelper-e4869b7b.mjs","FileManager-1a196688.mjs","use-outside-click-ea4f1ee7.mjs","transition-2ed963cb.mjs","dialog-f417b9ae.mjs","TextField-5fde64fb.mjs","CheckboxField-48f65d1d.mjs","Editor-dc6b4d69.mjs","calculate-active-index-130b59fd.mjs"])},{name:"admin-pages",path:"/admin/pages",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/admin/pages/index.vue",children:[],meta:Ou,alias:(Ou==null?void 0:Ou.alias)||[],component:()=>Ue(()=>import("./index-58805160.mjs"),["index-58805160.mjs","asyncData-bc25d67a.mjs","ConfirmationDeleteModal-9c978881.mjs","dialog-f417b9ae.mjs","use-outside-click-ea4f1ee7.mjs","Icon-f078fbba.mjs"])},{name:"blog-id",path:"/blog/:id",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/blog/[id].vue",children:[],meta:_u,alias:(_u==null?void 0:_u.alias)||[],component:()=>Ue(()=>import("./_id_-98d030a7.mjs"),["_id_-98d030a7.mjs","asyncData-bc25d67a.mjs","useDateHelper-e4869b7b.mjs","useStringHelper-b0dd0f5e.mjs","Carrousel-2ee8eb9f.mjs","Icon-f078fbba.mjs"])},{name:"blog",path:"/blog",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/blog/index.vue",children:[],meta:Tu,alias:(Tu==null?void 0:Tu.alias)||[],component:()=>Ue(()=>import("./index-2f619b0d.mjs"),["index-2f619b0d.mjs","asyncData-bc25d67a.mjs","PreviewImage-344dccae.mjs","Icon-f078fbba.mjs"])},{name:"contact",path:"/contact",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/contact.vue",children:[],meta:Mu,alias:(Mu==null?void 0:Mu.alias)||[],component:()=>Ue(()=>import("./contact-f2ea50df.mjs"),["contact-f2ea50df.mjs","PageComponent-a5cb3baf.mjs","TextField-5fde64fb.mjs","Icon-f078fbba.mjs"])},{name:"index",path:"/",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/index.vue",children:[],meta:Nu,alias:(Nu==null?void 0:Nu.alias)||[],component:()=>Ue(()=>import("./index-edc064b0.mjs"),["index-edc064b0.mjs","asyncData-bc25d67a.mjs","Carrousel-2ee8eb9f.mjs","Icon-f078fbba.mjs","PageComponent-a5cb3baf.mjs","PreviewImage-344dccae.mjs","useDateHelper-e4869b7b.mjs","useStringHelper-b0dd0f5e.mjs"])},{name:"login",path:"/login",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/login.vue",children:[],meta:Fu,alias:(Fu==null?void 0:Fu.alias)||[],component:()=>Ue(()=>import("./login-050bdb1b.mjs"),["login-050bdb1b.mjs","Icon-f078fbba.mjs"])},{name:"mentions-legales",path:"/mentions-legales",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/mentions-legales.vue",children:[],meta:Ru,alias:(Ru==null?void 0:Ru.alias)||[],component:()=>Ue(()=>import("./mentions-legales-7f0e0afb.mjs"),[])},{name:"nous-rejoindre",path:"/nous-rejoindre",file:"/Users/m.giraudtelme/Code/apps/oasis-manager/app/pages/nous-rejoindre.vue",children:[],meta:Iu,alias:(Iu==null?void 0:Iu.alias)||[],component:()=>Ue(()=>import("./nous-rejoindre-eb8bca83.mjs"),["nous-rejoindre-eb8bca83.mjs","PageComponent-a5cb3baf.mjs","CheckboxField-48f65d1d.mjs","TextField-5fde64fb.mjs","Icon-f078fbba.mjs"])}];const $B={};var HB=O({},$B);const VB=[],Rf={"is-admin":()=>Ue(()=>import("./is-admin-7aeaca68.mjs"),[])};function jB(t,e){const{pathname:n,search:r,hash:o}=e,i=t.indexOf("#");if(i>-1){const a=o.includes(t.slice(i))?t.slice(i).length:1;let u=o.slice(a);return u[0]!=="/"&&(u="/"+u),km(u,"")}return km(n,t)+r+o}var qB=Jo(async t=>{t.vueApp.component("NuxtPage",Xc),t.vueApp.component("NuxtNestedPage",Xc),t.vueApp.component("NuxtChild",Xc);const e=Ad().app.baseURL,n=Dk(e),r=jB(e,window.location),o=lD(Ye(O({},HB),{history:n,routes:zB}));t.vueApp.use(o);const i=zf(o.currentRoute.value);o.afterEach((f,p)=>{i.value=p}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>i.value});const s={};for(const f in o.currentRoute.value)s[f]=ke(()=>o.currentRoute.value[f]);const a=zf(o.resolve(r)),u=()=>{a.value=o.currentRoute.value};t.hook("page:finish",u),o.afterEach((f,p)=>{var d,h,m,g;((h=(d=f.matched[0])==null?void 0:d.components)==null?void 0:h.default)===((g=(m=p.matched[0])==null?void 0:m.components)==null?void 0:g.default)&&u()});const l={};for(const f in a.value)l[f]=ke(()=>a.value[f]);t._route=$t(s),t._activeRoute=$t(l),t._middleware=t._middleware||{global:[],named:{}};const c=sa();o.afterEach(async f=>{!t.isHydrating&&c.value&&await xo(t,pD),f.matched.length===0&&xo(t,Hu,[dD({statusCode:404,statusMessage:`Page not found: ${f.fullPath}`})])});try{await o.isReady()}catch(f){xo(t,Hu,[f])}return o.beforeEach(async(f,p)=>{var h;f.meta=$t(f.meta),t._processingMiddleware=!0;const d=new Set([...VB,...t._middleware.global]);for(const m of f.matched){const g=m.meta.middleware;if(!!g)if(Array.isArray(g))for(const b of g)d.add(b);else d.add(g)}for(const m of d){const g=typeof m=="string"?t._middleware.named[m]||await((h=Rf[m])==null?void 0:h.call(Rf).then(v=>v.default||v)):m,b=await xo(t,g,[f,p]);if(b||b===!1)return b}}),o.afterEach(async f=>{delete t._processingMiddleware}),t.hooks.hookOnce("app:created",async()=>{try{await o.replace(Ye(O({},o.resolve(r)),{force:!0}))}catch(f){xo(t,Hu,[f])}}),{provide:{router:o}}});const UB=(t,e)=>{const n=rx();t.vueApp.use(n),e("pinia",n),t.pinia=n,_a(n),n._p.push(({store:r})=>{Object.defineProperty(r,"$nuxt",{value:t})}),t.nuxtState&&t.nuxtState.pinia&&(n.state.value=t.nuxtState.pinia)};function jw(t){return t["hydra:member"]&&(t["hydra:member"]=t["hydra:member"].map(e=>jw(e))),t}class qw extends Error{constructor(e){return super("Submit Validation Failed"),this.errors=e,Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this}}const WB=(t,e)=>e.map(n=>`${t}[]=${n}`).join("&");var JB=Jo(()=>{var s;const t=Ad().public,e=t.API_BASE_URL+((s=t.API_BASE_URL)!=null&&s.endsWith("/")?"":"/"),n="application/ld+json",r=D0(),o=Vw();return{provide:{apiFetch:l0.create({baseURL:e,headers:O({},hD()),credentials:"include",async onRequest({request:a,options:u}){let l=!1;if(l=u.body instanceof FormData,l?delete u.headers.Accept:u.headers.Accept=n,a.body!==null&&(l?delete u.headers["Content-Type"]:u.headers["Content-Type"]=n),u.params){const c=jw(u.params),f=Object.keys(c).map(p=>Array.isArray(c[p])?WB(p,c[p]):`${p}=${c[p]}`).join("&");a=`${a}?${f}`}},async onRequestError({request:a,options:u,error:l}){console.log("[fetch request error]",a,l)},async onResponse({request:a,response:u,options:l}){if(u.ok)return;u.status===401&&r.name!=="login"&&!a.includes("/refresh")&&(await o.logout(),vD({path:"/login"}));const c=u._data["hydra:description"]||u._data["hydra:title"]||"An error occurred.";if(!u._data.violations)throw new Error(c);const f={_error:c};throw u._data.violations.forEach(p=>f[p.propertyPath]?f[p.propertyPath]+=`
`+f[p.propertyPath]:f[p.propertyPath]=p.message),new qw(f)},async onResponseError({request:a,response:u,options:l}){console.log("[fetch response error]",a,u.status,u._data)}})}}});function KB({store:t}){t.load=async(e,n={})=>{t.$state[ce.EDITION]=Object.assign(O({},t.$state[ce.EDITION])),t.toggleLoading(ce.EDITION),t.$state[ce.EDITION].retrieved=await t.$nuxt.$apiFetch(`${t.resource}/${e}`,{params:n}).catch(async r=>{await t.handleError(ce.EDITION,r)}).finally(()=>{t.toggleLoading(ce.EDITION)})},t.fetchAll=async(e={},n=!0)=>{t.$state[ce.LIST]=Object.assign(O({},t.$state[ce.LIST])),t.toggleLoading(ce.LIST),n&&t.resetList();const r=await t.$nuxt.$apiFetch(t.resource,{params:e}).catch(async o=>{await t.handleError(ce.LIST,o)});if(!!r)return r["hydra:member"].forEach(o=>{t.addItem(o,t)}),t.$state[ce.LIST].totalItems=r["hydra:totalItems"],t.$state[ce.LIST].view=r["hydra:view"],t.toggleLoading(ce.LIST),t.list},t.resetList=()=>{t.$state[ce.LIST].allIds=[],t.$state[ce.LIST].byId={}},t.addItem=e=>{t.$state[ce.LIST].allIds.push(e["@id"]),t.$state[ce.LIST].byId[e["@id"]]=e},t.find=e=>{var n;return(n=t.$state[ce.LIST].byId[e])!=null?n:null},t.toggleLoading=e=>{t.$state[e].isLoading=!t.$state[e].isLoading},t.handleError=(e,n)=>{if(!(e!==ce.EDITION&&e!==ce.CREATION&&e!==ce.DELETION))return n instanceof qw?(t.$state[e].violations=n.errors,t.$state[e].error=n.errors._error,Promise.reject(n)):(t.$state[e].error=n.message,Promise.reject(n))},t.update=async(e,n)=>(t.$state[ce.EDITION]=Object.assign(O({},t.$state[ce.EDITION])),t.$state[ce.EDITION].edited=null,t.$state[ce.EDITION].error="",t.$state[ce.EDITION].violations=null,t.toggleLoading(ce.EDITION),t.$state[ce.EDITION].edited=await t.$nuxt.$apiFetch(`${t.resource}/${e}`,{method:"PUT",body:n}).catch(async r=>{await t.handleError(ce.EDITION,r)}).finally(()=>{t.toggleLoading(ce.EDITION)}),t.$state[ce.EDITION].edited),t.create=async e=>(t.$state[ce.CREATION]=Object.assign(O({},t.$state[ce.CREATION])),t.$state[ce.CREATION].created=null,t.$state[ce.CREATION].error="",t.$state[ce.CREATION].violations=null,t.toggleLoading(ce.CREATION),t.$state[ce.CREATION].created=await t.$nuxt.$apiFetch(`${t.resource}`,{method:"POST",body:e}).catch(async n=>{await t.handleError(ce.CREATION,n)}).finally(()=>{t.toggleLoading(ce.CREATION)}),t.$state[ce.CREATION].created),t.remove=async e=>{t.$state[ce.DELETION]=Object.assign(O({},t.$state[ce.DELETION])),t.toggleLoading(ce.DELETION),t.$state[ce.DELETION].deleted=await t.$nuxt.$apiFetch(`${t.resource}/${e}`,{method:"DELETE"}).catch(async n=>{await t.handleError(ce.DELETION,n)}).finally(()=>{t.toggleLoading(ce.DELETION)})},t.fetchSelectItems=async({params:e={"properties[]":["name"]}}={})=>{t.$state[ce.SELECTION]=Object.assign(O({},t.$state[ce.SELECTION])),t.toggleLoading(ce.SELECTION);const n=await t.$nuxt.$apiFetch(t.resource,{params:e}).catch(async r=>{await t.handleError(ce.SELECTION,r)}).finally(()=>{t.toggleLoading(ce.SELECTION)});!n||(t.$state[ce.SELECTION].selectItems=n["hydra:member"])},t.selectItemList=ke(()=>(e="@id",n="name")=>{const r=t.$state[ce.SELECTION].selectItems.map(o=>({value:o[e],label:o[n]}));return r.unshift({value:null,label:"Selectionne un \xE9l\xE9ment..."}),r}),t.list=ke(()=>t.$state[ce.LIST].allIds.map(e=>t.$state[ce.LIST].byId[e]))}var ZB=Jo(({$pinia:t})=>{t.use(KB)}),GB=Jo(async()=>{let t,e;const n=Vw();[t,e]=GA(()=>n.refresh()),await t,e()});/**
  * vee-validate v4.5.11
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function Hg(t){return typeof t=="function"}const YB=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function Vg(t,e){return t.replace(/(\d:)?{([^}]+)}/g,function(n,r,o){if(!r||!e.params)return o in e?e[o]:e.params&&o in e.params?e.params[o]:`{${o}}`;if(!Array.isArray(e.params))return o in e.params?e.params[o]:`{${o}}`;const i=Number(r.replace(":",""));return i in e.params?e.params[i]:`${r}{${o}}`})}function Uw(t,e){return Object.keys(e).forEach(n=>{if(YB(e[n])){t[n]||(t[n]={}),Uw(t[n],e[n]);return}t[n]=e[n]}),t}class QB{constructor(e,n){this.container={},this.locale=e,this.merge(n)}resolve(e){return this.format(this.locale,e)}getLocaleDefault(e,n){var r,o,i,s,a;return((i=(o=(r=this.container[e])===null||r===void 0?void 0:r.fields)===null||o===void 0?void 0:o[n])===null||i===void 0?void 0:i._default)||((a=(s=this.container[e])===null||s===void 0?void 0:s.messages)===null||a===void 0?void 0:a._default)}format(e,n){var r,o,i,s,a,u,l,c;let f;const{field:p,rule:d,form:h}=n,m=(i=(o=(r=this.container[e])===null||r===void 0?void 0:r.names)===null||o===void 0?void 0:o[p])!==null&&i!==void 0?i:p;return d?(f=((u=(a=(s=this.container[e])===null||s===void 0?void 0:s.fields)===null||a===void 0?void 0:a[p])===null||u===void 0?void 0:u[d.name])||((c=(l=this.container[e])===null||l===void 0?void 0:l.messages)===null||c===void 0?void 0:c[d.name]),f||(f=this.getLocaleDefault(e,p)||`${m} is not valid`),Hg(f)?f(n):Vg(f,Object.assign(Object.assign({},h),{field:m,params:d.params}))):(f=this.getLocaleDefault(e,p)||`${m} is not valid`,Hg(f)?f(n):Vg(f,Object.assign(Object.assign({},h),{field:m})))}merge(e){Uw(this.container,e)}}let ko;function XB(t,e){ko||(ko=new QB("en",{}));const n=r=>ko.resolve(r);return typeof t=="string"?(ko.locale=t,e&&ko.merge({[t]:e}),n):(ko.merge(t),n)}function eL(t){ko.locale=t}/**
  * vee-validate v4.5.11
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const Pu={en:/^[A-Z]*$/i,cs:/^[A-Z]*$/i,da:/^[A-Z]*$/i,de:/^[A-Z]*$/i,es:/^[A-Z]*$/i,fr:/^[A-Z]*$/i,it:/^[A-Z\xC0-\xFF]*$/i,lt:/^[A-Z]*$/i,nl:/^[A-Z]*$/i,hu:/^[A-Z]*$/i,pl:/^[A-Z]*$/i,pt:/^[A-Z]*$/i,ru:/^[-]*$/i,sk:/^[A-Z]*$/i,sr:/^[A-Z]*$/i,sv:/^[A-Z]*$/i,tr:/^[A-Z]*$/i,uk:/^[-]*$/i,ar:/^[]*$/,az:/^[A-Z]*$/i,ug:/^[A-Z]*$/i},Bu={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},Lu={en:/^[0-9A-Z]*$/i,cs:/^[0-9A-Z]*$/i,da:/^[0-9A-Z]$/i,de:/^[0-9A-Z]*$/i,es:/^[0-9A-Z]*$/i,fr:/^[0-9A-Z]*$/i,it:/^[0-9A-Z\xC0-\xFF]*$/i,lt:/^[0-9A-Z]*$/i,hu:/^[0-9A-Z]*$/i,nl:/^[0-9A-Z]*$/i,pl:/^[0-9A-Z]*$/i,pt:/^[0-9A-Z]*$/i,ru:/^[0-9-]*$/i,sk:/^[0-9A-Z]*$/i,sr:/^[0-9A-Z]*$/i,sv:/^[0-9A-Z]*$/i,tr:/^[0-9A-Z]*$/i,uk:/^[0-9-]*$/i,ar:/^[0-9]*$/,az:/^[0-9A-Z]*$/i,ug:/^[0-9A-Z]*$/i},zu={en:/^[0-9A-Z_-]*$/i,cs:/^[0-9A-Z_-]*$/i,da:/^[0-9A-Z_-]*$/i,de:/^[0-9A-Z_-]*$/i,es:/^[0-9A-Z_-]*$/i,fr:/^[0-9A-Z_-]*$/i,it:/^[0-9A-Z\xC0-\xFF_-]*$/i,lt:/^[0-9A-Z_-]*$/i,nl:/^[0-9A-Z_-]*$/i,hu:/^[0-9A-Z_-]*$/i,pl:/^[0-9A-Z_-]*$/i,pt:/^[0-9A-Z_-]*$/i,ru:/^[0-9-_-]*$/i,sk:/^[0-9A-Z_-]*$/i,sr:/^[0-9A-Z_-]*$/i,sv:/^[0-9A-Z_-]*$/i,tr:/^[0-9A-Z_-]*$/i,uk:/^[0-9-_-]*$/i,ar:/^[0-9_-]*$/,az:/^[0-9A-Z_-]*$/i,ug:/^[0-9A-Z_-]*$/i},Rc=t=>{if(!!t)return Array.isArray(t)?t[0]:t.locale};function Pn(t,e){return Array.isArray(t)?t[0]:t[e]}function ft(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const Ww=(t,e)=>{if(ft(t))return!0;const n=Rc(e);if(Array.isArray(t))return t.every(o=>Ww(o,{locale:n}));const r=String(t);return n?(Pu[n]||Pu.en).test(r):Object.keys(Pu).some(o=>Pu[o].test(r))},Jw=(t,e)=>{if(ft(t))return!0;const n=Rc(e);if(Array.isArray(t))return t.every(o=>Jw(o,{locale:n}));const r=String(t);return n?(zu[n]||zu.en).test(r):Object.keys(zu).some(o=>zu[o].test(r))},Kw=(t,e)=>{if(ft(t))return!0;const n=Rc(e);if(Array.isArray(t))return t.every(o=>Kw(o,{locale:n}));const r=String(t);return n?(Lu[n]||Lu.en).test(r):Object.keys(Lu).some(o=>Lu[o].test(r))},Zw=(t,e)=>{if(ft(t))return!0;const n=Rc(e);if(Array.isArray(t))return t.every(o=>Zw(o,{locale:n}));const r=String(t);return n?(Bu[n]||Bu.en).test(r):Object.keys(Bu).some(o=>Bu[o].test(r))};function tL(t){return t?Array.isArray(t)?{min:t[0],max:t[1]}:t:{min:0,max:0}}const Gw=(t,e)=>{if(ft(t))return!0;const{min:n,max:r}=tL(e);if(Array.isArray(t))return t.every(i=>!!Gw(i,{min:n,max:r}));const o=Number(t);return Number(n)<=o&&Number(r)>=o},nL=(t,e)=>{const n=Pn(e,"target");return String(t)===String(n)},Yw=(t,e)=>{if(ft(t))return!0;const n=Pn(e,"length");if(Array.isArray(t))return t.every(o=>Yw(o,{length:n}));const r=String(t);return/^[0-9]*$/.test(r)&&r.length===Number(n)},rL=(t,e,n)=>{const r=window.URL||window.webkitURL;return new Promise(o=>{const i=new Image;i.onerror=()=>o(!1),i.onload=()=>o(i.width===e&&i.height===n),i.src=r.createObjectURL(t)})};function oL(t){return t?Array.isArray(t)?{width:Number(t[0]),height:Number(t[1])}:{width:Number(t.width),height:Number(t.height)}:{width:0,height:0}}const iL=(t,e)=>{if(ft(t))return!0;const{width:n,height:r}=oL(e),o=[],i=Array.isArray(t)?t:[t];for(let s=0;s<i.length;s++){if(!/\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(i[s].name))return Promise.resolve(!1);o.push(i[s])}return Promise.all(o.map(s=>rL(s,n,r))).then(s=>s.every(a=>a))},sL=t=>{if(ft(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))},aL=(t,e)=>{if(ft(t))return!0;e||(e=[]);const n=new RegExp(`.(${e.join("|")})$`,"i");return Array.isArray(t)?t.every(r=>n.test(r.name)):n.test(t.name)},uL=t=>{if(ft(t))return!0;const e=/\.(jpg|svg|jpeg|png|bmp|gif|webp)$/i;return Array.isArray(t)?t.every(n=>e.test(n.name)):e.test(t.name)},lL=t=>ft(t)?!0:Array.isArray(t)?t.every(e=>/^-?[0-9]+$/.test(String(e))):/^-?[0-9]+$/.test(String(t)),cL=(t,e)=>{const n=Pn(e,"other");return t===n},fL=(t,e)=>{const n=Pn(e,"other");return t!==n};function Qw(t){return t==null}function pL(t){return Array.isArray(t)&&t.length===0}const dL=(t,e)=>{const n=Pn(e,"length");return Qw(t)?!1:(typeof t=="number"&&(t=String(t)),t.length||(t=Array.from(t)),t.length===Number(n))},Xw=(t,e)=>{if(ft(t))return!0;const n=Pn(e,"length");return Array.isArray(t)?t.every(r=>Xw(r,{length:n})):String(t).length<=Number(n)},eS=(t,e)=>{if(ft(t))return!0;const n=Pn(e,"max");return Array.isArray(t)?t.length>0&&t.every(r=>eS(r,{max:n})):Number(t)<=Number(n)},hL=(t,e)=>{if(ft(t))return!0;e||(e=[]);const n=new RegExp(`${e.join("|").replace("*",".+")}$`,"i");return Array.isArray(t)?t.every(r=>n.test(r.type)):n.test(t.type)},tS=(t,e)=>{if(ft(t))return!0;const n=Pn(e,"length");return Array.isArray(t)?t.every(r=>tS(r,{length:n})):String(t).length>=Number(n)},nS=(t,e)=>{if(ft(t))return!0;const n=Pn(e,"min");return Array.isArray(t)?t.length>0&&t.every(r=>nS(r,{min:n})):Number(t)>=Number(n)},Ih=(t,e)=>ft(t)?!0:Array.isArray(t)?t.every(n=>Ih(n,e)):Array.from(e).some(n=>n==t),mL=(t,e)=>ft(t)?!0:!Ih(t,e),vL=/^[]+$/,gL=/^[0-9]+$/,yL=t=>{if(ft(t))return!0;const e=n=>{const r=String(n);return gL.test(r)||vL.test(r)};return Array.isArray(t)?t.every(e):e(t)},rS=(t,e)=>{if(ft(t))return!0;let n=Pn(e,"regex");return typeof n=="string"&&(n=new RegExp(n)),Array.isArray(t)?t.every(r=>rS(r,{regex:n})):n.test(String(t))},bL=t=>Qw(t)||pL(t)||t===!1?!1:!!String(t).trim().length,CL=(t,e)=>{if(ft(t))return!0;let n=Pn(e,"size");if(n=Number(n),isNaN(n))return!1;const r=n*1024;if(!Array.isArray(t))return t.size<=r;for(let o=0;o<t.length;o++)if(t[o].size>r)return!1;return!0},wL=(t,e)=>{var n;if(ft(t))return!0;let r=Pn(e,"pattern");typeof r=="string"&&(r=new RegExp(r));try{new URL(t)}catch{return!1}return(n=r==null?void 0:r.test(t))!==null&&n!==void 0?n:!0},jg={alpha_dash:Jw,alpha_num:Kw,alpha_spaces:Zw,alpha:Ww,between:Gw,confirmed:nL,digits:Yw,dimensions:iL,email:sL,ext:aL,image:uL,integer:lL,is_not:fL,is:cL,length:dL,max_value:eS,max:Xw,mimes:hL,min_value:nS,min:tS,not_one_of:mL,numeric:yL,one_of:Ih,regex:rS,required:bL,size:CL,url:wL},SL="fr",EL={_default:"Le champ {field} est invalide",alpha:"Le champ {field} ne peut contenir que des lettres",alpha_num:"Le champ {field} ne peut contenir que des caract\xE8res alpha-num\xE9riques",alpha_dash:"Le champ {field} ne peut contenir que des caract\xE8res alpha-num\xE9riques, tirets ou soulign\xE9s",alpha_spaces:"Le champ {field} ne peut contenir que des lettres ou des espaces",between:"Le champ {field} doit \xEAtre compris entre 0:{min} et 1:{max}",confirmed:"Le champ {field} ne correspond pas",digits:"Le champ {field} doit \xEAtre un nombre entier de 0:{length} chiffres",dimensions:"Le champ {field} doit avoir une taille de 0:{width} pixels par 1:{height} pixels",email:"Le champ {field} doit \xEAtre une adresse e-mail valide",excluded:"Le champ {field} doit \xEAtre une valeur valide",ext:"Le champ {field} doit \xEAtre un fichier valide",image:"Le champ {field} doit \xEAtre une image",integer:"Le champ {field} doit \xEAtre un entier",length:"Le champ {field} doit contenir 0:{length} caract\xE8res",max_value:"Le champ {field} doit avoir une valeur de 0:{max} ou moins",max:"Le champ {field} ne peut pas contenir plus de 0:{length} caract\xE8res",mimes:"Le champ {field} doit avoir un type MIME valide",min_value:"Le champ {field} doit avoir une valeur de 0:{min} ou plus",min:"Le champ {field} doit contenir au minimum 0:{length} caract\xE8res",numeric:"Le champ {field} ne peut contenir que des chiffres",one_of:"Le champ {field} doit \xEAtre une valeur valide",regex:"Le champ {field} est invalide",required:"Le champ {field} est obligatoire",required_if:"Le champ {field} est obligatoire lorsque {target} poss\xE8de cette valeur",size:"Le champ {field} doit avoir un poids inf\xE9rieur \xE0 0:{size}KB"};var AL={code:SL,messages:EL},kL=Jo(async()=>{Object.keys(jg).forEach(t=>{t!=="default"&&lx(t,jg[t])}),Ox({generateMessage:XB({fr:AL})}),eL("fr")}),DL=[wD,PD,ZD,qB,UB,JB,ZB,GB,kL];const xL={props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"404"},statusMessage:{type:String,default:"Not Found"},description:{type:String,default:"Sorry, the page you are looking for could not be found."},backHome:{type:String,default:"Go back home"}},setup(t,{expose:e}){e();const n=t;xr({title:`${n.statusCode} - ${n.statusMessage} | ${n.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}a{color:inherit;text-decoration:inherit}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p{margin:0}h1{font-size:inherit;font-weight:inherit}'}]});const r={props:n,useHead:xr};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},OL=t=>(cd("data-v-220cce0a"),t=t(),fd(),t),_L={class:"font-sans antialiased bg-white dark:bg-black text-black dark:text-white grid min-h-screen place-content-center overflow-hidden"},TL=OL(()=>wt("div",{class:"fixed left-0 right-0 spotlight z-10"},null,-1)),ML={class:"max-w-520px text-center z-20"},NL=["textContent"],FL=["textContent"],RL={class:"w-full flex items-center justify-center"};function IL(t,e,n,r,o,i){const s=CD;return xn(),rc("div",_L,[TL,wt("div",ML,[wt("h1",{class:"text-8xl sm:text-10xl font-medium mb-8",textContent:No(n.statusCode)},null,8,NL),wt("p",{class:"text-xl px-8 sm:px-0 sm:text-4xl font-light mb-16 leading-tight",textContent:No(n.description)},null,8,FL),wt("div",RL,[et(s,{to:"/",class:"gradient-border text-md sm:text-xl py-2 px-4 sm:py-3 sm:px-6 cursor-pointer"},{default:xa(()=>[wd(No(n.backHome),1)]),_:1})])])])}var qg=Zo(xL,[["render",IL],["__scopeId","data-v-220cce0a"]]);const PL={props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"500"},statusMessage:{type:String,default:"Server error"},description:{type:String,default:"This page is temporarily unavailable."}},setup(t,{expose:e}){e();const n=t;xr({title:`${n.statusCode} - ${n.statusMessage} | ${n.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p{margin:0}h1{font-size:inherit;font-weight:inherit}'}]});const r={props:n,useHead:xr};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},BL=t=>(cd("data-v-2b1feed0"),t=t(),fd(),t),LL={class:"font-sans antialiased bg-white dark:bg-black text-black dark:text-white grid min-h-screen place-content-center overflow-hidden"},zL=BL(()=>wt("div",{class:"fixed -bottom-1/2 left-0 right-0 h-1/2 spotlight"},null,-1)),$L={class:"max-w-520px text-center"},HL=["textContent"],VL=["textContent"];function jL(t,e,n,r,o,i){return xn(),rc("div",LL,[zL,wt("div",$L,[wt("h1",{class:"text-8xl sm:text-10xl font-medium mb-8",textContent:No(n.statusCode)},null,8,HL),wt("p",{class:"text-xl px-8 sm:px-0 sm:text-4xl font-light mb-16 leading-tight",textContent:No(n.description)},null,8,VL)])])}var Ug=Zo(PL,[["render",jL],["__scopeId","data-v-2b1feed0"]]);const qL={props:{appName:{type:String,default:"Nuxt"},version:{type:String,default:""},statusCode:{type:String,default:"500"},statusMessage:{type:String,default:"Server error"},description:{type:String,default:"An error occurred in the application and the page could not be served. If you are the application owner, check your server logs for details."},stack:{type:String,default:""}},setup(t,{expose:e}){e();const n=t;xr({title:`${n.statusCode} - ${n.statusMessage} | ${n.appName}`,script:[],style:[{children:'*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(14, 165, 233, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{margin:0;font-family:inherit;line-height:inherit}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5}h1,p,pre{margin:0}h1{font-size:inherit;font-weight:inherit}pre{font-size:1em;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}'}]});const r={props:n,useHead:xr};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},UL=t=>(cd("data-v-3a6d7c04"),t=t(),fd(),t),WL={class:"font-sans antialiased bg-white px-10 pt-14 dark:bg-black text-black dark:text-white min-h-screen flex flex-col"},JL=UL(()=>wt("div",{class:"fixed left-0 right-0 spotlight"},null,-1)),KL=["textContent"],ZL=["textContent"],GL={class:"bg-white rounded-t-md bg-black/5 dark:bg-white/10 flex-1 overflow-y-auto h-auto"},YL=["innerHTML"];function QL(t,e,n,r,o,i){return xn(),rc("div",WL,[JL,wt("h1",{class:"text-6xl sm:text-8xl font-medium mb-6",textContent:No(n.statusCode)},null,8,KL),wt("p",{class:"text-xl sm:text-2xl font-light mb-8 leading-tight",textContent:No(n.description)},null,8,ZL),wt("div",GL,[wt("pre",{class:"text-xl font-light leading-tight z-10 p-8",innerHTML:n.stack},null,8,YL)])])}var XL=Zo(qL,[["render",QL],["__scopeId","data-v-3a6d7c04"]]);const ez={props:{error:Object},setup(t,{expose:e}){var p;e();const n=t,r=n.error,o=(r.stack||"").split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`),i=String(r.statusCode||500),s=i==="404",a=(p=r.statusMessage)!=null?p:s?"Page Not Found":"Internal Server Error",u=r.message||r.toString(),f={props:n,error:r,stacktrace:o,statusCode:i,is404:s,statusMessage:a,description:u,stack:void 0,ErrorTemplate:s?qg:Ug,Error404:qg,Error500:Ug,ErrorDev:XL};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}};function tz(t,e,n,r,o,i){return xn(),to(r.ErrorTemplate,dS(Uy({statusCode:r.statusCode,statusMessage:r.statusMessage,description:r.description,stack:r.stack})),null,16)}var nz=Zo(ez,[["render",tz]]);const rz={setup(t,{expose:e}){e();const n=hn(),r=()=>n.callHook("app:suspense:resolve"),o=n.hooks.callHookWith(a=>a.map(u=>u()),"vue:setup"),i=sa();jf((a,u,l)=>{n.hooks.callHook("vue:error",a,u,l).catch(c=>console.error("[nuxt] Error in `vue:error` hook",c))});const s={nuxtApp:n,onResolve:r,results:o,error:i,onErrorCaptured:jf,callWithNuxt:xo,throwError:Hu,useError:sa,useNuxtApp:hn,ErrorComponent:nz};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}};function oz(t,e,n,r,o,i){const s=bd("App");return xn(),to(Ey,{onResolve:r.onResolve},{default:xa(()=>[r.error?(xn(),to(r.ErrorComponent,{key:0,error:r.error},null,8,["error"])):(xn(),to(s,{key:1}))]),_:1})}var Wg=Zo(rz,[["render",oz]]),Jg={admin:Xh(()=>Ue(()=>import("./admin-06886841.mjs"),["admin-06886841.mjs","admin.10864a00.css","Icon-f078fbba.mjs","Notification-d1927b21.mjs","use-outside-click-ea4f1ee7.mjs","calculate-active-index-130b59fd.mjs","transition-2ed963cb.mjs"])),default:Xh(()=>Ue(()=>import("./default-5cc55822.mjs"),["default-5cc55822.mjs","default.84a120f6.css","asyncData-bc25d67a.mjs","TextField-5fde64fb.mjs","Icon-f078fbba.mjs","Notification-d1927b21.mjs","use-outside-click-ea4f1ee7.mjs","calculate-active-index-130b59fd.mjs","transition-2ed963cb.mjs"]))};const iz={name:"layout",mode:"out-in"};var sz=Ke({props:{name:{type:[String,Boolean,Object],default:null}},setup(t,e){const n=D0();return()=>{var i,s,a;const r=(s=(i=Le(t.name)?t.name.value:t.name)!=null?i:n.meta.layout)!=null?s:"default",o=r&&r in Jg;return sp(sc,o&&((a=n.meta.layoutTransition)!=null?a:iz),sp(Jg[r],o,e.slots)).default()}}});const az={};function uz(t,e){const n=bd("NuxtPage"),r=sz;return xn(),to(r,null,{default:xa(()=>[et(n)]),_:1})}var lz=Zo(az,[["render",uz]]);globalThis.$fetch||(globalThis.$fetch=l0.create({baseURL:LA()}));let Kg;const cz=sk(DL);Kg=async function(){var o;const n=Boolean((o=window.__NUXT__)==null?void 0:o.serverRendered)?ZE(Wg):KE(Wg);n.component("App",lz);const r=rk({vueApp:n});r.hooks.hookOnce("app:suspense:resolve",()=>{r.isHydrating=!1});try{await ik(r,cz)}catch(i){await r.callHook("app:error",i),r.payload.error=r.payload.error||i}try{await r.hooks.callHook("app:created",n),await r.hooks.callHook("app:beforeMount",n),n.mount("#__nuxt"),await r.hooks.callHook("app:mounted",n),await tr()}catch(i){await r.callHook("app:error",i),r.payload.error=r.payload.error||i}},Kg().catch(t=>{console.error("Error while mounting app:",t)});export{Nz as $,cr as A,le as B,ce as C,Sz as D,zx as E,on as F,Cz as G,Oz as H,Dz as I,Az as J,rE as K,kz as L,Fe as M,Sr as N,it as O,co as P,Qu as Q,tr as R,Dn as S,jE as T,U1 as U,UE as V,xi as W,$n as X,_z as Y,Mz as Z,Zo as _,Ez as a,Fz as a0,Rz as a1,Iz as a2,Bz as a3,Pz as a4,jz as a5,$z as a6,Hz as a7,qz as a8,Uz as a9,Vz as aa,lr as ab,mz as ac,Tz as ad,io as ae,Lz as af,yz as ag,tE as ah,$t as ai,vD as aj,pz as ak,CD as al,Wz as am,Jz as an,Kz as ao,Zz as ap,Gz as aq,bz as ar,Vw as as,gz as at,wz as au,sc as av,k0 as aw,et as b,rc as c,Ke as d,to as e,dz as f,wd as g,tt as h,ke as i,wt as j,hz as k,xz as l,fD as m,Aa as n,xn as o,vz as p,zz as q,bd as r,Le as s,No as t,D0 as u,hn as v,xa as w,T1 as x,md as y,sn as z};
